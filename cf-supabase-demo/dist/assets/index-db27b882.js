var ap=Object.defineProperty;var op=(e,t,n)=>t in e?ap(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>(op(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var td={exports:{}},Wi={},nd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),cp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),vp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),dc=Symbol.iterator;function wp(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sd=Object.assign,id={};function jr(e,t,n){this.props=e,this.context=t,this.refs=id,this.updater=n||rd}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ad(){}ad.prototype=jr.prototype;function il(e,t,n){this.props=e,this.context=t,this.refs=id,this.updater=n||rd}var al=il.prototype=new ad;al.constructor=il;sd(al,jr.prototype);al.isPureReactComponent=!0;var hc=Array.isArray,od=Object.prototype.hasOwnProperty,ol={current:null},ld={key:!0,ref:!0,__self:!0,__source:!0};function cd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)od.call(t,r)&&!ld.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ss,type:e,key:i,ref:o,props:s,_owner:ol.current}}function _p(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ll(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function xp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xp(""+e.key):t.toString(36)}function ri(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ss:case cp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ma(o,0):r,hc(s)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),ri(s,t,n,"",function(u){return u})):s!=null&&(ll(s)&&(s=_p(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",hc(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ma(i,l);o+=ri(i,t,n,c,s)}else if(c=wp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ma(i,l++),o+=ri(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Os(e,t,n){if(e==null)return e;var r=[],s=0;return ri(e,r,"","",function(i){return t.call(n,i,s++)}),r}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},si={transition:null},Sp={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:si,ReactCurrentOwner:ol};function ud(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Os,forEach:function(e,t,n){Os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!ll(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=jr;G.Fragment=up;G.Profiler=hp;G.PureComponent=il;G.StrictMode=dp;G.Suspense=gp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;G.act=ud;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ol.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)od.call(t,c)&&!ld.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ss,type:e.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fp,_context:e},e.Consumer=e};G.createElement=cd;G.createFactory=function(e){var t=cd.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:mp,render:e}};G.isValidElement=ll;G.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:jp}};G.memo=function(e,t){return{$$typeof:vp,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}};G.unstable_act=ud;G.useCallback=function(e,t){return De.current.useCallback(e,t)};G.useContext=function(e){return De.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return De.current.useDeferredValue(e)};G.useEffect=function(e,t){return De.current.useEffect(e,t)};G.useId=function(){return De.current.useId()};G.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return De.current.useMemo(e,t)};G.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};G.useRef=function(e){return De.current.useRef(e)};G.useState=function(e){return De.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return De.current.useTransition()};G.version="18.3.1";nd.exports=G;var g=nd.exports;const bp=ed(g);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=g,Cp=Symbol.for("react.element"),Ep=Symbol.for("react.fragment"),Np=Object.prototype.hasOwnProperty,Tp=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pp={key:!0,ref:!0,__self:!0,__source:!0};function dd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Np.call(t,r)&&!Pp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Cp,type:e,key:i,ref:o,props:s,_owner:Tp.current}}Wi.Fragment=Ep;Wi.jsx=dd;Wi.jsxs=dd;td.exports=Wi;var a=td.exports,Ya={},hd={exports:{}},Ye={},fd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,F){var L=N.length;N.push(F);e:for(;0<L;){var M=L-1>>>1,V=N[M];if(0<s(V,F))N[M]=F,N[L]=V,L=M;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],L=N.pop();if(L!==F){N[0]=L;e:for(var M=0,V=N.length,K=V>>>1;M<K;){var se=2*(M+1)-1,mt=N[se],Fe=se+1,te=N[Fe];if(0>s(mt,L))Fe<V&&0>s(te,mt)?(N[M]=te,N[Fe]=L,M=Fe):(N[M]=mt,N[se]=L,M=se);else if(Fe<V&&0>s(te,L))N[M]=te,N[Fe]=L,M=Fe;else break e}}return F}function s(N,F){var L=N.sortIndex-F.sortIndex;return L!==0?L:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,w=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=N)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function _(N){if(k=!1,m(N),!w)if(n(c)!==null)w=!0,U(C);else{var F=n(u);F!==null&&O(_,F.startTime-N)}}function C(N,F){w=!1,k&&(k=!1,v(b),b=-1),y=!0;var L=f;try{for(m(F),h=n(c);h!==null&&(!(h.expirationTime>F)||N&&!I());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var V=M(h.expirationTime<=F);F=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),m(F)}else r(c);h=n(c)}if(h!==null)var K=!0;else{var se=n(u);se!==null&&O(_,se.startTime-F),K=!1}return K}finally{h=null,f=L,y=!1}}var j=!1,S=null,b=-1,T=5,E=-1;function I(){return!(e.unstable_now()-E<T)}function P(){if(S!==null){var N=e.unstable_now();E=N;var F=!0;try{F=S(!0,N)}finally{F?D():(j=!1,S=null)}}else j=!1}var D;if(typeof p=="function")D=function(){p(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=P,D=function(){B.postMessage(null)}}else D=function(){x(P,0)};function U(N){S=N,j||(j=!0,D())}function O(N,F){b=x(function(){N(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,U(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var L=f;f=F;try{return N()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=f;f=N;try{return F()}finally{f=L}},e.unstable_scheduleCallback=function(N,F,L){var M=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?M+L:M):L=M,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,N={id:d++,callback:F,priorityLevel:N,startTime:L,expirationTime:V,sortIndex:-1},L>M?(N.sortIndex=L,t(u,N),n(c)===null&&N===n(u)&&(k?(v(b),b=-1):k=!0,O(_,L-M))):(N.sortIndex=V,t(c,N),w||y||(w=!0,U(C))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var F=f;return function(){var L=f;f=F;try{return N.apply(this,arguments)}finally{f=L}}}})(pd);fd.exports=pd;var $p=fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=g,Qe=$p;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var md=new Set,ss={};function Dn(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(ss[e]=t,e=0;e<t.length;e++)md.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,Op=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},mc={};function Ap(e){return Xa.call(mc,e)?!0:Xa.call(pc,e)?!1:Op.test(e)?mc[e]=!0:(pc[e]=!0,!1)}function Ip(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,n,r){if(t===null||typeof t>"u"||Ip(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cl,ul);Ne[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cl,ul);Ne[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cl,ul);Ne[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function dl(e,t,n,r){var s=Ne.hasOwnProperty(t)?Ne[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,n,s,r)&&(n=null),r||s===null?Ap(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Gn=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),gd=Symbol.for("react.provider"),vd=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),eo=Symbol.for("react.suspense"),to=Symbol.for("react.suspense_list"),pl=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),yd=Symbol.for("react.offscreen"),gc=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,ga;function zr(e){if(ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var va=!1;function ya(e,t){if(!e||va)return"";va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{va=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function Lp(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function no(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gn:return"Fragment";case Kn:return"Portal";case Za:return"Profiler";case hl:return"StrictMode";case eo:return"Suspense";case to:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vd:return(e.displayName||"Context")+".Consumer";case gd:return(e._context.displayName||"Context")+".Provider";case fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pl:return t=e.displayName||null,t!==null?t:no(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return no(e(t))}catch{}}return null}function Fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return no(t);case 8:return t===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mp(e){var t=wd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=Mp(e))}function _d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ro(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xd(e,t){t=t.checked,t!=null&&dl(e,"checked",t,!1)}function so(e,t){xd(e,t);var n=un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?io(e,t.type,n):t.hasOwnProperty("defaultValue")&&io(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function io(e,t,n){(t!=="number"||yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Br=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Br(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function jd(e,t){var n=un(t.value),r=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function is(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function kd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function Cd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var zp=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lo(e,t){if(t){if(zp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ho=null,or=null,lr=null;function xc(e){if(e=Cs(e)){if(typeof ho!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Gi(t),ho(e.stateNode,e.type,t))}}function Ed(e){or?lr?lr.push(e):lr=[e]:or=e}function Nd(){if(or){var e=or,t=lr;if(lr=or=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function Td(e,t){return e(t)}function Pd(){}var wa=!1;function $d(e,t,n){if(wa)return e(t,n);wa=!0;try{return Td(e,t,n)}finally{wa=!1,(or!==null||lr!==null)&&(Pd(),Nd())}}function as(e,t){var n=e.stateNode;if(n===null)return null;var r=Gi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var fo=!1;if(Lt)try{var $r={};Object.defineProperty($r,"passive",{get:function(){fo=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{fo=!1}function Bp(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hr=!1,wi=null,_i=!1,po=null,Jp={onError:function(e){Hr=!0,wi=e}};function Wp(e,t,n,r,s,i,o,l,c){Hr=!1,wi=null,Bp.apply(Jp,arguments)}function Vp(e,t,n,r,s,i,o,l,c){if(Wp.apply(this,arguments),Hr){if(Hr){var u=wi;Hr=!1,wi=null}else throw Error(A(198));_i||(_i=!0,po=u)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jc(e){if(Ln(e)!==e)throw Error(A(188))}function qp(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jc(s),e;if(i===r)return jc(s),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Od(e){return e=qp(e),e!==null?Ad(e):null}function Ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ad(e);if(t!==null)return t;e=e.sibling}return null}var Id=Qe.unstable_scheduleCallback,Sc=Qe.unstable_cancelCallback,Hp=Qe.unstable_shouldYield,Kp=Qe.unstable_requestPaint,me=Qe.unstable_now,Gp=Qe.unstable_getCurrentPriorityLevel,gl=Qe.unstable_ImmediatePriority,Dd=Qe.unstable_UserBlockingPriority,xi=Qe.unstable_NormalPriority,Qp=Qe.unstable_LowPriority,Ld=Qe.unstable_IdlePriority,Vi=null,St=null;function Yp(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:em,Xp=Math.log,Zp=Math.LN2;function em(e){return e>>>=0,e===0?32:31-(Xp(e)/Zp|0)|0}var Ls=64,Fs=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Jr(l):(i&=o,i!==0&&(r=Jr(i)))}else o=n&~s,o!==0?r=Jr(o):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),s=1<<n,r|=e[n],t&=~s;return r}function tm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ht(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=tm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fd(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function _a(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function rm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ht(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Z=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ud,yl,zd,Bd,Jd,go=!1,Ms=[],tn=null,nn=null,rn=null,os=new Map,ls=new Map,Qt=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function Rr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cs(t),t!==null&&yl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function im(e,t,n,r,s){switch(t){case"focusin":return tn=Rr(tn,e,t,n,r,s),!0;case"dragenter":return nn=Rr(nn,e,t,n,r,s),!0;case"mouseover":return rn=Rr(rn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return os.set(i,Rr(os.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ls.set(i,Rr(ls.get(i)||null,e,t,n,r,s)),!0}return!1}function Wd(e){var t=bn(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=Rd(n),t!==null){e.blockedOn=t,Jd(e.priority,function(){zd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uo=r,n.target.dispatchEvent(r),uo=null}else return t=Cs(n),t!==null&&yl(t),e.blockedOn=n,!1;t.shift()}return!0}function kc(e,t,n){ii(e)&&n.delete(t)}function am(){go=!1,tn!==null&&ii(tn)&&(tn=null),nn!==null&&ii(nn)&&(nn=null),rn!==null&&ii(rn)&&(rn=null),os.forEach(kc),ls.forEach(kc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,go||(go=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,am)))}function cs(e){function t(s){return Or(s,e)}if(0<Ms.length){Or(Ms[0],e);for(var n=1;n<Ms.length;n++){var r=Ms[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&Or(tn,e),nn!==null&&Or(nn,e),rn!==null&&Or(rn,e),os.forEach(t),ls.forEach(t),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Wd(n),n.blockedOn===null&&Qt.shift()}var cr=Jt.ReactCurrentBatchConfig,Si=!0;function om(e,t,n,r){var s=Z,i=cr.transition;cr.transition=null;try{Z=1,wl(e,t,n,r)}finally{Z=s,cr.transition=i}}function lm(e,t,n,r){var s=Z,i=cr.transition;cr.transition=null;try{Z=4,wl(e,t,n,r)}finally{Z=s,cr.transition=i}}function wl(e,t,n,r){if(Si){var s=vo(e,t,n,r);if(s===null)Pa(e,t,r,bi,n),bc(e,r);else if(im(s,e,t,n,r))r.stopPropagation();else if(bc(e,r),t&4&&-1<sm.indexOf(e)){for(;s!==null;){var i=Cs(s);if(i!==null&&Ud(i),i=vo(e,t,n,r),i===null&&Pa(e,t,r,bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pa(e,t,r,null,n)}}var bi=null;function vo(e,t,n,r){if(bi=null,e=ml(r),e=bn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bi=e,null}function Vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gp()){case gl:return 1;case Dd:return 4;case xi:case Qp:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var Zt=null,_l=null,ai=null;function qd(){if(ai)return ai;var e,t=_l,n=t.length,r,s="value"in Zt?Zt.value:Zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ai=s.slice(e,1<r?1-r:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function Cc(){return!1}function Xe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:Cc,this.isPropagationStopped=Cc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Xe(Sr),ks=de({},Sr,{view:0,detail:0}),cm=Xe(ks),xa,ja,Ar,qi=de({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(xa=e.screenX-Ar.screenX,ja=e.screenY-Ar.screenY):ja=xa=0,Ar=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),Ec=Xe(qi),um=de({},qi,{dataTransfer:0}),dm=Xe(um),hm=de({},ks,{relatedTarget:0}),Sa=Xe(hm),fm=de({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=Xe(fm),mm=de({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gm=Xe(mm),vm=de({},Sr,{data:0}),Nc=Xe(vm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_m[e])?!!t[e]:!1}function jl(){return xm}var jm=de({},ks,{key:function(e){if(e.key){var t=ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=Xe(jm),bm=de({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=Xe(bm),km=de({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),Cm=Xe(km),Em=de({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=Xe(Em),Tm=de({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=Xe(Tm),$m=[9,13,27,32],Sl=Lt&&"CompositionEvent"in window,Kr=null;Lt&&"documentMode"in document&&(Kr=document.documentMode);var Rm=Lt&&"TextEvent"in window&&!Kr,Hd=Lt&&(!Sl||Kr&&8<Kr&&11>=Kr),Pc=String.fromCharCode(32),$c=!1;function Kd(e,t){switch(e){case"keyup":return $m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function Om(e,t){switch(e){case"compositionend":return Gd(t);case"keypress":return t.which!==32?null:($c=!0,Pc);case"textInput":return e=t.data,e===Pc&&$c?null:e;default:return null}}function Am(e,t){if(Qn)return e==="compositionend"||!Sl&&Kd(e,t)?(e=qd(),ai=_l=Zt=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hd&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function Qd(e,t,n,r){Ed(r),t=ki(t,"onChange"),0<t.length&&(n=new xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gr=null,us=null;function Dm(e){oh(e,0)}function Hi(e){var t=Zn(e);if(_d(t))return e}function Lm(e,t){if(e==="change")return t}var Yd=!1;if(Lt){var ba;if(Lt){var ka="oninput"in document;if(!ka){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),ka=typeof Oc.oninput=="function"}ba=ka}else ba=!1;Yd=ba&&(!document.documentMode||9<document.documentMode)}function Ac(){Gr&&(Gr.detachEvent("onpropertychange",Xd),us=Gr=null)}function Xd(e){if(e.propertyName==="value"&&Hi(us)){var t=[];Qd(t,us,e,ml(e)),$d(Dm,t)}}function Fm(e,t,n){e==="focusin"?(Ac(),Gr=t,us=n,Gr.attachEvent("onpropertychange",Xd)):e==="focusout"&&Ac()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(us)}function Um(e,t){if(e==="click")return Hi(t)}function zm(e,t){if(e==="input"||e==="change")return Hi(t)}function Bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Bm;function ds(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xa.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var n=Ic(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ic(n)}}function Zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eh(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yi(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jm(e){var t=eh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zd(n.ownerDocument.documentElement,n)){if(r!==null&&bl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Dc(n,i);var o=Dc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wm=Lt&&"documentMode"in document&&11>=document.documentMode,Yn=null,yo=null,Qr=null,wo=!1;function Lc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wo||Yn==null||Yn!==yi(r)||(r=Yn,"selectionStart"in r&&bl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&ds(Qr,r)||(Qr=r,r=ki(yo,"onSelect"),0<r.length&&(t=new xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Ca={},th={};Lt&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Ki(e){if(Ca[e])return Ca[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in th)return Ca[e]=t[n];return e}var nh=Ki("animationend"),rh=Ki("animationiteration"),sh=Ki("animationstart"),ih=Ki("transitionend"),ah=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){ah.set(e,t),Dn(t,[e])}for(var Ea=0;Ea<Fc.length;Ea++){var Na=Fc[Ea],Vm=Na.toLowerCase(),qm=Na[0].toUpperCase()+Na.slice(1);hn(Vm,"on"+qm)}hn(nh,"onAnimationEnd");hn(rh,"onAnimationIteration");hn(sh,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(ih,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Mc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vp(r,t,void 0,e),e.currentTarget=null}function oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mc(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mc(s,l,u),i=c}}}if(_i)throw e=po,_i=!1,po=null,e}function ie(e,t){var n=t[bo];n===void 0&&(n=t[bo]=new Set);var r=e+"__bubble";n.has(r)||(lh(t,e,2,!1),n.add(r))}function Ta(e,t,n){var r=0;t&&(r|=4),lh(n,e,r,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[Bs]){e[Bs]=!0,md.forEach(function(n){n!=="selectionchange"&&(Hm.has(n)||Ta(n,!1,e),Ta(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Ta("selectionchange",!1,t))}}function lh(e,t,n,r){switch(Vd(t)){case 1:var s=om;break;case 4:s=lm;break;default:s=wl}n=s.bind(null,t,n,e),s=void 0,!fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Pa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=bn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}$d(function(){var u=i,d=ml(n),h=[];e:{var f=ah.get(e);if(f!==void 0){var y=xl,w=e;switch(e){case"keypress":if(oi(n)===0)break e;case"keydown":case"keyup":y=Sm;break;case"focusin":w="focus",y=Sa;break;case"focusout":w="blur",y=Sa;break;case"beforeblur":case"afterblur":y=Sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Cm;break;case nh:case rh:case sh:y=pm;break;case ih:y=Nm;break;case"scroll":y=cm;break;case"wheel":y=Pm;break;case"copy":case"cut":case"paste":y=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tc}var k=(t&4)!==0,x=!k&&e==="scroll",v=k?f!==null?f+"Capture":null:f;k=[];for(var p=u,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,v!==null&&(_=as(p,v),_!=null&&k.push(fs(p,_,m)))),x)break;p=p.return}0<k.length&&(f=new y(f,w,null,n,d),h.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==uo&&(w=n.relatedTarget||n.fromElement)&&(bn(w)||w[Ft]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?bn(w):null,w!==null&&(x=Ln(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(k=Ec,_="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=Tc,_="onPointerLeave",v="onPointerEnter",p="pointer"),x=y==null?f:Zn(y),m=w==null?f:Zn(w),f=new k(_,p+"leave",y,n,d),f.target=x,f.relatedTarget=m,_=null,bn(d)===u&&(k=new k(v,p+"enter",w,n,d),k.target=m,k.relatedTarget=x,_=k),x=_,y&&w)t:{for(k=y,v=w,p=0,m=k;m;m=Bn(m))p++;for(m=0,_=v;_;_=Bn(_))m++;for(;0<p-m;)k=Bn(k),p--;for(;0<m-p;)v=Bn(v),m--;for(;p--;){if(k===v||v!==null&&k===v.alternate)break t;k=Bn(k),v=Bn(v)}k=null}else k=null;y!==null&&Uc(h,f,y,k,!1),w!==null&&x!==null&&Uc(h,x,w,k,!0)}}e:{if(f=u?Zn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=Lm;else if(Rc(f))if(Yd)C=zm;else{C=Mm;var j=Fm}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Um);if(C&&(C=C(e,u))){Qd(h,C,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&io(f,"number",f.value)}switch(j=u?Zn(u):window,e){case"focusin":(Rc(j)||j.contentEditable==="true")&&(Yn=j,yo=u,Qr=null);break;case"focusout":Qr=yo=Yn=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Lc(h,n,d);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":Lc(h,n,d)}var S;if(Sl)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qn?Kd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Hd&&n.locale!=="ko"&&(Qn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Qn&&(S=qd()):(Zt=d,_l="value"in Zt?Zt.value:Zt.textContent,Qn=!0)),j=ki(u,b),0<j.length&&(b=new Nc(b,e,null,n,d),h.push({event:b,listeners:j}),S?b.data=S:(S=Gd(n),S!==null&&(b.data=S)))),(S=Rm?Om(e,n):Am(e,n))&&(u=ki(u,"onBeforeInput"),0<u.length&&(d=new Nc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}oh(h,t)})}function fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ki(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(e,n),i!=null&&r.unshift(fs(e,i,s)),i=as(e,t),i!=null&&r.push(fs(e,i,s))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=as(n,i),c!=null&&o.unshift(fs(n,c,l))):s||(c=as(n,i),c!=null&&o.push(fs(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Km=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function zc(e){return(typeof e=="string"?e:""+e).replace(Km,`
`).replace(Gm,"")}function Js(e,t,n){if(t=zc(t),zc(e)!==t&&n)throw Error(A(425))}function Ci(){}var _o=null,xo=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,Ym=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(Xm)}:So;function Xm(e){setTimeout(function(){throw e})}function $a(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cs(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),_t="__reactFiber$"+br,ps="__reactProps$"+br,Ft="__reactContainer$"+br,bo="__reactEvents$"+br,Zm="__reactListeners$"+br,eg="__reactHandles$"+br;function bn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jc(e);e!==null;){if(n=e[_t])return n;e=Jc(e)}return t}e=n,n=e.parentNode}return null}function Cs(e){return e=e[_t]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Gi(e){return e[ps]||null}var ko=[],er=-1;function fn(e){return{current:e}}function ae(e){0>er||(e.current=ko[er],ko[er]=null,er--)}function re(e,t){er++,ko[er]=e.current,e.current=t}var dn={},Oe=fn(dn),Je=fn(!1),Pn=dn;function mr(e,t){var n=e.type.contextTypes;if(!n)return dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function We(e){return e=e.childContextTypes,e!=null}function Ei(){ae(Je),ae(Oe)}function Wc(e,t,n){if(Oe.current!==dn)throw Error(A(168));re(Oe,t),re(Je,n)}function ch(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,Fp(e)||"Unknown",s));return de({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Pn=Oe.current,re(Oe,e),re(Je,Je.current),!0}function Vc(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=ch(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,ae(Je),ae(Oe),re(Oe,e)):ae(Je),re(Je,n)}var Rt=null,Qi=!1,Ra=!1;function uh(e){Rt===null?Rt=[e]:Rt.push(e)}function tg(e){Qi=!0,uh(e)}function pn(){if(!Ra&&Rt!==null){Ra=!0;var e=0,t=Z;try{var n=Rt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Qi=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Id(gl,pn),s}finally{Z=t,Ra=!1}}return null}var tr=[],nr=0,Ti=null,Pi=0,Ze=[],et=0,$n=null,Ot=1,At="";function vn(e,t){tr[nr++]=Pi,tr[nr++]=Ti,Ti=e,Pi=t}function dh(e,t,n){Ze[et++]=Ot,Ze[et++]=At,Ze[et++]=$n,$n=e;var r=Ot;e=At;var s=32-ht(r)-1;r&=~(1<<s),n+=1;var i=32-ht(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ot=1<<32-ht(t)+s|n<<s|r,At=i+e}else Ot=1<<i|n<<s|r,At=e}function kl(e){e.return!==null&&(vn(e,1),dh(e,1,0))}function Cl(e){for(;e===Ti;)Ti=tr[--nr],tr[nr]=null,Pi=tr[--nr],tr[nr]=null;for(;e===$n;)$n=Ze[--et],Ze[et]=null,At=Ze[--et],Ze[et]=null,Ot=Ze[--et],Ze[et]=null}var Ge=null,Ke=null,oe=!1,dt=null;function hh(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$n!==null?{id:Ot,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,Ke=null,!0):!1;default:return!1}}function Co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(oe){var t=Ke;if(t){var n=t;if(!qc(e,t)){if(Co(e))throw Error(A(418));t=sn(n.nextSibling);var r=Ge;t&&qc(e,t)?hh(r,n):(e.flags=e.flags&-4097|2,oe=!1,Ge=e)}}else{if(Co(e))throw Error(A(418));e.flags=e.flags&-4097|2,oe=!1,Ge=e}}}function Hc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Ws(e){if(e!==Ge)return!1;if(!oe)return Hc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=Ke)){if(Co(e))throw fh(),Error(A(418));for(;t;)hh(e,t),t=sn(t.nextSibling)}if(Hc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ge?sn(e.stateNode.nextSibling):null;return!0}function fh(){for(var e=Ke;e;)e=sn(e.nextSibling)}function gr(){Ke=Ge=null,oe=!1}function El(e){dt===null?dt=[e]:dt.push(e)}var ng=Jt.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function ph(e){function t(v,p){if(e){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=cn(v,p),v.index=0,v.sibling=null,v}function i(v,p,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,m,_){return p===null||p.tag!==6?(p=Ma(m,v.mode,_),p.return=v,p):(p=s(p,m),p.return=v,p)}function c(v,p,m,_){var C=m.type;return C===Gn?d(v,p,m.props.children,_,m.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ht&&Kc(C)===p.type)?(_=s(p,m.props),_.ref=Ir(v,p,m),_.return=v,_):(_=pi(m.type,m.key,m.props,null,v.mode,_),_.ref=Ir(v,p,m),_.return=v,_)}function u(v,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ua(m,v.mode,_),p.return=v,p):(p=s(p,m.children||[]),p.return=v,p)}function d(v,p,m,_,C){return p===null||p.tag!==7?(p=Tn(m,v.mode,_,C),p.return=v,p):(p=s(p,m),p.return=v,p)}function h(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ma(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case As:return m=pi(p.type,p.key,p.props,null,v.mode,m),m.ref=Ir(v,null,p),m.return=v,m;case Kn:return p=Ua(p,v.mode,m),p.return=v,p;case Ht:var _=p._init;return h(v,_(p._payload),m)}if(Br(p)||Pr(p))return p=Tn(p,v.mode,m,null),p.return=v,p;Vs(v,p)}return null}function f(v,p,m,_){var C=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(v,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case As:return m.key===C?c(v,p,m,_):null;case Kn:return m.key===C?u(v,p,m,_):null;case Ht:return C=m._init,f(v,p,C(m._payload),_)}if(Br(m)||Pr(m))return C!==null?null:d(v,p,m,_,null);Vs(v,m)}return null}function y(v,p,m,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(m)||null,l(p,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case As:return v=v.get(_.key===null?m:_.key)||null,c(p,v,_,C);case Kn:return v=v.get(_.key===null?m:_.key)||null,u(p,v,_,C);case Ht:var j=_._init;return y(v,p,m,j(_._payload),C)}if(Br(_)||Pr(_))return v=v.get(m)||null,d(p,v,_,C,null);Vs(p,_)}return null}function w(v,p,m,_){for(var C=null,j=null,S=p,b=p=0,T=null;S!==null&&b<m.length;b++){S.index>b?(T=S,S=null):T=S.sibling;var E=f(v,S,m[b],_);if(E===null){S===null&&(S=T);break}e&&S&&E.alternate===null&&t(v,S),p=i(E,p,b),j===null?C=E:j.sibling=E,j=E,S=T}if(b===m.length)return n(v,S),oe&&vn(v,b),C;if(S===null){for(;b<m.length;b++)S=h(v,m[b],_),S!==null&&(p=i(S,p,b),j===null?C=S:j.sibling=S,j=S);return oe&&vn(v,b),C}for(S=r(v,S);b<m.length;b++)T=y(S,v,b,m[b],_),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?b:T.key),p=i(T,p,b),j===null?C=T:j.sibling=T,j=T);return e&&S.forEach(function(I){return t(v,I)}),oe&&vn(v,b),C}function k(v,p,m,_){var C=Pr(m);if(typeof C!="function")throw Error(A(150));if(m=C.call(m),m==null)throw Error(A(151));for(var j=C=null,S=p,b=p=0,T=null,E=m.next();S!==null&&!E.done;b++,E=m.next()){S.index>b?(T=S,S=null):T=S.sibling;var I=f(v,S,E.value,_);if(I===null){S===null&&(S=T);break}e&&S&&I.alternate===null&&t(v,S),p=i(I,p,b),j===null?C=I:j.sibling=I,j=I,S=T}if(E.done)return n(v,S),oe&&vn(v,b),C;if(S===null){for(;!E.done;b++,E=m.next())E=h(v,E.value,_),E!==null&&(p=i(E,p,b),j===null?C=E:j.sibling=E,j=E);return oe&&vn(v,b),C}for(S=r(v,S);!E.done;b++,E=m.next())E=y(S,v,b,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?b:E.key),p=i(E,p,b),j===null?C=E:j.sibling=E,j=E);return e&&S.forEach(function(P){return t(v,P)}),oe&&vn(v,b),C}function x(v,p,m,_){if(typeof m=="object"&&m!==null&&m.type===Gn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case As:e:{for(var C=m.key,j=p;j!==null;){if(j.key===C){if(C=m.type,C===Gn){if(j.tag===7){n(v,j.sibling),p=s(j,m.props.children),p.return=v,v=p;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ht&&Kc(C)===j.type){n(v,j.sibling),p=s(j,m.props),p.ref=Ir(v,j,m),p.return=v,v=p;break e}n(v,j);break}else t(v,j);j=j.sibling}m.type===Gn?(p=Tn(m.props.children,v.mode,_,m.key),p.return=v,v=p):(_=pi(m.type,m.key,m.props,null,v.mode,_),_.ref=Ir(v,p,m),_.return=v,v=_)}return o(v);case Kn:e:{for(j=m.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(v,p.sibling),p=s(p,m.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Ua(m,v.mode,_),p.return=v,v=p}return o(v);case Ht:return j=m._init,x(v,p,j(m._payload),_)}if(Br(m))return w(v,p,m,_);if(Pr(m))return k(v,p,m,_);Vs(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,m),p.return=v,v=p):(n(v,p),p=Ma(m,v.mode,_),p.return=v,v=p),o(v)):n(v,p)}return x}var vr=ph(!0),mh=ph(!1),$i=fn(null),Ri=null,rr=null,Nl=null;function Tl(){Nl=rr=Ri=null}function Pl(e){var t=$i.current;ae($i),e._currentValue=t}function No(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){Ri=e,Nl=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(Ri===null)throw Error(A(308));rr=e,Ri.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var kn=null;function $l(e){kn===null?kn=[e]:kn.push(e)}function gh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$l(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mt(e,n)}return s=r.interleaved,s===null?(t.next=t,$l(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mt(e,n)}function li(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}function Gc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oi(e,t,n,r){var s=e.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,k=l;switch(f=t,y=n,k.tag){case 1:if(w=k.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=de({},h,f);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=h}}function Qc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Es={},bt=fn(Es),ms=fn(Es),gs=fn(Es);function Cn(e){if(e===Es)throw Error(A(174));return e}function Ol(e,t){switch(re(gs,t),re(ms,e),re(bt,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oo(t,e)}ae(bt),re(bt,t)}function yr(){ae(bt),ae(ms),ae(gs)}function yh(e){Cn(gs.current);var t=Cn(bt.current),n=oo(t,e.type);t!==n&&(re(ms,e),re(bt,n))}function Al(e){ms.current===e&&(ae(bt),ae(ms))}var le=fn(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function Il(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var ci=Jt.ReactCurrentDispatcher,Aa=Jt.ReactCurrentBatchConfig,Rn=0,ce=null,ye=null,xe=null,Ii=!1,Yr=!1,vs=0,rg=0;function Pe(){throw Error(A(321))}function Dl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Ll(e,t,n,r,s,i){if(Rn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ci.current=e===null||e.memoizedState===null?og:lg,e=n(r,s),Yr){i=0;do{if(Yr=!1,vs=0,25<=i)throw Error(A(301));i+=1,xe=ye=null,t.updateQueue=null,ci.current=cg,e=n(r,s)}while(Yr)}if(ci.current=Di,t=ye!==null&&ye.next!==null,Rn=0,xe=ye=ce=null,Ii=!1,t)throw Error(A(300));return e}function Fl(){var e=vs!==0;return vs=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ce.memoizedState=xe=e:xe=xe.next=e,xe}function it(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=xe===null?ce.memoizedState:xe.next;if(t!==null)xe=t,ye=e;else{if(e===null)throw Error(A(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},xe===null?ce.memoizedState=xe=e:xe=xe.next=e}return xe}function ys(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=it(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Rn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ce.lanes|=d,On|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,pt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,On|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Da(e){var t=it(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wh(){}function _h(e,t){var n=ce,r=it(),s=t(),i=!pt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,Ml(Sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,ws(9,jh.bind(null,n,r,s,t),void 0,null),Se===null)throw Error(A(349));Rn&30||xh(n,t,s)}return s}function xh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jh(e,t,n,r){t.value=n,t.getSnapshot=r,bh(t)&&kh(e)}function Sh(e,t,n){return n(function(){bh(t)&&kh(e)})}function bh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function kh(e){var t=Mt(e,1);t!==null&&ft(t,e,1,-1)}function Yc(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=ag.bind(null,ce,e),[t.memoizedState,e]}function ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ch(){return it().memoizedState}function ui(e,t,n,r){var s=wt();ce.flags|=e,s.memoizedState=ws(1|t,n,void 0,r===void 0?null:r)}function Yi(e,t,n,r){var s=it();r=r===void 0?null:r;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,r!==null&&Dl(r,o.deps)){s.memoizedState=ws(t,n,i,r);return}}ce.flags|=e,s.memoizedState=ws(1|t,n,i,r)}function Xc(e,t){return ui(8390656,8,e,t)}function Ml(e,t){return Yi(2048,8,e,t)}function Eh(e,t){return Yi(4,2,e,t)}function Nh(e,t){return Yi(4,4,e,t)}function Th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ph(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4,4,Th.bind(null,t,e),n)}function Ul(){}function $h(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rh(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oh(e,t,n){return Rn&21?(pt(n,t)||(n=Fd(),ce.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function sg(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Aa.transition;Aa.transition={};try{e(!1),t()}finally{Z=n,Aa.transition=r}}function Ah(){return it().memoizedState}function ig(e,t,n){var r=ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(e))Dh(t,n);else if(n=gh(e,t,n,r),n!==null){var s=Ie();ft(n,e,r,s),Lh(n,t,r)}}function ag(e,t,n){var r=ln(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))Dh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var c=t.interleaved;c===null?(s.next=s,$l(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gh(e,t,s,r),n!==null&&(s=Ie(),ft(n,e,r,s),Lh(n,t,r))}}function Ih(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Dh(e,t){Yr=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vl(e,n)}}var Di={readContext:st,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},og={readContext:st,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ui(4194308,4,Th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return ui(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ig.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:Ul,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=sg.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=wt();if(oe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Se===null)throw Error(A(349));Rn&30||xh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xc(Sh.bind(null,r,i,e),[e]),r.flags|=2048,ws(9,jh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=wt(),t=Se.identifierPrefix;if(oe){var n=At,r=Ot;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lg={readContext:st,useCallback:$h,useContext:st,useEffect:Ml,useImperativeHandle:Ph,useInsertionEffect:Eh,useLayoutEffect:Nh,useMemo:Rh,useReducer:Ia,useRef:Ch,useState:function(){return Ia(ys)},useDebugValue:Ul,useDeferredValue:function(e){var t=it();return Oh(t,ye.memoizedState,e)},useTransition:function(){var e=Ia(ys)[0],t=it().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:_h,useId:Ah,unstable_isNewReconciler:!1},cg={readContext:st,useCallback:$h,useContext:st,useEffect:Ml,useImperativeHandle:Ph,useInsertionEffect:Eh,useLayoutEffect:Nh,useMemo:Rh,useReducer:Da,useRef:Ch,useState:function(){return Da(ys)},useDebugValue:Ul,useDeferredValue:function(e){var t=it();return ye===null?t.memoizedState=e:Oh(t,ye.memoizedState,e)},useTransition:function(){var e=Da(ys)[0],t=it().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:_h,useId:Ah,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function To(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xi={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=ln(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(ft(t,e,s,r),li(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=ln(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(ft(t,e,s,r),li(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=ln(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,r),t!==null&&(ft(t,e,r,n),li(t,e,r))}};function Zc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ds(n,r)||!ds(s,i):!0}function Fh(e,t,n){var r=!1,s=dn,i=t.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=We(t)?Pn:Oe.current,r=t.contextTypes,i=(r=r!=null)?mr(e,s):dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function eu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function Po(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=We(t)?Pn:Oe.current,s.context=mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(To(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xi.enqueueReplaceState(s,s.state,null),Oi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=Lp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function La(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $o(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Mh(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fi||(Fi=!0,zo=r),$o(e,t)},n}function Uh(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$o(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$o(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function tu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ug;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bg.bind(null,e,t,n),t.then(e,e))}function nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ru(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var dg=Jt.ReactCurrentOwner,Be=!1;function Ae(e,t,n,r){t.child=e===null?mh(t,null,n,r):vr(t,e.child,n,r)}function su(e,t,n,r,s){n=n.render;var i=t.ref;return ur(t,s),r=Ll(e,t,n,r,i,s),n=Fl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(oe&&n&&kl(t),t.flags|=1,Ae(e,t,r,s),t.child)}function iu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Kl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zh(e,t,i,r,s)):(e=pi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ds,n(o,r)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function zh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ds(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return Ro(e,t,n,r,s)}function Bh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(ir,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(ir,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,re(ir,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,re(ir,He),He|=r;return Ae(e,t,s,n),t.child}function Jh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,n,r,s){var i=We(n)?Pn:Oe.current;return i=mr(t,i),ur(t,s),n=Ll(e,t,n,r,i,s),r=Fl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(oe&&r&&kl(t),t.flags|=1,Ae(e,t,n,s),t.child)}function au(e,t,n,r,s){if(We(n)){var i=!0;Ni(t)}else i=!1;if(ur(t,s),t.stateNode===null)di(e,t),Fh(t,n,r),Po(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=We(n)?Pn:Oe.current,u=mr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&eu(t,o,r,u),Kt=!1;var f=t.memoizedState;o.state=f,Oi(t,r,o,s),c=t.memoizedState,l!==r||f!==c||Je.current||Kt?(typeof d=="function"&&(To(t,n,d,r),c=t.memoizedState),(l=Kt||Zc(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:lt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=We(n)?Pn:Oe.current,c=mr(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&eu(t,o,r,c),Kt=!1,f=t.memoizedState,o.state=f,Oi(t,r,o,s);var w=t.memoizedState;l!==h||f!==w||Je.current||Kt?(typeof y=="function"&&(To(t,n,y,r),w=t.memoizedState),(u=Kt||Zc(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,n,r,i,s)}function Oo(e,t,n,r,s,i){Jh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Vc(t,n,!1),Ut(e,t,i);r=t.stateNode,dg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=r.state,s&&Vc(t,n,!0),t.child}function Wh(e){var t=e.stateNode;t.pendingContext?Wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wc(e,t.context,!1),Ol(e,t.containerInfo)}function ou(e,t,n,r,s){return gr(),El(s),t.flags|=256,Ae(e,t,n,r),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vh(e,t,n){var r=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(le,s&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ta(o,r,0,null),e=Tn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Io(n),t.memoizedState=Ao,e):zl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hg(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=cn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=cn(l,i):(i=Tn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Io(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ao,r}return i=e.child,e=i.sibling,r=cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zl(e,t){return t=ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,n,r){return r!==null&&El(r),vr(t,e.child,null,n),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=La(Error(A(422))),qs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ta({mode:"visible",children:r.children},s,0,null),i=Tn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ao,i);if(!(t.mode&1))return qs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(A(419)),r=La(i,r,void 0),qs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Be||l){if(r=Se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(e,s),ft(r,e,s,-1))}return Hl(),r=La(Error(A(421))),qs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=sn(s.nextSibling),Ge=t,oe=!0,dt=null,e!==null&&(Ze[et++]=Ot,Ze[et++]=At,Ze[et++]=$n,Ot=e.id,At=e.overflow,$n=t),t=zl(t,r.children),t.flags|=4096,t)}function lu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),No(e.return,t,n)}function Fa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lu(e,n,t);else if(e.tag===19)lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ai(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ai(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fa(t,!0,n,null,i);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fg(e,t,n){switch(t.tag){case 3:Wh(t),gr();break;case 5:yh(t);break;case 1:We(t.type)&&Ni(t);break;case 4:Ol(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;re($i,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Vh(e,t,n):(re(le,le.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);re(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Bh(e,t,n)}return Ut(e,t,n)}var Hh,Do,Kh,Gh;Hh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Do=function(){};Kh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cn(bt.current);var i=null;switch(n){case"input":s=ro(e,s),r=ro(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=ao(e,s),r=ao(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ci)}lo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ss.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ss.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Gh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dr(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pg(e,t,n){var r=t.pendingProps;switch(Cl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return We(t.type)&&Ei(),$e(t),null;case 3:return r=t.stateNode,yr(),ae(Je),ae(Oe),Il(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(Wo(dt),dt=null))),Do(e,t),$e(t),null;case 5:Al(t);var s=Cn(gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Kh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return $e(t),null}if(e=Cn(bt.current),Ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_t]=t,r[ps]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<Wr.length;s++)ie(Wr[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":vc(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":wc(r,i),ie("invalid",r)}lo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Js(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Js(r.textContent,l,e),s=["children",""+l]):ss.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":Is(r),yc(r,i,!0);break;case"textarea":Is(r),_c(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ci)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_t]=t,e[ps]=r,Hh(e,t,!1,!1),t.stateNode=e;e:{switch(o=co(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<Wr.length;s++)ie(Wr[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":vc(e,r),s=ro(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ie("invalid",e);break;case"textarea":wc(e,r),s=ao(e,r),ie("invalid",e);break;default:s=r}lo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Cd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&is(e,c):typeof c=="number"&&is(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ss.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&dl(e,i,c,o))}switch(n){case"input":Is(e),yc(e,r,!1);break;case"textarea":Is(e),_c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ar(e,!!r.multiple,i,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Gh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Cn(gs.current),Cn(bt.current),Ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(i=r.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:Js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Js(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return $e(t),null;case 13:if(ae(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ke!==null&&t.mode&1&&!(t.flags&128))fh(),gr(),t.flags|=98560,i=!1;else if(i=Ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[_t]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else dt!==null&&(Wo(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?we===0&&(we=3):Hl())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return yr(),Do(e,t),e===null&&hs(t.stateNode.containerInfo),$e(t),null;case 10:return Pl(t.type._context),$e(t),null;case 17:return We(t.type)&&Ei(),$e(t),null;case 19:if(ae(le),i=t.memoizedState,i===null)return $e(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Dr(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ai(e),o!==null){for(t.flags|=128,Dr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>_r&&(t.flags|=128,r=!0,Dr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ai(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return $e(t),null}else 2*me()-i.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,r=!0,Dr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=le.current,re(le,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return ql(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function mg(e,t){switch(Cl(t),t.tag){case 1:return We(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),ae(Je),ae(Oe),Il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Al(t),null;case 13:if(ae(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(le),null;case 4:return yr(),null;case 10:return Pl(t.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var Hs=!1,Re=!1,gg=typeof WeakSet=="function"?WeakSet:Set,W=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Lo(e,t,n){try{n()}catch(r){fe(e,t,r)}}var cu=!1;function vg(e,t){if(_o=Si,e=eh(),bl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xo={focusedElem:e,selectionRange:n},Si=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,x=w.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?k:lt(t.type,k),x);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){fe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=cu,cu=!1,w}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lo(t,n,i)}s=s.next}while(s!==r)}}function Zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qh(e){var t=e.alternate;t!==null&&(e.alternate=null,Qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[ps],delete t[bo],delete t[Zm],delete t[eg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yh(e){return e.tag===5||e.tag===3||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(r!==4&&(e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}var ke=null,ct=!1;function Wt(e,t,n){for(n=n.child;n!==null;)Xh(e,t,n),n=n.sibling}function Xh(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Vi,n)}catch{}switch(n.tag){case 5:Re||sr(n,t);case 6:var r=ke,s=ct;ke=null,Wt(e,t,n),ke=r,ct=s,ke!==null&&(ct?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(ct?(e=ke,n=n.stateNode,e.nodeType===8?$a(e.parentNode,n):e.nodeType===1&&$a(e,n),cs(e)):$a(ke,n.stateNode));break;case 4:r=ke,s=ct,ke=n.stateNode.containerInfo,ct=!0,Wt(e,t,n),ke=r,ct=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lo(n,t,o),s=s.next}while(s!==r)}Wt(e,t,n);break;case 1:if(!Re&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,t,l)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Wt(e,t,n),Re=r):Wt(e,t,n);break;default:Wt(e,t,n)}}function du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gg),t.forEach(function(r){var s=Cg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,ct=!1;break e;case 3:ke=l.stateNode.containerInfo,ct=!0;break e;case 4:ke=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(ke===null)throw Error(A(160));Xh(i,o,s),ke=null,ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zh(t,e),t=t.sibling}function Zh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),vt(e),r&4){try{Xr(3,e,e.return),Zi(3,e)}catch(k){fe(e,e.return,k)}try{Xr(5,e,e.return)}catch(k){fe(e,e.return,k)}}break;case 1:ot(t,e),vt(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(ot(t,e),vt(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var s=e.stateNode;try{is(s,"")}catch(k){fe(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&xd(s,i),co(l,o);var u=co(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Cd(s,h):d==="dangerouslySetInnerHTML"?bd(s,h):d==="children"?is(s,h):dl(s,d,h,u)}switch(l){case"input":so(s,i);break;case"textarea":jd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ar(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?ar(s,!!i.multiple,i.defaultValue,!0):ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(k){fe(e,e.return,k)}}break;case 6:if(ot(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){fe(e,e.return,k)}}break;case 3:if(ot(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(k){fe(e,e.return,k)}break;case 4:ot(t,e),vt(e);break;case 13:ot(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wl=me())),r&4&&du(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,ot(t,e),Re=u):ot(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(f=W,y=f.child,f.tag){case 0:case 11:case 14:case 15:Xr(4,f,f.return);break;case 1:sr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(k){fe(r,n,k)}}break;case 5:sr(f,f.return);break;case 22:if(f.memoizedState!==null){fu(h);continue}}y!==null?(y.return=f,W=y):fu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kd("display",o))}catch(k){fe(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){fe(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(t,e),vt(e),r&4&&du(e);break;case 21:break;default:ot(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yh(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(is(s,""),r.flags&=-33);var i=uu(e);Uo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uu(e);Mo(e,l,o);break;default:throw Error(A(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yg(e,t,n){W=e,ef(e)}function ef(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Re;l=Hs;var u=Re;if(Hs=o,(Re=c)&&!u)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?pu(s):c!==null?(c.return=o,W=c):pu(s);for(;i!==null;)W=i,ef(i),i=i.sibling;W=s,Hs=l,Re=u}hu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):hu(e)}}function hu(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Zi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Re||t.flags&512&&Fo(t)}catch(f){fe(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function fu(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function pu(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zi(4,t)}catch(c){fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){fe(t,s,c)}}var i=t.return;try{Fo(t)}catch(c){fe(t,i,c)}break;case 5:var o=t.return;try{Fo(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var wg=Math.ceil,Li=Jt.ReactCurrentDispatcher,Bl=Jt.ReactCurrentOwner,nt=Jt.ReactCurrentBatchConfig,Y=0,Se=null,ve=null,Ee=0,He=0,ir=fn(0),we=0,_s=null,On=0,ea=0,Jl=0,Zr=null,Ue=null,Wl=0,_r=1/0,Pt=null,Fi=!1,zo=null,on=null,Ks=!1,en=null,Mi=0,es=0,Bo=null,hi=-1,fi=0;function Ie(){return Y&6?me():hi!==-1?hi:hi=me()}function ln(e){return e.mode&1?Y&2&&Ee!==0?Ee&-Ee:ng.transition!==null?(fi===0&&(fi=Fd()),fi):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Vd(e.type)),e):1}function ft(e,t,n,r){if(50<es)throw es=0,Bo=null,Error(A(185));bs(e,n,r),(!(Y&2)||e!==Se)&&(e===Se&&(!(Y&2)&&(ea|=n),we===4&&Yt(e,Ee)),Ve(e,r),n===1&&Y===0&&!(t.mode&1)&&(_r=me()+500,Qi&&pn()))}function Ve(e,t){var n=e.callbackNode;nm(e,t);var r=ji(e,e===Se?Ee:0);if(r===0)n!==null&&Sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sc(n),t===1)e.tag===0?tg(mu.bind(null,e)):uh(mu.bind(null,e)),Ym(function(){!(Y&6)&&pn()}),n=null;else{switch(Md(r)){case 1:n=gl;break;case 4:n=Dd;break;case 16:n=xi;break;case 536870912:n=Ld;break;default:n=xi}n=cf(n,tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tf(e,t){if(hi=-1,fi=0,Y&6)throw Error(A(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=ji(e,e===Se?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ui(e,r);else{t=r;var s=Y;Y|=2;var i=rf();(Se!==e||Ee!==t)&&(Pt=null,_r=me()+500,Nn(e,t));do try{jg();break}catch(l){nf(e,l)}while(1);Tl(),Li.current=i,Y=s,ve!==null?t=0:(Se=null,Ee=0,t=we)}if(t!==0){if(t===2&&(s=mo(e),s!==0&&(r=s,t=Jo(e,s))),t===1)throw n=_s,Nn(e,0),Yt(e,r),Ve(e,me()),n;if(t===6)Yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!_g(s)&&(t=Ui(e,r),t===2&&(i=mo(e),i!==0&&(r=i,t=Jo(e,i))),t===1))throw n=_s,Nn(e,0),Yt(e,r),Ve(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:yn(e,Ue,Pt);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Wl+500-me(),10<t)){if(ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=So(yn.bind(null,e,Ue,Pt),t);break}yn(e,Ue,Pt);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ht(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wg(r/1960))-r,10<r){e.timeoutHandle=So(yn.bind(null,e,Ue,Pt),r);break}yn(e,Ue,Pt);break;case 5:yn(e,Ue,Pt);break;default:throw Error(A(329))}}}return Ve(e,me()),e.callbackNode===n?tf.bind(null,e):null}function Jo(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Wo(t)),e}function Wo(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Jl,t&=~ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(Y&6)throw Error(A(327));dr();var t=ji(e,0);if(!(t&1))return Ve(e,me()),null;var n=Ui(e,t);if(e.tag!==0&&n===2){var r=mo(e);r!==0&&(t=r,n=Jo(e,r))}if(n===1)throw n=_s,Nn(e,0),Yt(e,t),Ve(e,me()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,Ue,Pt),Ve(e,me()),null}function Vl(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(_r=me()+500,Qi&&pn())}}function An(e){en!==null&&en.tag===0&&!(Y&6)&&dr();var t=Y;Y|=1;var n=nt.transition,r=Z;try{if(nt.transition=null,Z=1,e)return e()}finally{Z=r,nt.transition=n,Y=t,!(Y&6)&&pn()}}function ql(){He=ir.current,ae(ir)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qm(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Cl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:yr(),ae(Je),ae(Oe),Il();break;case 5:Al(r);break;case 4:yr();break;case 13:ae(le);break;case 19:ae(le);break;case 10:Pl(r.type._context);break;case 22:case 23:ql()}n=n.return}if(Se=e,ve=e=cn(e.current,null),Ee=He=t,we=0,_s=null,Jl=ea=On=0,Ue=Zr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}kn=null}return e}function nf(e,t){do{var n=ve;try{if(Tl(),ci.current=Di,Ii){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ii=!1}if(Rn=0,xe=ye=ce=null,Yr=!1,vs=0,Bl.current=null,n===null||n.return===null){we=1,_s=t,ve=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ee,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=nu(o);if(y!==null){y.flags&=-257,ru(y,o,l,i,t),y.mode&1&&tu(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var k=new Set;k.add(c),t.updateQueue=k}else w.add(c);break e}else{if(!(t&1)){tu(i,u,t),Hl();break e}c=Error(A(426))}}else if(oe&&l.mode&1){var x=nu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ru(x,o,l,i,t),El(wr(c,l));break e}}i=c=wr(c,l),we!==4&&(we=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Mh(i,c,t);Gc(i,v);break e;case 1:l=c;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(on===null||!on.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Uh(i,l,t);Gc(i,_);break e}}i=i.return}while(i!==null)}af(n)}catch(C){t=C,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function rf(){var e=Li.current;return Li.current=Di,e===null?Di:e}function Hl(){(we===0||we===3||we===2)&&(we=4),Se===null||!(On&268435455)&&!(ea&268435455)||Yt(Se,Ee)}function Ui(e,t){var n=Y;Y|=2;var r=rf();(Se!==e||Ee!==t)&&(Pt=null,Nn(e,t));do try{xg();break}catch(s){nf(e,s)}while(1);if(Tl(),Y=n,Li.current=r,ve!==null)throw Error(A(261));return Se=null,Ee=0,we}function xg(){for(;ve!==null;)sf(ve)}function jg(){for(;ve!==null&&!Hp();)sf(ve)}function sf(e){var t=lf(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?af(e):ve=t,Bl.current=null}function af(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mg(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=pg(n,t,He),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function yn(e,t,n){var r=Z,s=nt.transition;try{nt.transition=null,Z=1,Sg(e,t,n,r)}finally{nt.transition=s,Z=r}return null}function Sg(e,t,n,r){do dr();while(en!==null);if(Y&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rm(e,i),e===Se&&(ve=Se=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,cf(xi,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=Z;Z=1;var l=Y;Y|=4,Bl.current=null,vg(e,n),Zh(n,e),Jm(xo),Si=!!_o,xo=_o=null,e.current=n,yg(n),Kp(),Y=l,Z=o,nt.transition=i}else e.current=n;if(Ks&&(Ks=!1,en=e,Mi=s),i=e.pendingLanes,i===0&&(on=null),Yp(n.stateNode),Ve(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fi)throw Fi=!1,e=zo,zo=null,e;return Mi&1&&e.tag!==0&&dr(),i=e.pendingLanes,i&1?e===Bo?es++:(es=0,Bo=e):es=0,pn(),null}function dr(){if(en!==null){var e=Md(Mi),t=nt.transition,n=Z;try{if(nt.transition=null,Z=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Mi=0,Y&6)throw Error(A(331));var s=Y;for(Y|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Xr(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var f=d.sibling,y=d.return;if(Qh(d),d===u){W=null;break}if(f!==null){f.return=y,W=f;break}W=y}}}var w=i.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var p=e.current;for(W=p;W!==null;){o=W;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,W=m;else e:for(o=p;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zi(9,l)}}catch(C){fe(l,l.return,C)}if(l===o){W=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,W=_;break e}W=l.return}}if(Y=s,pn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Vi,e)}catch{}r=!0}return r}finally{Z=n,nt.transition=t}}return!1}function gu(e,t,n){t=wr(n,t),t=Mh(e,t,1),e=an(e,t,1),t=Ie(),e!==null&&(bs(e,1,t),Ve(e,t))}function fe(e,t,n){if(e.tag===3)gu(e,e,n);else for(;t!==null;){if(t.tag===3){gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=wr(n,e),e=Uh(t,e,1),t=an(t,e,1),e=Ie(),t!==null&&(bs(t,1,e),Ve(t,e));break}}t=t.return}}function bg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Ee&n)===n&&(we===4||we===3&&(Ee&130023424)===Ee&&500>me()-Wl?Nn(e,0):Jl|=n),Ve(e,t)}function of(e,t){t===0&&(e.mode&1?(t=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):t=1);var n=Ie();e=Mt(e,t),e!==null&&(bs(e,t,n),Ve(e,n))}function kg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),of(e,n)}function Cg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),of(e,n)}var lf;lf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,fg(e,t,n);Be=!!(e.flags&131072)}else Be=!1,oe&&t.flags&1048576&&dh(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;di(e,t),e=t.pendingProps;var s=mr(t,Oe.current);ur(t,n),s=Ll(null,t,r,e,s,n);var i=Fl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(r)?(i=!0,Ni(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rl(t),s.updater=Xi,t.stateNode=s,s._reactInternals=t,Po(t,r,e,n),t=Oo(null,t,r,!0,i,n)):(t.tag=0,oe&&i&&kl(t),Ae(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(di(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ng(r),e=lt(r,e),s){case 0:t=Ro(null,t,r,e,n);break e;case 1:t=au(null,t,r,e,n);break e;case 11:t=su(null,t,r,e,n);break e;case 14:t=iu(null,t,r,lt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Ro(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),au(e,t,r,s,n);case 3:e:{if(Wh(t),e===null)throw Error(A(387));r=t.pendingProps,i=t.memoizedState,s=i.element,vh(e,t),Oi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=wr(Error(A(423)),t),t=ou(e,t,r,n,s);break e}else if(r!==s){s=wr(Error(A(424)),t),t=ou(e,t,r,n,s);break e}else for(Ke=sn(t.stateNode.containerInfo.firstChild),Ge=t,oe=!0,dt=null,n=mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){t=Ut(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return yh(t),e===null&&Eo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,jo(r,s)?o=null:i!==null&&jo(r,i)&&(t.flags|=32),Jh(e,t),Ae(e,t,o,n),t.child;case 6:return e===null&&Eo(t),null;case 13:return Vh(e,t,n);case 4:return Ol(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),su(e,t,r,s,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,re($i,r._currentValue),r._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!Je.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=It(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),No(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),No(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ae(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ur(t,n),s=st(s),r=r(s),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,s=lt(r,t.pendingProps),s=lt(r.type,s),iu(e,t,r,s,n);case 15:return zh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),di(e,t),t.tag=1,We(r)?(e=!0,Ni(t)):e=!1,ur(t,n),Fh(t,r,s),Po(t,r,s,n),Oo(null,t,r,!0,e,n);case 19:return qh(e,t,n);case 22:return Bh(e,t,n)}throw Error(A(156,t.tag))};function cf(e,t){return Id(e,t)}function Eg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new Eg(e,t,n,r)}function Kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ng(e){if(typeof e=="function")return Kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fl)return 11;if(e===pl)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Kl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gn:return Tn(n.children,s,i,t);case hl:o=8,s|=8;break;case Za:return e=tt(12,n,t,s|2),e.elementType=Za,e.lanes=i,e;case eo:return e=tt(13,n,t,s),e.elementType=eo,e.lanes=i,e;case to:return e=tt(19,n,t,s),e.elementType=to,e.lanes=i,e;case yd:return ta(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gd:o=10;break e;case vd:o=9;break e;case fl:o=11;break e;case pl:o=14;break e;case Ht:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Tn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function ta(e,t,n,r){return e=tt(22,e,r,t),e.elementType=yd,e.lanes=n,e.stateNode={isHidden:!1},e}function Ma(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Ua(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gl(e,t,n,r,s,i,o,l,c){return e=new Tg(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(i),e}function Pg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uf(e){if(!e)return dn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(We(n))return ch(e,n,t)}return t}function df(e,t,n,r,s,i,o,l,c){return e=Gl(n,r,!0,e,s,i,o,l,c),e.context=uf(null),n=e.current,r=Ie(),s=ln(n),i=It(r,s),i.callback=t??null,an(n,i,s),e.current.lanes=s,bs(e,s,r),Ve(e,r),e}function na(e,t,n,r){var s=t.current,i=Ie(),o=ln(s);return n=uf(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(s,t,o),e!==null&&(ft(e,s,o,i),li(e,s,o)),o}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ql(e,t){vu(e,t),(e=e.alternate)&&vu(e,t)}function $g(){return null}var hf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}ra.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));na(e,t,null,null)};ra.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){na(null,e,null,null)}),t[Ft]=null}};function ra(e){this._internalRoot=e}ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&Wd(e)}};function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yu(){}function Rg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zi(o);i.call(u)}}var o=df(t,r,e,0,null,!1,!1,"",yu);return e._reactRootContainer=o,e[Ft]=o.current,hs(e.nodeType===8?e.parentNode:e),An(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=zi(c);l.call(u)}}var c=Gl(e,0,!1,null,null,!1,!1,"",yu);return e._reactRootContainer=c,e[Ft]=c.current,hs(e.nodeType===8?e.parentNode:e),An(function(){na(t,c,n,r)}),c}function ia(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=zi(o);l.call(c)}}na(t,o,e,s)}else o=Rg(n,t,e,s,r);return zi(o)}Ud=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(vl(t,n|1),Ve(t,me()),!(Y&6)&&(_r=me()+500,pn()))}break;case 13:An(function(){var r=Mt(e,1);if(r!==null){var s=Ie();ft(r,e,1,s)}}),Ql(e,1)}};yl=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ie();ft(t,e,134217728,n)}Ql(e,134217728)}};zd=function(e){if(e.tag===13){var t=ln(e),n=Mt(e,t);if(n!==null){var r=Ie();ft(n,e,t,r)}Ql(e,t)}};Bd=function(){return Z};Jd=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ho=function(e,t,n){switch(t){case"input":if(so(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Gi(r);if(!s)throw Error(A(90));_d(r),so(r,s)}}}break;case"textarea":jd(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};Td=Vl;Pd=An;var Og={usingClientEntryPoint:!1,Events:[Cs,Zn,Gi,Ed,Nd,Vl]},Lr={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ag={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Od(e),e===null?null:e.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||$g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Vi=Gs.inject(Ag),St=Gs}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Og;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(t))throw Error(A(200));return Pg(e,t,null,n)};Ye.createRoot=function(e,t){if(!Xl(e))throw Error(A(299));var n=!1,r="",s=hf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gl(e,1,!1,null,null,n,!1,r,s),e[Ft]=t.current,hs(e.nodeType===8?e.parentNode:e),new Yl(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Od(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return An(e)};Ye.hydrate=function(e,t,n){if(!sa(t))throw Error(A(200));return ia(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=df(t,null,e,1,n??null,s,!1,i,o),e[Ft]=t.current,hs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ra(t)};Ye.render=function(e,t,n){if(!sa(t))throw Error(A(200));return ia(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!sa(e))throw Error(A(40));return e._reactRootContainer?(An(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};Ye.unstable_batchedUpdates=Vl;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sa(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ia(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function ff(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ff)}catch(e){console.error(e)}}ff(),hd.exports=Ye;var pf=hd.exports;const Ig=ed(pf);var wu=pf;Ya.createRoot=wu.createRoot,Ya.hydrateRoot=wu.hydrateRoot;const Dg="modulepreload",Lg=function(e){return"/"+e},_u={},In=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Lg(i),i in _u)return;_u[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Dg,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.parse=Wg;Zl.serialize=Vg;const Fg=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Mg=/^[\u0021-\u003A\u003C-\u007E]*$/,Ug=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,zg=/^[\u0020-\u003A\u003D-\u007E]*$/,Bg=Object.prototype.toString,Jg=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Wg(e,t){const n=new Jg,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||qg;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?r:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const u=xu(e,i,o),d=ju(e,o,u),h=e.slice(u,d);if(n[h]===void 0){let f=xu(e,o+1,c),y=ju(e,c,f);const w=s(e.slice(f,y));n[h]=w}i=c+1}while(i<r);return n}function xu(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function ju(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Vg(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Fg.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!Mg.test(s))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!Ug.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!zg.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!Hg(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function qg(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Hg(e){return Bg.call(e)==="[object Date]"}var Su="popstate";function Kg(e={}){function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Vo("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xs(s)}return Qg(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gg(){return Math.random().toString(36).substring(2,10)}function bu(e,t){return{usr:e.state,key:e.key,idx:t}}function Vo(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kr(t):t,state:n,key:t&&t.key||r||Gg()}}function xs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Qg(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:k.location,delta:v})}function f(x,v){l="PUSH";let p=Vo(k.location,x,v);n&&n(p,x),u=d()+1;let m=bu(p,u),_=k.createHref(p);try{o.pushState(m,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&c&&c({action:l,location:k.location,delta:1})}function y(x,v){l="REPLACE";let p=Vo(k.location,x,v);n&&n(p,x),u=d();let m=bu(p,u),_=k.createHref(p);o.replaceState(m,"",_),i&&c&&c({action:l,location:k.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:xs(x);return p=p.replace(/ $/,"%20"),ue(v,`No window.location.(origin|href) available to create URL for href: ${p}`),new URL(p,v)}let k={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Su,h),c=x,()=>{s.removeEventListener(Su,h),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:y,go(x){return o.go(x)}};return k}function mf(e,t,n="/"){return Yg(e,t,n,!1)}function Yg(e,t,n,r){let s=typeof t=="string"?kr(t):t,i=zt(s.pathname||"/",n);if(i==null)return null;let o=gf(e);Xg(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=cv(i);l=ov(o[c],u,r)}return l}function gf(e,t=[],n=[],r=""){let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Dt([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ue(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),gf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:iv(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of vf(i.path))s(i,o,c)}),t}function vf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vf(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:av(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zg=/^:[\w-]+$/,ev=3,tv=2,nv=1,rv=10,sv=-2,ku=e=>e==="*";function iv(e,t){let n=e.split("/"),r=n.length;return n.some(ku)&&(r+=sv),t&&(r+=tv),n.filter(s=>!ku(s)).reduce((s,i)=>s+(Zg.test(i)?ev:i===""?nv:rv),r)}function av(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function ov(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Bi({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Bi({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dt([i,h.pathname]),pathnameBase:fv(Dt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Dt([i,h.pathnameBase]))}return o}function Bi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function lv(e,t=!1,n=!0){kt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function cv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uv(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?kr(e):e;return{pathname:n?n.startsWith("/")?n:dv(n,t):t,search:pv(r),hash:mv(s)}}function dv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function za(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yf(e){let t=hv(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function wf(e,t,n,r=!1){let s;typeof e=="string"?s=kr(e):(s={...e},ue(!s.pathname||!s.pathname.includes("?"),za("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),za("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),za("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=uv(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Dt=e=>e.join("/").replace(/\/\/+/g,"/"),fv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _f=["POST","PUT","PATCH","DELETE"];new Set(_f);var vv=["GET",..._f];new Set(vv);var Cr=g.createContext(null);Cr.displayName="DataRouter";var aa=g.createContext(null);aa.displayName="DataRouterState";var xf=g.createContext({isTransitioning:!1});xf.displayName="ViewTransition";var yv=g.createContext(new Map);yv.displayName="Fetchers";var wv=g.createContext(null);wv.displayName="Await";var Ct=g.createContext(null);Ct.displayName="Navigation";var Ns=g.createContext(null);Ns.displayName="Location";var Et=g.createContext({outlet:null,matches:[],isDataRoute:!1});Et.displayName="Route";var ec=g.createContext(null);ec.displayName="RouteError";function _v(e,{relative:t}={}){ue(Ts(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Ct),{hash:s,pathname:i,search:o}=Ps(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Dt([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Ts(){return g.useContext(Ns)!=null}function Fn(){return ue(Ts(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ns).location}var jf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sf(e){g.useContext(Ct).static||g.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=g.useContext(Et);return e?Av():xv()}function xv(){ue(Ts(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Cr),{basename:t,navigator:n}=g.useContext(Ct),{matches:r}=g.useContext(Et),{pathname:s}=Fn(),i=JSON.stringify(yf(r)),o=g.useRef(!1);return Sf(()=>{o.current=!0}),g.useCallback((c,u={})=>{if(kt(o.current,jf),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=wf(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Dt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,s,e])}g.createContext(null);function jv(){let{matches:e}=g.useContext(Et),t=e[e.length-1];return t?t.params:{}}function Ps(e,{relative:t}={}){let{matches:n}=g.useContext(Et),{pathname:r}=Fn(),s=JSON.stringify(yf(n));return g.useMemo(()=>wf(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Sv(e,t){return bf(e,t)}function bf(e,t,n,r){var p;ue(Ts(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=g.useContext(Ct),{matches:o}=g.useContext(Et),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let m=h&&h.path||"";kf(u,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=Fn(),y;if(t){let m=typeof t=="string"?kr(t):t;ue(d==="/"||((p=m.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${m.pathname}" was given in the \`location\` prop.`),y=m}else y=f;let w=y.pathname||"/",k=w;if(d!=="/"){let m=d.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(m.length).join("/")}let x=!i&&n&&n.matches&&n.matches.length>0?n.matches:mf(e,{pathname:k});kt(h||x!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),kt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Nv(x&&x.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:Dt([d,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:Dt([d,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return t&&v?g.createElement(Ns.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function bv(){let e=Ov(),t=gv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,o)}var kv=g.createElement(bv,null),Cv=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Et.Provider,{value:this.props.routeContext},g.createElement(ec.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ev({routeContext:e,match:t,children:n}){let r=g.useContext(Cr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Et.Provider,{value:e},n)}function Nv(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);ue(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,d)=>{let h,f=!1,y=null,w=null;n&&(h=i&&u.route.id?i[u.route.id]:void 0,y=u.route.errorElement||kv,o&&(l<0&&d===0?(kf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):l===d&&(f=!0,w=u.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,d+1)),x=()=>{let v;return h?v=y:f?v=w:u.route.Component?v=g.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,g.createElement(Ev,{match:u,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(Cv,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}function tc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(e){let t=g.useContext(Cr);return ue(t,tc(e)),t}function Pv(e){let t=g.useContext(aa);return ue(t,tc(e)),t}function $v(e){let t=g.useContext(Et);return ue(t,tc(e)),t}function nc(e){let t=$v(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Rv(){return nc("useRouteId")}function Ov(){var r;let e=g.useContext(ec),t=Pv("useRouteError"),n=nc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Av(){let{router:e}=Tv("useNavigate"),t=nc("useNavigate"),n=g.useRef(!1);return Sf(()=>{n.current=!0}),g.useCallback(async(s,i={})=>{kt(n.current,jf),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Cu={};function kf(e,t,n){!t&&!Cu[e]&&(Cu[e]=!0,kt(!1,n))}g.memo(Iv);function Iv({routes:e,future:t,state:n}){return bf(e,void 0,n,t)}function Tt(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){ue(!Ts(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=kr(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,y=g.useMemo(()=>{let w=zt(c,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:h,key:f},navigationType:r}},[o,c,u,d,h,f,r]);return kt(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Ct.Provider,{value:l},g.createElement(Ns.Provider,{children:t,value:y}))}function Lv({children:e,location:t}){return Sv(qo(e),t)}function qo(e,t=[]){let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,qo(r.props.children,i));return}ue(r.type===Tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qo(r.props.children,i)),n.push(o)}),n}var mi="get",gi="application/x-www-form-urlencoded";function oa(e){return e!=null&&typeof e.tagName=="string"}function Fv(e){return oa(e)&&e.tagName.toLowerCase()==="button"}function Mv(e){return oa(e)&&e.tagName.toLowerCase()==="form"}function Uv(e){return oa(e)&&e.tagName.toLowerCase()==="input"}function zv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bv(e,t){return e.button===0&&(!t||t==="_self")&&!zv(e)}var Qs=null;function Jv(){if(Qs===null)try{new FormData(document.createElement("form"),0),Qs=!1}catch{Qs=!0}return Qs}var Wv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ba(e){return e!=null&&!Wv.has(e)?(kt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gi}"`),null):e}function Vv(e,t){let n,r,s,i,o;if(Mv(e)){let l=e.getAttribute("action");r=l?zt(l,t):null,n=e.getAttribute("method")||mi,s=Ba(e.getAttribute("enctype"))||gi,i=new FormData(e)}else if(Fv(e)||Uv(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?zt(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||mi,s=Ba(e.getAttribute("formenctype"))||Ba(l.getAttribute("enctype"))||gi,i=new FormData(l,e),!Jv()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(oa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mi,r=null,s=gi,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function rc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function qv(e,t){if(e.id in t)return t[e.id];try{let n=await In(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hv(e){return e!=null&&typeof e.page=="string"}function Kv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Gv(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await qv(i,n);return o.links?o.links():[]}return[]}));return Zv(r.flat(1).filter(Kv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Eu(e,t,n,r,s,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Qv(e,t,{includeHydrateFallback:n}={}){return Yv(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Yv(e){return[...new Set(e)]}function Xv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Zv(e,t){let n=new Set,r=new Set(t);return e.reduce((s,i)=>{if(t&&!Hv(i)&&i.as==="script"&&i.href&&r.has(i.href))return s;let l=JSON.stringify(Xv(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}var ey=new Set([100,101,204,205]);function ty(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&zt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Cf(){let e=g.useContext(Cr);return rc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ny(){let e=g.useContext(aa);return rc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sc=g.createContext(void 0);sc.displayName="FrameworkContext";function Ef(){let e=g.useContext(sc);return rc(e,"You must render this element inside a <HydratedRouter> element"),e}function ry(e,t){let n=g.useContext(sc),[r,s]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let k=v=>{v.forEach(p=>{o(p.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[e]),g.useEffect(()=>{if(r){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Fr(l,y),onBlur:Fr(c,w),onMouseEnter:Fr(u,y),onMouseLeave:Fr(d,w),onTouchStart:Fr(h,y)}]:[!1,f,{}]}function Fr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sy({page:e,...t}){let{router:n}=Cf(),r=g.useMemo(()=>mf(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(ay,{page:e,matches:r,...t}):null}function iy(e){let{manifest:t,routeModules:n}=Ef(),[r,s]=g.useState([]);return g.useEffect(()=>{let i=!1;return Gv(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function ay({page:e,matches:t,...n}){let r=Fn(),{manifest:s,routeModules:i}=Ef(),{basename:o}=Cf(),{loaderData:l,matches:c}=ny(),u=g.useMemo(()=>Eu(e,t,c,s,r,"data"),[e,t,c,s,r]),d=g.useMemo(()=>Eu(e,t,c,s,r,"assets"),[e,t,c,s,r]),h=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,k=!1;if(t.forEach(v=>{var m;let p=s.routes[v.route.id];!p||!p.hasLoader||(!u.some(_=>_.route.id===v.route.id)&&v.route.id in l&&((m=i[v.route.id])!=null&&m.shouldRevalidate)||p.hasClientLoader?k=!0:w.add(v.route.id))}),w.size===0)return[];let x=ty(e,o);return k&&w.size>0&&x.searchParams.set("_routes",t.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[o,l,r,s,u,t,e,i]),f=g.useMemo(()=>Qv(d,s),[d,s]),y=iy(d);return g.createElement(g.Fragment,null,h.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:k})=>g.createElement("link",{key:w,...k})))}function oy(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Nf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nf&&(window.__reactRouterVersion="7.5.3")}catch{}function ly({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=Kg({window:n,v5Compat:!0}));let s=r.current,[i,o]=g.useState({action:s.action,location:s.location}),l=g.useCallback(c=>{g.startTransition(()=>o(c))},[o]);return g.useLayoutEffect(()=>s.listen(l),[s,l]),g.createElement(Dv,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Tf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},y){let{basename:w}=g.useContext(Ct),k=typeof u=="string"&&Tf.test(u),x,v=!1;if(typeof u=="string"&&k&&(x=u,Nf))try{let T=new URL(window.location.href),E=u.startsWith("//")?new URL(T.protocol+u):new URL(u),I=zt(E.pathname,w);E.origin===T.origin&&I!=null?u=I+E.search+E.hash:v=!0}catch{kt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=_v(u,{relative:s}),[m,_,C]=ry(r,f),j=hy(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function S(T){t&&t(T),T.defaultPrevented||j(T)}let b=g.createElement("a",{...f,...C,href:x||p,onClick:v||i?t:S,ref:oy(y,_),target:c,"data-discover":!k&&n==="render"?"true":void 0});return m&&!k?g.createElement(g.Fragment,null,b,g.createElement(sy,{page:p})):b});En.displayName="Link";var cy=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let h=Ps(o,{relative:u.relative}),f=Fn(),y=g.useContext(aa),{navigator:w,basename:k}=g.useContext(Ct),x=y!=null&&vy(h)&&l===!0,v=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,p=f.pathname,m=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(p=p.toLowerCase(),m=m?m.toLowerCase():null,v=v.toLowerCase()),m&&k&&(m=zt(m,k)||m);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=p===v||!s&&p.startsWith(v)&&p.charAt(_)==="/",j=m!=null&&(m===v||!s&&m.startsWith(v)&&m.charAt(v.length)==="/"),S={isActive:C,isPending:j,isTransitioning:x},b=C?t:void 0,T;typeof r=="function"?T=r(S):T=[r,C?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof i=="function"?i(S):i;return g.createElement(En,{...u,"aria-current":b,className:T,ref:d,style:E,to:o,viewTransition:l},typeof c=="function"?c(S):c)});cy.displayName="NavLink";var uy=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=mi,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},y)=>{let w=my(),k=gy(l,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&Tf.test(l),p=m=>{if(c&&c(m),m.defaultPrevented)return;m.preventDefault();let _=m.nativeEvent.submitter,C=(_==null?void 0:_.getAttribute("formmethod"))||o;w(_||m.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return g.createElement("form",{ref:y,method:x,action:k,onSubmit:r?c:p,...f,"data-discover":!v&&e==="render"?"true":void 0})});uy.displayName="Form";function dy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pf(e){let t=g.useContext(Cr);return ue(t,dy(e)),t}function hy(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Er(),c=Fn(),u=Ps(e,{relative:i});return g.useCallback(d=>{if(Bv(d,t)){d.preventDefault();let h=n!==void 0?n:xs(c)===xs(u);l(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,r,t,e,s,i,o])}var fy=0,py=()=>`__${String(++fy)}__`;function my(){let{router:e}=Pf("useSubmit"),{basename:t}=g.useContext(Ct),n=Rv();return g.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=Vv(r,t);if(s.navigate===!1){let d=s.fetcherKey||py();await e.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function gy(e,{relative:t}={}){let{basename:n}=g.useContext(Ct),r=g.useContext(Et);ue(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ps(e||".",{relative:t})},o=Fn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Dt([n,i.pathname])),xs(i)}function vy(e,t={}){let n=g.useContext(xf);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pf("useViewTransitionState"),s=Ps(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=zt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bi(s.pathname,o)!=null||Bi(s.pathname,i)!=null}new TextEncoder;[...ey];const yy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>In(()=>Promise.resolve().then(()=>Nr),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ic extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class wy extends ic{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _y extends ic{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xy extends ic{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ho;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ho||(Ho={}));var jy=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Sy{constructor(t,{headers:n={},customFetch:r,region:s=Ho.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=yy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return jy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new wy(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new _y(d);if(!d.ok)throw new xy(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var ze={},ac={},la={},$s={},ca={},ua={},by=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xr=by();const ky=xr.fetch,$f=xr.fetch.bind(xr),Rf=xr.Headers,Cy=xr.Request,Ey=xr.Response,Nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rf,Request:Cy,Response:Ey,default:$f,fetch:ky},Symbol.toStringTag,{value:"Module"})),Ny=lp(Nr);var da={};Object.defineProperty(da,"__esModule",{value:!0});let Ty=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};da.default=Ty;var Of=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const Py=Of(Ny),$y=Of(da);let Ry=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Py.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&k===""?(f=204,y="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new $y.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ua.default=Ry;var Oy=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const Ay=Oy(ua);let Iy=class extends Ay.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ca.default=Iy;var Dy=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});const Ly=Dy(ca);let Fy=class extends Ly.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$s.default=Fy;var My=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const Mr=My($s);let Uy=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};la.default=Uy;var ha={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.version=void 0;fa.version="0.0.0-automated";Object.defineProperty(ha,"__esModule",{value:!0});ha.DEFAULT_HEADERS=void 0;const zy=fa;ha.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zy.version}`};var Af=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0});const By=Af(la),Jy=Af($s),Wy=ha;let Vy=class If{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Wy.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new By.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new If(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Jy.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ac.default=Vy;var Tr=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const Df=Tr(ac);ze.PostgrestClient=Df.default;const Lf=Tr(la);ze.PostgrestQueryBuilder=Lf.default;const Ff=Tr($s);ze.PostgrestFilterBuilder=Ff.default;const Mf=Tr(ca);ze.PostgrestTransformBuilder=Mf.default;const Uf=Tr(ua);ze.PostgrestBuilder=Uf.default;const zf=Tr(da);ze.PostgrestError=zf.default;var qy=ze.default={PostgrestClient:Df.default,PostgrestQueryBuilder:Lf.default,PostgrestFilterBuilder:Ff.default,PostgrestTransformBuilder:Mf.default,PostgrestBuilder:Uf.default,PostgrestError:zf.default};const{PostgrestClient:Hy,PostgrestQueryBuilder:r1,PostgrestFilterBuilder:s1,PostgrestTransformBuilder:i1,PostgrestBuilder:a1,PostgrestError:o1}=qy,Ky="2.11.2",Gy={"X-Client-Info":`realtime-js/${Ky}`},Qy="1.0.0",Bf=1e4,Yy=1e3;var hr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hr||(hr={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ut||(ut={}));var Ko;(function(e){e.websocket="websocket"})(Ko||(Ko={}));var _n;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_n||(_n={}));class Xy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Jf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const Nu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Zy(o,e,t,s),i),{})},Zy=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Wf(i,o):Go(o)},Wf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return r0(t,n)}switch(e){case ne.bool:return e0(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return t0(t);case ne.json:case ne.jsonb:return n0(t);case ne.timestamp:return s0(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Go(t);default:return Go(t)}},Go=e=>e,e0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},n0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},r0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Wf(t,l))}return e},s0=e=>typeof e=="string"?e.replace(" ","T"):e,Vf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ja{constructor(t,n,r={},s=Bf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Tu||(Tu={}));class ts{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ts.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ts.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),w=d.filter(x=>y.indexOf(x.presence_ref)<0),k=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),k.length>0&&(c[u]=k)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pu||(Pu={}));var $u;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($u||($u={}));var $t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class oc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ja(this,ut.join,this.params,this.timeout),this.rejoinTimer=new Jf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ts(this),this.broadcastEndpointURL=Vf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t($t.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t($t.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t($t.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let k=0;k<y;k++){const x=f[k],{filter:{event:v,schema:p,table:m,filter:_}}=x,C=d&&d[k];if(C&&C.event===v&&C.schema===p&&C.table===m&&C.filter===_)w.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),t==null||t($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t($t.SUBSCRIBED);return}}).receive("error",d=>{t==null||t($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ja(this,ut.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ja(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ut;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,k,x;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(k=y.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,k,x,v,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,C=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((k=n.ids)===null||k===void 0?void 0:k.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(p=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:k,table:x,commit_timestamp:v,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:v,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}y.callback(f,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oc.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ut.close,{},t)}_onError(t){this._on(ut.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nu(t.columns,t.old_record)),n}}const i0=()=>{},a0=typeof WebSocket<"u",o0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gy,this.params={},this.timeout=Bf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=i0,this.conn=null,this.sendBuffer=[],this.serializer=new Xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>In(()=>Promise.resolve().then(()=>Nr),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ko.websocket}`,this.httpEndpoint=Vf(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(a0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new c0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),In(()=>import("./browser-6e5212a0.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qy}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hr.connecting:return _n.Connecting;case hr.open:return _n.Open;case hr.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}channel(t,n={config:{}}){const r=new oc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(ut.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Yy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ut.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([o0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class c0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class lc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u0 extends lc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qo extends lc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var d0=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const qf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>In(()=>Promise.resolve().then(()=>Nr),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},h0=()=>d0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield In(()=>Promise.resolve().then(()=>Nr),void 0)).Response:Response}),Yo=e=>{if(Array.isArray(e))return e.map(n=>Yo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Yo(r)}),t};var Mn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f0=(e,t,n)=>Mn(void 0,void 0,void 0,function*(){const r=yield h0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new u0(Wa(s),e.status||500))}).catch(s=>{t(new Qo(Wa(s),s))}):t(new Qo(Wa(e),e))}),p0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Rs(e,t,n,r,s,i){return Mn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,p0(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>f0(c,l,r))})})}function Ji(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Rs(e,"GET",t,n,r)})}function Gt(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"POST",t,r,s,n)})}function m0(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"PUT",t,r,s,n)})}function g0(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Rs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Hf(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"DELETE",t,r,s,n)})}var Me=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const v0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=qf(s)}uploadOrUpdate(t,n,r,s){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ru),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Ru.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(_e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new lc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Me(this,void 0,void 0,function*(){try{const s=yield Gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(t,n){return Me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ji(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}info(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ji(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yo(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof Qo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}list(t,n,r){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},v0),n),{prefix:t||""});return{data:yield Gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const w0="2.7.1",_0={"X-Client-Info":`storage-js/${w0}`};var Jn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class x0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},_0),n),this.fetch=qf(r)}listBuckets(){return Jn(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jn(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jn(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}}class j0 extends x0{constructor(t,n={},r){super(t,n,r)}from(t){return new y0(this.url,this.headers,t,this.fetch)}}const S0="2.49.4";let Vr="";typeof Deno<"u"?Vr="deno":typeof document<"u"?Vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vr="react-native":Vr="node";const b0={"X-Client-Info":`supabase-js-${Vr}/${S0}`},k0={headers:b0},C0={schema:"public"},E0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N0={};var T0=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=$f:t=fetch,(...n)=>t(...n)},$0=()=>typeof Headers>"u"?Rf:Headers,R0=(e,t,n)=>{const r=P0(n),s=$0();return(i,o)=>T0(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var O0=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function A0(e){return e.replace(/\/$/,"")}function I0(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>O0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Kf="2.69.1",qn=30*1e3,Xo=3,Va=Xo*qn,D0="http://localhost:9999",L0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${Kf}`},Zo="X-Supabase-Api-Version",Gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U0=6e5;class cc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z0 extends cc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function B0(e){return H(e)&&e.name==="AuthApiError"}class Qf extends cc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mn extends cc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Vt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J0(e){return H(e)&&e.name==="AuthSessionMissingError"}class qa extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends mn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends mn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W0(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ou extends mn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class el extends mn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ha(e){return H(e)&&e.name==="AuthRetryableFetchError"}class Au extends mn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ns extends mn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Du=` 	
\r=`.split(""),V0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Du.length;t+=1)e[Du[t].charCodeAt(0)]=-2;for(let t=0;t<Iu.length;t+=1)e[Iu[t].charCodeAt(0)]=t;return e})();function Yf(e,t,n){const r=V0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{K0(o,r,n)};for(let o=0;o<e.length;o+=1)Yf(e.charCodeAt(o),s,i);return t.join("")}function q0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function H0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}q0(r,t)}}function K0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function G0(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Yf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Q0(e){const t=[];return H0(e,n=>t.push(n)),new Uint8Array(t)}function Y0(e){return Math.round(Date.now()/1e3)+e}function X0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yt=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},rs=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function Z0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Xf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>In(()=>Promise.resolve().then(()=>Nr),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ew=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ei=async(e,t)=>{await e.removeItem(t)};class pa{constructor(){this.promise=new pa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}pa.promiseConstructor=Promise;function Ka(e){const t=e.split(".");if(t.length!==3)throw new ns("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!M0.test(t[r]))throw new ns("JWT not in base64url format");return{header:JSON.parse(Lu(t[0])),payload:JSON.parse(Lu(t[1])),signature:G0(t[2]),raw:{header:t[0],payload:t[1]}}}async function tw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nw(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function rw(e){return("0"+e.toString(16)).substr(-2)}function sw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,rw).join("")}async function iw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function aw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await iw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wn(e,t,n=!1){const r=sw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zf(e,`${t}-code-verifier`,s);const i=await aw(r);return[i,r===i?"plain":"s256"]}const ow=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lw(e){const t=e.headers.get(Zo);if(!t||!t.match(ow))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var dw=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hw=[502,503,504];async function Fu(e){var t;if(!ew(e))throw new el(wn(e),0);if(hw.includes(e.status))throw new el(wn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Qf(wn(i),i)}let r;const s=lw(e);if(s&&s.getTime()>=Gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Au(wn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Au(wn(n),e.status,n.weak_password.reasons);throw new z0(wn(n),e.status||500,r)}const fw=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Q(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Zo]||(i[Zo]=Gf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pw(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function pw(e,t,n,r,s,i){const o=fw(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new el(wn(c),0)}if(l.ok||await Fu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Fu(c)}}function qt(e){var t;let n=null;yw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Y0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Mu(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mw(e){return{data:e,error:null}}function gw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=dw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function vw(e){return e}function yw(e){return e.access_token&&e.refresh_token&&e.expires_in}var ww=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _w{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Xf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ww(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vw});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=k}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const xw={getItem:e=>rs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rs()&&globalThis.localStorage.removeItem(e)}};function Uu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vn={debug:!!(globalThis&&rs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sw extends ep{}async function bw(e,t,n){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jw();const kw={url:D0,storageKey:L0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zu(e,t,n){return await n()}class js{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=js.nextInstanceID,js.nextInstanceID+=1,this.instanceID>0&&yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _w({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Xf(s.fetch),this.lock=s.lock||zu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bw:this.lock=zu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:rs()?this.storage=xw:(this.memoryStorage={},this.storage=Uu(this.memoryStorage)):(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Z0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),W0(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new Qf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Wn(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:qt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qt})}else throw new Ys("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else throw new Ys("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qt});if(await ei(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wn(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ys("You must provide either an email or phone number.")}catch(l){if(H(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Wn(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mw})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Vt;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ys("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Va:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(n){if(H(n))return J0(n)&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Vt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wn(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ka(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Vt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new Xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ou("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ou("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:k,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(B0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=X0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Wn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nw(async s=>(s>0&&await tw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ha(i)&&Date.now()+o-r<qn})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Va;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Va}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ha(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),H(i)){const o={session:null,error:i};return Ha(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ei(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qn}ms, refresh threshold is ${Xo} ticks`),s<=Xo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ep)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ka(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+U0>Date.now()))return r;const{data:s,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ns("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new ns("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ka(r);if(cw(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=uw(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Q0(`${l}.${c}`)))throw new ns("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}js.nextInstanceID=0;const Cw=js;class Ew extends Cw{constructor(t){super(t)}}var Nw=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Tw{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=A0(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:C0,realtime:N0,auth:Object.assign(Object.assign({},E0),{storageKey:c}),global:k0},d=I0(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=R0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Hy(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Sy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Nw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ew({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new l0(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pw=(e,t,n)=>new Tw(e,t,n),$w="https://ptteznhpucxroxuebuix.supabase.co",Rw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0dGV6bmhwdWN4cm94dWVidWl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUyMTc5NTksImV4cCI6MjA2MDc5Mzk1OX0.M8IUSvTfmcqfiK9M3j-oNQKAoMEpgJ_MtHdrfOnDfnw",ti=Pw($w,Rw),tp=g.createContext(void 0),Ow=({children:e})=>{const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!1),[l,c]=g.useState(null),u=async(w,k)=>{o(!0),c(null);try{const{data:x,error:v}=await ti.from("users").select("*").eq("account",w).eq("password",k).eq("is_active",!0).single();if(v)throw new Error("登录失败: "+v.message);if(!x)throw new Error("用户名或密码错误");n(x),localStorage.setItem("authType","user"),localStorage.setItem("authData",JSON.stringify(x))}catch(x){console.error("登录错误:",x),c(x.message)}finally{o(!1)}},d=async(w,k)=>{o(!0),c(null);try{const{data:x,error:v}=await ti.from("admins").select("*").eq("admin_username",w).eq("admin_password",k).eq("is_active",!0).single();if(v)throw new Error("登录失败: "+v.message);if(!x)throw new Error("管理员用户名或密码错误");s(x),localStorage.setItem("authType","admin"),localStorage.setItem("authData",JSON.stringify(x))}catch(x){console.error("登录错误:",x),c(x.message)}finally{o(!1)}},h=async()=>{n(null),s(null),localStorage.removeItem("authType"),localStorage.removeItem("authData")},f=()=>{c(null)};g.useEffect(()=>{const w=localStorage.getItem("authType"),k=localStorage.getItem("authData");if(w&&k)try{const x=JSON.parse(k);w==="user"?n(x):w==="admin"&&s(x)}catch(x){console.error("解析存储的认证数据出错:",x),localStorage.removeItem("authType"),localStorage.removeItem("authData")}},[]);const y={user:t,admin:r,supabase:ti,loading:i,error:l,loginUser:u,loginAdmin:d,logout:h,clearError:f};return console.log("AuthContext值:",{user:t,admin:r,hasSupabase:!!ti}),a.jsx(tp.Provider,{value:y,children:e})},be=()=>{const e=g.useContext(tp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};const Aw=()=>{const{user:e,admin:t,logout:n}=be(),[r,s]=g.useState(!1),i=Er(),o=async()=>{await n(),i("/")},l=()=>{s(!0)},c=()=>{s(!1)},u=d=>{s(!1),i(d)};return a.jsxs("header",{className:"app-header",children:[a.jsxs("div",{className:"header-container",children:[a.jsx("h1",{className:"site-title",children:a.jsx(En,{to:"/",children:"校园招聘信息平台"})}),a.jsx("nav",{className:"main-nav",children:a.jsx("ul",{className:"nav-links",children:a.jsx("li",{children:a.jsx(En,{to:"/",className:"highlight-link",children:"招聘分类"})})})}),a.jsx("div",{className:"header-right",children:!e&&!t?a.jsx("div",{className:"login-container",children:a.jsx("button",{onClick:l,className:"login-button",children:"登录"})}):a.jsxs("div",{className:"user-info",children:[e&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"welcome-text",children:["欢迎，",e.username]}),a.jsx(En,{to:"/user/dashboard",className:"dashboard-link",children:"个人中心"})]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"welcome-text",children:["管理员：",t.admin_username]}),a.jsx(En,{to:"/admin/dashboard",className:"dashboard-link",children:"管理控制台"})]}),a.jsx("button",{onClick:o,className:"logout-button",children:"退出登录"})]})})]}),r&&a.jsx("div",{className:"login-modal-overlay",onClick:c,children:a.jsxs("div",{className:"login-modal",onClick:d=>d.stopPropagation(),children:[a.jsx("h3",{children:"选择登录方式"}),a.jsxs("div",{className:"login-modal-options",children:[a.jsx("button",{className:"login-modal-option user-login",onClick:()=>u("/login/user"),children:"用户登录"}),a.jsx("button",{className:"login-modal-option admin-login",onClick:()=>u("/login/admin"),children:"管理员登录"})]}),a.jsx("button",{className:"login-modal-close",onClick:c,children:"关闭"})]})})]})};const Iw=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{loginAdmin:o,loading:l,error:c,clearError:u,admin:d}=be(),h=Er();g.useEffect(()=>{d&&h("/admin/dashboard")},[d,h]);const f=()=>{i(!s)},y=async w=>{if(w.preventDefault(),u(),!(!e.trim()||!n.trim()))try{await o(e,n)}catch{}};return a.jsx("div",{className:"login-page",children:a.jsxs("div",{className:"login-form-container",children:[a.jsx("h2",{children:"管理员登录"}),a.jsx("p",{className:"login-subtitle",children:"请输入您的管理员账号和密码"}),c&&a.jsxs("div",{className:"error-message",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:c})]}),a.jsxs("form",{onSubmit:y,className:"login-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"username",children:"管理员用户名"}),a.jsx("input",{type:"text",id:"username",value:e,onChange:w=>t(w.target.value),required:!0,disabled:l,className:"form-input",placeholder:"请输入管理员用户名"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"密码"}),a.jsxs("div",{className:"password-input-container",children:[a.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:w=>r(w.target.value),required:!0,disabled:l,className:"form-input",placeholder:"请输入密码"}),a.jsx("button",{type:"button",className:"toggle-password-btn",onClick:f,children:s?"隐藏":"显示"})]})]}),a.jsx("button",{type:"submit",className:"login-submit-btn",disabled:l,children:l?"正在登录...":"登录管理控制台"})]}),a.jsx("div",{className:"login-footer",children:a.jsx("button",{onClick:()=>h("/"),className:"back-to-home",children:"返回首页"})})]})})},Dw=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{loginUser:o,loading:l,error:c,clearError:u,user:d}=be(),h=Er();g.useEffect(()=>{d&&h("/user/dashboard")},[d,h]);const f=()=>{i(!s)},y=async w=>{if(w.preventDefault(),u(),!(!e.trim()||!n.trim()))try{await o(e,n)}catch{}};return a.jsx("div",{className:"login-page",children:a.jsxs("div",{className:"login-form-container",children:[a.jsx("h2",{children:"用户登录"}),a.jsx("p",{className:"login-subtitle",children:"请输入您的账号和密码"}),c&&a.jsxs("div",{className:"error-message",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:c})]}),a.jsxs("form",{onSubmit:y,className:"login-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"account",children:"账号"}),a.jsx("input",{type:"text",id:"account",value:e,onChange:w=>t(w.target.value),required:!0,disabled:l,className:"form-input",placeholder:"请输入您的账号"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"密码"}),a.jsxs("div",{className:"password-input-container",children:[a.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:w=>r(w.target.value),required:!0,disabled:l,className:"form-input",placeholder:"请输入密码"}),a.jsx("button",{type:"button",className:"toggle-password-btn",onClick:f,children:s?"隐藏":"显示"})]})]}),a.jsx("button",{type:"submit",className:"login-submit-btn",disabled:l,children:l?"正在登录...":"登录个人中心"})]}),a.jsx("div",{className:"login-footer",children:a.jsx("button",{onClick:()=>h("/"),className:"back-to-home",children:"返回首页"})})]})})};const xn=class xn{constructor(){pe(this,"storage");pe(this,"defaultExpirations",{jobs:5*60*1e3,categories:10*60*1e3,tags:10*60*1e3,statistics:15*60*1e3,users:15*60*1e3});this.storage=window.localStorage}static getInstance(){return xn.instance||(xn.instance=new xn),xn.instance}set(t,n,r){const s=t.split(":")[0],i=(r==null?void 0:r.expiresIn)||this.defaultExpirations[s]||5*60*1e3,o={data:n,timestamp:Date.now(),expiresIn:i};try{this.storage.setItem(t,JSON.stringify(o))}catch(l){console.error("缓存数据时出错:",l),this.clearAllCache();try{this.storage.setItem(t,JSON.stringify(o))}catch(c){console.error("再次尝试缓存数据失败:",c)}}}get(t){const n=this.storage.getItem(t);if(!n)return null;try{const r=JSON.parse(n);return Date.now()-r.timestamp>r.expiresIn?(this.remove(t),null):r.data}catch(r){return console.error("解析缓存数据时出错:",r),this.remove(t),null}}remove(t){this.storage.removeItem(t)}clearKey(t){this.remove(t)}clearAllCache(){this.storage.clear()}clearTypeCache(t){const n=`${t}:`,r=[];for(let s=0;s<this.storage.length;s++){const i=this.storage.key(s);i&&i.startsWith(n)&&r.push(i)}r.forEach(s=>this.storage.removeItem(s))}isExpired(t){const n=this.storage.getItem(t);if(!n)return!0;try{const r=JSON.parse(n);return Date.now()-r.timestamp>r.expiresIn}catch{return!0}}};pe(xn,"instance");let tl=xn;const jn=class jn{constructor(){pe(this,"supabase",null);pe(this,"subscriptions",[]);pe(this,"isInitialized",!1);pe(this,"importanceConfig",{job_recruitments:{INSERT:!0,UPDATE:!0,DELETE:!0},job_categories:{INSERT:!0,UPDATE:!0,DELETE:!0},tags:{INSERT:!0,UPDATE:!0,DELETE:!0},users:{INSERT:!1,UPDATE:!1,DELETE:!1},activation_codes:{INSERT:!1,UPDATE:!1,DELETE:!1},job_tags:{INSERT:!0,UPDATE:!0,DELETE:!0}})}static getInstance(){return jn.instance||(jn.instance=new jn),jn.instance}initialize(t){this.isInitialized||(this.supabase=t,this.isInitialized=!0,console.log("通知服务已初始化"))}subscribe(t,n,r){if(!this.isInitialized||!this.supabase)throw new Error("通知服务尚未初始化");const s=`${t}_${n}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=this.supabase.channel(s).on("postgres_changes",{event:n,schema:"public",table:t},o=>{console.log(`收到 ${t} 表的 ${n} 事件:`,o),this.isChangeImportant(t,n)&&r.onNotify(o)}).subscribe();return this.subscriptions.push({table:t,event:n,listener:r,subscription:i}),console.log(`已订阅 ${t} 表的 ${n} 事件`),s}unsubscribe(t,n,r){if(!this.isInitialized||!this.supabase)throw new Error("通知服务尚未初始化");const s=this.subscriptions.filter(i=>i.table===t&&i.event===n&&(!r||i.listener===r));s.forEach(i=>{this.supabase&&this.supabase.removeChannel(i.subscription);const o=this.subscriptions.indexOf(i);o!==-1&&this.subscriptions.splice(o,1)}),console.log(`已取消 ${s.length} 个 ${t} 表的 ${n} 事件订阅`)}unsubscribeAll(){if(!this.isInitialized||!this.supabase)throw new Error("通知服务尚未初始化");this.subscriptions.forEach(t=>{this.supabase&&this.supabase.removeChannel(t.subscription)}),this.subscriptions=[],console.log("已取消所有订阅")}isChangeImportant(t,n){return!this.importanceConfig[t]||this.importanceConfig[t][n]===void 0?!0:this.importanceConfig[t][n]}};pe(jn,"instance");let nl=jn;const Sn=class Sn{constructor(){pe(this,"supabase",null);pe(this,"cacheService");pe(this,"notificationService");pe(this,"isInitialized",!1);pe(this,"jobsCallbacks",[]);pe(this,"categoriesCallbacks",[]);pe(this,"tagsCallbacks",[]);pe(this,"usersCallbacks",[]);pe(this,"activationCodesCallbacks",[]);pe(this,"statisticsCallbacks",[]);pe(this,"userActionsCallbacks",[]);this.cacheService=tl.getInstance(),this.notificationService=nl.getInstance()}static getInstance(){return Sn.instance||(Sn.instance=new Sn),Sn.instance}initialize(t){this.isInitialized||(this.supabase=t,this.notificationService.initialize(t),this.setupSubscriptions(),this.isInitialized=!0,console.log("数据服务已初始化"))}setupSubscriptions(){!this.notificationService||!this.supabase||(this.notificationService.subscribe("job_recruitments","*",{onNotify:t=>{console.log("招聘信息变更:",t),this.cacheService.clearTypeCache("jobs"),this.refreshJobs()}}),this.notificationService.subscribe("job_categories","*",{onNotify:t=>{console.log("分类信息变更:",t),this.cacheService.clearTypeCache("categories"),this.refreshCategories()}}),this.notificationService.subscribe("tags","*",{onNotify:t=>{console.log("标签信息变更:",t),this.cacheService.clearTypeCache("tags"),this.refreshTags()}}),this.notificationService.subscribe("job_tags","*",{onNotify:t=>{console.log("招聘信息标签关系变更:",t),this.cacheService.clearTypeCache("jobs"),this.refreshJobs()}}),this.notificationService.subscribe("user_actions","*",{onNotify:t=>{console.log("用户行为变更:",t),this.cacheService.clearTypeCache("userActions"),this.cacheService.clearTypeCache("jobs"),this.refreshUserActions(),this.refreshJobs()}}))}getJobs(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.jobsCallbacks.includes(t)||this.jobsCallbacks.push(t);const r="jobs:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.supabase.from("job_recruitments").select("*").order("created_at",{ascending:!1}).then(({data:i,error:o})=>{if(o){console.error("获取招聘信息错误:",o);return}this.cacheService.set(r,i),t(i)})}getCategories(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.categoriesCallbacks.includes(t)||this.categoriesCallbacks.push(t);const r="categories:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.supabase.from("job_categories").select("*").order("id").then(({data:i,error:o})=>{if(o){console.error("获取分类信息错误:",o);return}this.cacheService.set(r,i),t(i)})}getTags(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.tagsCallbacks.includes(t)||this.tagsCallbacks.push(t);const r="tags:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.supabase.from("tags").select("*").order("tag_type").order("tag_name").then(({data:i,error:o})=>{if(o){console.error("获取标签信息错误:",o);return}this.cacheService.set(r,i),t(i)})}getUsers(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.usersCallbacks.includes(t)||this.usersCallbacks.push(t);const r="users:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.supabase.from("users").select("*").order("created_at",{ascending:!1}).then(({data:i,error:o})=>{if(o){console.error("获取用户信息错误:",o);return}this.cacheService.set(r,i),t(i)})}getActivationCodes(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.activationCodesCallbacks.includes(t)||this.activationCodesCallbacks.push(t);const r="activationCodes:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.supabase.from("activation_codes").select("*").order("created_at",{ascending:!1}).then(({data:i,error:o})=>{if(o){console.error("获取激活码信息错误:",o);return}this.cacheService.set(r,i),t(i)})}getStatistics(t,n=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.statisticsCallbacks.includes(t)||this.statisticsCallbacks.push(t);const r="statistics:all",s=this.cacheService.get(r);if(s&&!n){t(s);return}this.calculateStatistics().then(i=>{this.cacheService.set(r,[i]),t([i])})}async calculateStatistics(){if(!this.supabase)throw new Error("数据服务尚未初始化");try{const{data:t,error:n}=await this.supabase.from("job_recruitments").select("id, is_active",{count:"exact"});if(n)throw n;const r=(t==null?void 0:t.filter(d=>d.is_active).length)||0,{data:s,error:i}=await this.supabase.from("users").select("id, is_active",{count:"exact"});if(i)throw i;const o=(s==null?void 0:s.filter(d=>d.is_active).length)||0,{data:l,error:c}=await this.supabase.from("activation_codes").select("id, is_used",{count:"exact"});if(c)throw c;const u=(l==null?void 0:l.filter(d=>d.is_used).length)||0;return{totalJobs:(t==null?void 0:t.length)||0,activeJobs:r,totalUsers:(s==null?void 0:s.length)||0,activeUsers:o,totalActivationCodes:(l==null?void 0:l.length)||0,usedActivationCodes:u}}catch(t){return console.error("计算统计数据错误:",t),{totalJobs:0,activeJobs:0,totalUsers:0,activeUsers:0,totalActivationCodes:0,usedActivationCodes:0}}}refreshJobs(){!this.isInitialized||!this.supabase||this.supabase.from("job_recruitments").select("*").order("created_at",{ascending:!1}).then(({data:t,error:n})=>{if(n){console.error("刷新招聘信息错误:",n);return}this.cacheService.set("jobs:all",t),this.jobsCallbacks.forEach(r=>r(t))})}refreshCategories(){!this.isInitialized||!this.supabase||this.supabase.from("job_categories").select("*").order("id").then(({data:t,error:n})=>{if(n){console.error("刷新分类信息错误:",n);return}this.cacheService.set("categories:all",t),this.categoriesCallbacks.forEach(r=>r(t))})}refreshTags(){!this.isInitialized||!this.supabase||this.supabase.from("tags").select("*").order("tag_type").order("tag_name").then(({data:t,error:n})=>{if(n){console.error("刷新标签信息错误:",n);return}this.cacheService.set("tags:all",t),this.tagsCallbacks.forEach(r=>r(t))})}refreshUsers(){!this.isInitialized||!this.supabase||this.supabase.from("users").select("*").order("created_at",{ascending:!1}).then(({data:t,error:n})=>{if(n){console.error("刷新用户信息错误:",n);return}this.cacheService.set("users:all",t),this.usersCallbacks.forEach(r=>r(t))})}refreshActivationCodes(){!this.isInitialized||!this.supabase||this.supabase.from("activation_codes").select("*").order("created_at",{ascending:!1}).then(({data:t,error:n})=>{if(n){console.error("刷新激活码信息错误:",n);return}this.cacheService.set("activationCodes:all",t),this.activationCodesCallbacks.forEach(r=>r(t))})}refreshStatistics(){!this.isInitialized||!this.supabase||this.calculateStatistics().then(t=>{this.cacheService.set("statistics:all",[t]),this.statisticsCallbacks.forEach(n=>n([t]))})}getUserActions(t,n,r=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");this.userActionsCallbacks.includes(n)||this.userActionsCallbacks.push(n);const s=`userActions:${t}`,i=this.cacheService.get(s);if(i&&!r){n(i);return}this.supabase.from("user_actions").select("*").eq("user_id",t).then(({data:o,error:l})=>{if(l){console.error("获取用户行为记录错误:",l);return}this.cacheService.set(s,o||[]),n(o||[])})}async getFavoriteJobIds(t){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const n=`favoriteJobIds:${t}`,r=this.cacheService.get(n);if(r)return r;try{const{data:s,error:i}=await this.supabase.from("user_actions").select("favorite_job_ids").eq("user_id",t).single();if(i){if(i.code==="PGRST116")return[];throw console.error("获取收藏职位ID错误:",i),i}const o=(s==null?void 0:s.favorite_job_ids)||[];return this.cacheService.set(n,o,{expiresIn:5*60*1e3}),o}catch(s){return console.error("获取收藏职位ID失败:",s),[]}}async getApplicationJobIds(t){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const n=`applicationJobIds:${t}`,r=this.cacheService.get(n);if(r)return r;try{const{data:s,error:i}=await this.supabase.from("user_actions").select("application_job_ids").eq("user_id",t).single();if(i){if(i.code==="PGRST116")return[];throw console.error("获取投递职位ID错误:",i),i}const o=(s==null?void 0:s.application_job_ids)||[];return this.cacheService.set(n,o,{expiresIn:5*60*1e3}),o}catch(s){return console.error("获取投递职位ID失败:",s),[]}}getUserFavoriteJobs(t,n,r=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const s=`userFavoriteJobs:${t}`,i=this.cacheService.get(s),o=`requesting:${s}`,l=this.cacheService.get(o);if(i&&!r){n(i);return}if(l&&!r){console.log("已经有相同请求在进行中，跳过重复请求"),i&&n(i);return}this.cacheService.set(o,!0,{expiresIn:3e4}),n([]),this.getFavoriteJobIds(t).then(c=>{var u;if(c.length===0){this.cacheService.set(s,[]),n([]),this.cacheService.remove(o);return}(u=this.supabase)==null||u.from("job_recruitments").select("*").in("id",c).order("updated_at",{ascending:!1}).then(({data:d,error:h})=>{if(this.cacheService.remove(o),h){console.error("获取招聘信息详情错误:",h),n([]);return}const y=[...d||[]].sort((w,k)=>{const x=c.indexOf(w.id),v=c.indexOf(k.id);return x-v});this.cacheService.set(s,y),n(y)}).catch(d=>{this.cacheService.remove(o),console.error("查询招聘信息失败:",d),n([])})}).catch(c=>{this.cacheService.remove(o),console.error("获取用户收藏职位ID错误:",c),n([])})}getUserApplicationJobs(t,n,r=!1){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const s=`userApplicationJobs:${t}`,i=this.cacheService.get(s),o=`requesting:${s}`,l=this.cacheService.get(o);if(i&&!r){n(i);return}if(l&&!r){console.log("已经有相同请求在进行中，跳过重复请求"),i&&n(i);return}this.cacheService.set(o,!0,{expiresIn:3e4}),n([]),this.getApplicationJobIds(t).then(c=>{var u;if(c.length===0){this.cacheService.set(s,[]),n([]),this.cacheService.remove(o);return}(u=this.supabase)==null||u.from("job_recruitments").select("*").in("id",c).order("updated_at",{ascending:!1}).then(({data:d,error:h})=>{if(this.cacheService.remove(o),h){console.error("获取招聘信息详情错误:",h),n([]);return}const y=[...d||[]].sort((w,k)=>{const x=c.indexOf(w.id),v=c.indexOf(k.id);return x-v});this.cacheService.set(s,y),n(y)}).catch(d=>{this.cacheService.remove(o),console.error("查询招聘信息失败:",d),n([])})}).catch(c=>{this.cacheService.remove(o),console.error("获取用户投递职位ID错误:",c),n([])})}async toggleFavorite(t,n,r){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");try{if(r){const{error:s}=await this.supabase.rpc("add_favorite_job",{user_id_param:t,job_id_param:n});if(s)throw console.error("添加收藏错误:",s),s;this.updateLocalFavoriteCache(t,n,!0)}else{const{error:s}=await this.supabase.rpc("remove_favorite_job",{user_id_param:t,job_id_param:n});if(s)throw console.error("取消收藏错误:",s),s;this.updateLocalFavoriteCache(t,n,!1)}this.cacheService.remove(`userFavoriteJobs:${t}`),this.cacheService.remove(`userActions:${t}`),this.cacheService.remove(`favoriteJobIds:${t}`),this.cacheService.remove(`jobs:${n}`),this.cacheService.clearTypeCache("userActions"),this.cacheService.clearTypeCache("jobs"),this.refreshUserActions(),this.refreshJobs(),console.log(`用户${t}${r?"收藏":"取消收藏"}职位${n}成功，已清除相关缓存`)}catch(s){throw console.error("切换收藏状态失败:",s),s}}updateLocalFavoriteCache(t,n,r){const s=`favoriteJobIds:${t}`,i=this.cacheService.get(s)||[];if(r)i.includes(n)||(i.unshift(n),this.cacheService.set(s,i));else{const o=i.filter(l=>l!==n);this.cacheService.set(s,o)}}async addApplication(t,n){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");try{const{error:r}=await this.supabase.rpc("add_application_job",{user_id_param:t,job_id_param:n});if(r)throw console.error("添加投递记录错误:",r),r;this.updateLocalApplicationCache(t,n),this.cacheService.clearKey(`userApplicationJobs:${t}`),this.cacheService.clearKey(`userActions:${t}`),this.cacheService.clearKey(`applicationJobIds:${t}`),this.cacheService.clearTypeCache("jobs"),this.refreshUserActions(),this.refreshJobs()}catch(r){throw console.error("添加投递记录失败:",r),r}}updateLocalApplicationCache(t,n){const r=`applicationJobIds:${t}`,s=this.cacheService.get(r)||[];s.includes(n)||(s.unshift(n),this.cacheService.set(r,s))}async checkIsFavorite(t,n){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const r=`favoriteJobIds:${t}`,s=this.cacheService.get(r);if(s)return s.includes(n);try{const{data:i,error:o}=await this.supabase.rpc("is_job_favorited",{user_id_param:t,job_id_param:n});return o?(console.error("检查收藏状态错误:",o),!1):(this.getFavoriteJobIds(t).then(l=>{}).catch(l=>{console.error("获取收藏列表失败:",l)}),!!i)}catch(i){return console.error("检查收藏状态失败:",i),!1}}async checkIsApplied(t,n){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const r=`applicationJobIds:${t}`,s=this.cacheService.get(r);if(s)return s.includes(n);try{const{data:i,error:o}=await this.supabase.rpc("is_job_applied",{user_id_param:t,job_id_param:n});return o?(console.error("检查投递状态错误:",o),!1):(this.getApplicationJobIds(t).then(l=>{}).catch(l=>{console.error("获取投递列表失败:",l)}),!!i)}catch(i){return console.error("检查投递状态失败:",i),!1}}refreshUserActions(){if(!this.isInitialized){console.warn("数据服务尚未初始化，无法刷新用户行为数据");return}this.cacheService.clearTypeCache("userActions"),this.cacheService.clearTypeCache("userFavoriteJobs"),this.cacheService.clearTypeCache("userApplicationJobs"),this.userActionsCallbacks.forEach(t=>{t([])})}unsubscribe(t){this.jobsCallbacks=this.jobsCallbacks.filter(n=>n!==t),this.categoriesCallbacks=this.categoriesCallbacks.filter(n=>n!==t),this.tagsCallbacks=this.tagsCallbacks.filter(n=>n!==t),this.usersCallbacks=this.usersCallbacks.filter(n=>n!==t),this.activationCodesCallbacks=this.activationCodesCallbacks.filter(n=>n!==t),this.statisticsCallbacks=this.statisticsCallbacks.filter(n=>n!==t),this.userActionsCallbacks=this.userActionsCallbacks.filter(n=>n!==t)}clearAllCache(){this.cacheService.clearAllCache()}async incrementJobViews(t){if(!this.isInitialized||!this.supabase)throw new Error("数据服务尚未初始化");const n=`jobView:${t}`,r=this.cacheService.get(n);if(r&&Date.now()-r<3e4){console.log("30秒内已增加过该职位浏览次数，跳过");return}try{this.cacheService.set(n,Date.now(),{expiresIn:6e4});const{error:s}=await this.supabase.rpc("increment_job_views",{job_id_param:t});if(s)throw console.error("增加浏览次数错误:",s),s;const i=`jobs:${t}`,o=this.cacheService.get(i);o&&(o.views_count=(o.views_count||0)+1,this.cacheService.set(i,o));const l=[i,n],c=[];for(let u=0;u<window.localStorage.length;u++){const d=window.localStorage.key(u);d&&d.startsWith("jobs:")&&!l.includes(d)&&c.push(d)}c.forEach(u=>this.cacheService.remove(u)),this.refreshJobs()}catch(s){console.error("增加浏览次数失败:",s),this.cacheService.remove(n)}}async getJobTags(t){if(!this.supabase)return null;try{const n=`jobTags_${t}`,r=this.cacheService.get(n);if(r)return console.log("从缓存获取到标签数据:",r),r;const{data:s,error:i}=await this.supabase.from("job_tags").select("*").eq("job_id",t).single();if(i){if(i.code==="PGRST116")return console.log(`职位 ${t} 没有对应的标签`),null;throw console.error("查询标签数据错误:",i),i}return console.log("从数据库获取到的标签数据:",s),s&&s.tag_id&&!s.time_tag_id&&(s.time_tag_id=s.tag_id),s?(this.cacheService.set(n,s,{expiresIn:5*60*1e3}),s):null}catch(n){return console.error("获取招聘信息标签失败:",n),null}}async getTagById(t){if(!this.supabase)return null;try{const n=`tag_${t}`,r=this.cacheService.get(n);if(r)return console.log("从缓存获取到标签信息:",r),r;const{data:s,error:i}=await this.supabase.from("tags").select("*").eq("id",t).single();if(i)throw console.error("查询标签信息错误:",i),i;return console.log("从数据库获取到的标签信息:",s),s?(this.cacheService.set(n,s,{expiresIn:30*60*1e3}),s):null}catch(n){return console.error("获取标签信息失败:",n),null}}};pe(Sn,"instance");let Bt=Sn;const np=g.createContext(void 0),Lw=({children:e})=>{const{supabase:t}=be(),[n,r]=g.useState(!1),s=Bt.getInstance();g.useEffect(()=>{if(t)try{s.initialize(t),r(!0),console.log("数据服务已初始化完成")}catch(o){console.error("初始化数据服务时出错:",o)}},[t]),g.useEffect(()=>()=>{},[]);const i={dataService:s,isReady:n};return a.jsx(np.Provider,{value:i,children:e})},Fw=()=>{const e=g.useContext(np);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e};const Ga=[1,2,3],Bu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],Mw=["22届","23届","24届","25届","26届","27届","28届","海外往届"],Ju=["本科","研究生","本科及研究生以上","研究生及以上"],Wu=({job:e,onSubmit:t,onCancel:n,loading:r})=>{const{supabase:s}=be();console.log("JobForm组件加载",{hasJob:!!e,hasSupabase:!!s});const[i,o]=g.useState({job_title:"",company:"",description:"",category_ids:[],post_time:new Date().toISOString().split("T")[0],deadline:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],job_location:"",job_position:"",job_major:"",job_graduation_year:[],job_education_requirement:Ju[0],application_link:"",is_active:!0}),[l,c]=g.useState([]),[u,d]=g.useState({});g.useEffect(()=>{(async()=>{try{const{data:m,error:_}=await s.from("job_categories").select("*").order("id");if(_){console.error("获取分类数据失败:",_);return}c(m||[])}catch(m){console.error("获取分类错误:",m)}})()},[s]),g.useEffect(()=>{if(e)try{const p=e.category_id||[];o({...e,category_ids:p,post_time:e.post_time?new Date(e.post_time).toISOString().split("T")[0]:"",deadline:e.deadline?new Date(e.deadline).toISOString().split("T")[0]:"",job_graduation_year:e.job_graduation_year?e.job_graduation_year.split(","):[]})}catch(p){console.error("加载招聘信息分类错误:",p)}},[e]);const h=p=>{const{name:m,value:_}=p.target;o({...i,[m]:_}),u[m]&&d({...u,[m]:void 0})},f=p=>{const{name:m,value:_}=p.target;o({...i,[m]:_}),u[m]&&d({...u,[m]:void 0})},y=p=>{const m=parseInt(p.target.value,10),_=p.target.checked;let C=[...i.category_ids];if(_?(Ga.includes(m)&&(C=C.filter(S=>!Ga.includes(S))),C.push(m)):C=C.filter(S=>S!==m),C.filter(S=>Bu.includes(S)).length>2){d({...u,category_ids:"除企业性质外，其他分类最多只能选择2个"});return}u.category_ids&&d({...u,category_ids:void 0}),o({...i,category_ids:C})},w=p=>{let m;i.job_graduation_year.includes(p)?m=i.job_graduation_year.filter(_=>_!==p):m=[...i.job_graduation_year,p],o({...i,job_graduation_year:m}),u.job_graduation_year&&d({...u,job_graduation_year:void 0})},k=p=>{o({...i,job_education_requirement:p.target.value}),u.job_education_requirement&&d({...u,job_education_requirement:void 0})},x=()=>{const p={};if(i.job_title.trim()||(p.job_title="请输入招聘信息标题"),i.company.trim()||(p.company="请输入招聘公司名称"),i.job_location.trim()||(p.job_location="请输入工作地点"),i.job_position.trim()||(p.job_position="请输入招聘岗位"),i.category_ids.length===0&&(p.category_ids="请至少选择一个分类"),i.post_time||(p.post_time="请选择发布时间"),i.deadline||(p.deadline="请选择截止时间"),i.post_time&&i.deadline){const m=new Date(i.post_time);new Date(i.deadline)<m&&(p.deadline="截止时间不能早于发布时间")}return i.job_graduation_year.length===0&&(p.job_graduation_year="请至少选择一个招聘对象"),i.job_education_requirement||(p.job_education_requirement="请选择学历要求"),d(p),Object.keys(p).length===0},v=p=>{if(p.preventDefault(),!x())return;const m={...i,category_id:i.category_ids,post_time:new Date(i.post_time).toISOString(),deadline:new Date(i.deadline).toISOString(),job_graduation_year:i.job_graduation_year.join(","),views_count:e?i.views_count:0,favorites_count:e?i.favorites_count:0,applications_count:e?i.applications_count:0,created_at:e?i.created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_update:new Date().toISOString()};t(m)};return a.jsxs("div",{className:"job-form-container",children:[a.jsx("h3",{children:e?"编辑招聘信息":"添加新招聘信息"}),a.jsxs("form",{className:"job-form",onSubmit:v,children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"job_title",children:["招聘信息标题 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",id:"job_title",name:"job_title",value:i.job_title,onChange:h,disabled:r,className:u.job_title?"error":""}),u.job_title&&a.jsx("div",{className:"error-message",children:u.job_title})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"company",children:["招聘公司 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",id:"company",name:"company",value:i.company,onChange:h,disabled:r,className:u.company?"error":""}),u.company&&a.jsx("div",{className:"error-message",children:u.company})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"description",children:"公司描述"}),a.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:h,disabled:r,rows:4,className:u.description?"error":""}),u.description&&a.jsx("div",{className:"error-message",children:u.description})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["分类 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"categories-section",children:[a.jsxs("div",{className:"category-group",children:[a.jsx("h4",{children:"企业性质（只能选择一个）"}),a.jsx("div",{className:"checkboxes",children:l.filter(p=>Ga.includes(p.id)).map(p=>a.jsxs("div",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",id:`category-${p.id}`,value:p.id,checked:i.category_ids.includes(p.id),onChange:y,disabled:r}),a.jsx("label",{htmlFor:`category-${p.id}`,children:p.category})]},p.id))})]}),a.jsxs("div",{className:"category-group",children:[a.jsx("h4",{children:"其他类别（最多选择2个）"}),a.jsx("div",{className:"checkboxes",children:l.filter(p=>Bu.includes(p.id)).map(p=>a.jsxs("div",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",id:`category-${p.id}`,value:p.id,checked:i.category_ids.includes(p.id),onChange:y,disabled:r}),a.jsx("label",{htmlFor:`category-${p.id}`,children:p.category})]},p.id))})]})]}),u.category_ids&&a.jsx("div",{className:"error-message",children:u.category_ids})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"post_time",children:["发布时间 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"date",id:"post_time",name:"post_time",value:i.post_time,onChange:f,disabled:r,className:u.post_time?"error":""}),u.post_time&&a.jsx("div",{className:"error-message",children:u.post_time})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"deadline",children:["截止时间 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"date",id:"deadline",name:"deadline",value:i.deadline,onChange:f,disabled:r,className:u.deadline?"error":""}),u.deadline&&a.jsx("div",{className:"error-message",children:u.deadline})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"job_location",children:["工作地点 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",id:"job_location",name:"job_location",value:i.job_location,onChange:h,disabled:r,className:u.job_location?"error":""}),u.job_location&&a.jsx("div",{className:"error-message",children:u.job_location})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"job_position",children:["招聘岗位 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",id:"job_position",name:"job_position",value:i.job_position,onChange:h,disabled:r,className:u.job_position?"error":""}),u.job_position&&a.jsx("div",{className:"error-message",children:u.job_position})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"job_major",children:"招聘专业"}),a.jsx("input",{type:"text",id:"job_major",name:"job_major",value:i.job_major,onChange:h,disabled:r,className:u.job_major?"error":""}),u.job_major&&a.jsx("div",{className:"error-message",children:u.job_major})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["招聘对象（届别）",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("div",{className:"checkboxes graduation-year-checkboxes",children:Mw.map(p=>a.jsxs("div",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",id:`graduation-${p}`,checked:i.job_graduation_year.includes(p),onChange:()=>w(p),disabled:r}),a.jsx("label",{htmlFor:`graduation-${p}`,children:p})]},p))}),u.job_graduation_year&&a.jsx("div",{className:"error-message",children:u.job_graduation_year})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"job_education_requirement",children:["学历要求 ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("select",{id:"job_education_requirement",name:"job_education_requirement",value:i.job_education_requirement,onChange:k,disabled:r,className:u.job_education_requirement?"error":"",children:Ju.map(p=>a.jsx("option",{value:p,children:p},p))}),u.job_education_requirement&&a.jsx("div",{className:"error-message",children:u.job_education_requirement})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"application_link",children:"投递链接"}),a.jsx("input",{type:"url",id:"application_link",name:"application_link",value:i.application_link,onChange:h,disabled:r,className:u.application_link?"error":""}),u.application_link&&a.jsx("div",{className:"error-message",children:u.application_link})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"is_active",children:"状态"}),a.jsxs("div",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:i.is_active,onChange:p=>o({...i,is_active:p.target.checked}),disabled:r}),a.jsx("label",{htmlFor:"is_active",children:"有效（可见）"})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"button",className:"cancel-button",onClick:n,disabled:r,children:"取消"}),a.jsx("button",{type:"submit",className:"submit-button",disabled:r,children:r?"提交中...":e?"保存更改":"添加招聘信息"})]})]})]})};const Uw=({jobs:e,onEdit:t,onDelete:n,loading:r})=>{const[s,i]=g.useState([]),[o,l]=g.useState(1),[c,u]=g.useState(""),[d,h]=g.useState("post_time"),[f,y]=g.useState("desc"),[w,k]=g.useState(!1),x=10;g.useEffect(()=>{let b=[...e];if(c){const T=c.toLowerCase();b=b.filter(E=>{var I,P,D,z,B;return((I=E.job_title)==null?void 0:I.toLowerCase().includes(T))||((P=E.company)==null?void 0:P.toLowerCase().includes(T))||((D=E.job_position)==null?void 0:D.toLowerCase().includes(T))||((z=E.job_location)==null?void 0:z.toLowerCase().includes(T))||((B=E.job_major)==null?void 0:B.toLowerCase().includes(T))})}b.sort((T,E)=>{let I=T[d],P=E[d];return(d==="post_time"||d==="deadline"||d==="created_at"||d==="updated_at")&&(I=I?new Date(I).getTime():0,P=P?new Date(P).getTime():0),(d==="views_count"||d==="favorites_count"||d==="applications_count")&&(I=I||0,P=P||0),I<P?f==="asc"?-1:1:I>P?f==="asc"?1:-1:0}),i(b),l(1)},[e,c,d,f]);const v=()=>{const b=(o-1)*x,T=b+x;return s.slice(b,T)},p=b=>{b===d?y(f==="asc"?"desc":"asc"):(h(b),y("asc"))},m=b=>b!==d?null:f==="asc"?" ↑":" ↓",_=b=>{b.preventDefault(),k(!!c)},C=()=>{u(""),k(!1)},j=Math.ceil(s.length/x),S=b=>b?new Date(b).toLocaleDateString("zh-CN"):"-";return a.jsxs("div",{className:"job-table-container",children:[a.jsxs("div",{className:"table-actions",children:[a.jsxs("form",{className:"search-form",onSubmit:_,children:[a.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"搜索招聘信息...",className:"search-input"}),a.jsx("button",{type:"submit",className:"search-button",children:"搜索"}),w&&a.jsx("button",{type:"button",className:"clear-search-button",onClick:C,children:"清除搜索"})]}),a.jsxs("div",{className:"table-info",children:["共 ",s.length," 条记录"]})]}),r?a.jsx("div",{className:"loading-indicator",children:"加载中..."}):s.length===0?a.jsx("div",{className:"no-data-message",children:w?"没有找到匹配的招聘信息":"暂无招聘信息数据"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"job-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:()=>p("job_title"),children:["标题",m("job_title")]}),a.jsxs("th",{onClick:()=>p("company"),children:["公司",m("company")]}),a.jsxs("th",{onClick:()=>p("job_position"),children:["岗位",m("job_position")]}),a.jsxs("th",{onClick:()=>p("job_location"),children:["地点",m("job_location")]}),a.jsxs("th",{onClick:()=>p("post_time"),children:["发布时间",m("post_time")]}),a.jsxs("th",{onClick:()=>p("deadline"),children:["截止时间",m("deadline")]}),a.jsxs("th",{onClick:()=>p("is_active"),children:["状态",m("is_active")]}),a.jsx("th",{className:"actions-column",children:"操作"})]})}),a.jsx("tbody",{children:v().map(b=>a.jsxs("tr",{className:b.is_active?"":"inactive-row",children:[a.jsx("td",{className:"title-cell",children:b.job_title}),a.jsx("td",{children:b.company}),a.jsx("td",{children:b.job_position}),a.jsx("td",{children:b.job_location}),a.jsx("td",{children:S(b.post_time)}),a.jsx("td",{children:S(b.deadline)}),a.jsx("td",{children:a.jsx("span",{className:`status-indicator ${b.is_active?"active":"inactive"}`,children:b.is_active?"有效":"无效"})}),a.jsxs("td",{className:"actions-cell",children:[a.jsx("button",{className:"edit-button",onClick:()=>t(b),title:"编辑",children:"编辑"}),a.jsx("button",{className:"delete-button",onClick:()=>n(b.id),title:"删除",children:"删除"})]})]},b.id))})]})}),j>1&&a.jsxs("div",{className:"pagination",children:[a.jsx("button",{className:"pagination-button",onClick:()=>l(1),disabled:o===1,children:"«"}),a.jsx("button",{className:"pagination-button",onClick:()=>l(b=>Math.max(b-1,1)),disabled:o===1,children:"<"}),a.jsxs("span",{className:"pagination-info",children:[o," / ",j]}),a.jsx("button",{className:"pagination-button",onClick:()=>l(b=>Math.min(b+1,j)),disabled:o===j,children:">"}),a.jsx("button",{className:"pagination-button",onClick:()=>l(j),disabled:o===j,children:"»"})]})]})]})};const Vu=[1,2,3],qu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],zw=["22届","23届","24届","25届","26届","27届","28届","海外往届"],Bw=["本科","研究生","本科及研究生以上","研究生及以上"],Jw=({onImport:e,onCancel:t,loading:n})=>{const[r,s]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState(!1),[h,f]=g.useState("select"),[y,w]=g.useState("GBK"),k=g.useRef(null),x=["job_title","company","job_location","job_position","category_id","post_time","deadline","job_graduation_year","job_education_requirement"],v=["job_title","company","description","category_id","post_time","deadline","job_location","job_position","job_major","job_graduation_year","job_education_requirement","application_link"],p=P=>{var z;const D=(z=P.target.files)==null?void 0:z[0];if(D){if(D.type!=="text/csv"&&!D.name.endsWith(".csv")){c(["请选择CSV文件"]),s(null),o([]),f("select");return}s(D),c([]),f("validate")}},m=P=>{w(P.target.value)},_=()=>{if(!r)return;d(!0),c([]);const P=new FileReader;P.onload=D=>{var z;try{const B=(z=D.target)==null?void 0:z.result;console.log("CSV内容前100个字符:",B.substring(0,100));const U=S(B);U.errors.length>0?(c(U.errors),o([]),f("select")):(o(U.data),f("ready"))}catch(B){c([`CSV解析错误: ${B.message}`]),o([]),f("select")}finally{d(!1)}},P.onerror=()=>{c(["文件读取错误"]),d(!1),f("select")},P.readAsText(r,y)},C=P=>{const D=[],z=P.toLowerCase().replace(/\s+/g,"");for(const B of zw){if(z.includes(B.toLowerCase())){D.includes(B)||D.push(B);continue}if(B!=="海外往届"){const U=B.replace("届","");z.includes(U)&&(z.includes("届")||z.includes("毕业生"))&&(D.includes(B)||D.push(B))}else z.includes("海外")&&(z.includes("往届")||z.includes("毕业生"))&&(D.includes("海外往届")||D.push("海外往届"))}return D},j=P=>{const D=P.toLowerCase().replace(/\s+/g,"");for(const z of Bw)if(D===z.toLowerCase())return z;return D.includes("研究生")&&D.includes("以上")?"研究生及以上":D.includes("本科")&&D.includes("研究生")&&(D.includes("以上")||D.includes("及"))?"本科及研究生以上":D.includes("本科")&&!D.includes("研究生")?"本科":D.includes("研究生")&&!D.includes("本科")?"研究生":null},S=P=>{const D=P.replace(/^\uFEFF/,""),z=[];let B="",U=!1;for(let M=0;M<D.length;M++){const V=D[M],K=M<D.length-1?D[M+1]:"";V==='"'&&(U=!U),V==="\r"&&K===`
`||V===`
`?U?(B+=V==="\r"&&K===`
`?`
`:V,V==="\r"&&M++):(z.push(B),B="",V==="\r"&&M++):B+=V}if(B&&z.push(B),z.length<2)return{data:[],errors:["CSV文件不包含有效数据行"]};const O=z[0],N=b(O);console.log("解析到的标题:",N);const F=[],L=[];for(const M of x)N.includes(M)||L.push(`CSV文件缺少必要的列: ${M}`);if(L.length>0)return{data:[],errors:L};for(let M=1;M<z.length;M++){if(!z[M].trim())continue;const V=b(z[M]);if(V.length!==N.length){L.push(`第${M}行的列数(${V.length})与标题行(${N.length})不匹配`),console.log(`第${M}行内容:`,z[M]),console.log(`第${M}行解析结果:`,V);continue}const K={};N.forEach((te,Nt)=>{K[te]=V[Nt]});let se=!1;for(const te of x)if(!K[te]){L.push(`第${M}行缺少必填字段: ${te}`),se=!0;break}if(se)continue;try{const te=K.category_id.split(" ").map(J=>parseInt(J,10));for(const J of te)if(isNaN(J)||![...Vu,...qu].includes(J)){L.push(`第${M}行包含无效的分类ID: ${J}`),se=!0;break}te.filter(J=>Vu.includes(J)).length>1&&(L.push(`第${M}行: 企业性质分类(1-3)最多只能选择一个`),se=!0),te.filter(J=>qu.includes(J)).length>2&&(L.push(`第${M}行: 其他分类最多只能选择两个`),se=!0),K.category_id=te}catch{L.push(`第${M}行的分类ID格式无效`),se=!0}try{if(K.post_time){const te=new Date(K.post_time);isNaN(te.getTime())&&(L.push(`第${M}行的发布日期格式无效`),se=!0)}if(K.deadline){const te=new Date(K.deadline);isNaN(te.getTime())&&(L.push(`第${M}行的截止日期格式无效`),se=!0)}}catch{L.push(`第${M}行的日期格式无效`),se=!0}const mt=C(K.job_graduation_year);mt.length===0?(L.push(`第${M}行无法识别有效的招聘对象: ${K.job_graduation_year}`),se=!0):K.job_graduation_year=mt.join(",");const Fe=j(K.job_education_requirement);Fe?K.job_education_requirement=Fe:(L.push(`第${M}行无法识别有效的学历要求: ${K.job_education_requirement}`),se=!0),se||(K.is_active=!0,K.views_count=0,K.favorites_count=0,K.applications_count=0,F.push(K))}return{data:F,errors:L}},b=P=>{const D=[];let z="",B=!1;for(let U=0;U<P.length;U++){const O=P[U],N=U<P.length-1?P[U+1]:"";O==='"'?B?N==='"'?(z+='"',U++):B=!1:B=!0:O===","&&!B?(D.push(z),z=""):z+=O}return D.push(z),D.map(U=>U.trim())},T=()=>{if(i.length===0){c(["没有有效数据可以导入"]);return}e(i)},E=()=>{s(null),o([]),c([]),f("select"),k.current&&(k.current.value="")},I=()=>a.jsxs("div",{className:"csv-template-help",children:[a.jsx("h4",{children:"CSV文件格式说明"}),a.jsx("p",{children:"CSV文件应包含以下列（顺序不限）："}),a.jsx("ul",{className:"csv-columns-list",children:v.map((P,D)=>a.jsxs("li",{children:[a.jsx("strong",{children:P}),x.includes(P)&&a.jsx("span",{className:"required-indicator",children:"*"}),P==="category_id"&&a.jsx("span",{className:"hint",children:'（分类ID，用空格分隔，例如: "1 5 7"）'}),P==="job_graduation_year"&&a.jsx("span",{className:"hint",children:'（招聘对象，例如: "24届,25届"或"24、25届毕业生"）'})]},P))}),a.jsxs("p",{children:[a.jsx("span",{className:"required-indicator",children:"*"})," 表示必填字段"]}),a.jsxs("div",{className:"csv-validation-rules",children:[a.jsx("h5",{children:"数据验证规则："}),a.jsxs("ul",{children:[a.jsx("li",{children:"category_id: 企业性质分类(1-3)只能选择一个，其他分类最多选择两个"}),a.jsx("li",{children:"post_time/deadline: 日期格式为YYYY-MM-DD"}),a.jsx("li",{children:"job_graduation_year: 系统会自动识别包含的届别（22届-28届, 海外往届）"}),a.jsx("li",{children:"job_education_requirement: 系统会自动识别包含的学历要求（本科、研究生等）"})]})]}),a.jsxs("div",{className:"csv-format-tips",children:[a.jsx("h5",{children:"CSV格式注意事项："}),a.jsxs("ul",{children:[a.jsxs("li",{children:["如果字段内容包含",a.jsx("strong",{children:"逗号"}),"，请用",a.jsx("strong",{children:"双引号"}),"将整个内容包裹起来"]}),a.jsxs("li",{children:["例如：",a.jsx("code",{children:'"这是一段包含,逗号的文本"'})]}),a.jsxs("li",{children:["如果字段内容本身包含引号，请使用两个引号表示一个引号：",a.jsx("code",{children:'"这是""引号""示例"'})]}),a.jsx("li",{children:"如遇中文乱码问题，请在验证步骤选择合适的文件编码（GBK或UTF-8）"}),a.jsxs("li",{children:["建议保存CSV文件时选择",a.jsx("strong",{children:"GBK编码"}),"，这是中文Windows系统的常用编码"]})]})]}),a.jsxs("div",{className:"csv-example",children:[a.jsx("h5",{children:"示例行："}),a.jsx("pre",{children:'后端开发工程师,阿里巴巴,"负责系统后端开发,需要扎实的编程功底",1 5,2023-06-01,2023-07-31,杭州,后端开发,计算机科学,24届/25届毕业生,本科及以上学历,https://example.com/apply'})]})]});return a.jsxs("div",{className:"csv-import-container",children:[a.jsx("h3",{children:"批量导入招聘信息"}),l.length>0&&a.jsxs("div",{className:"error-list",children:[a.jsx("h4",{children:"错误信息:"}),a.jsx("ul",{children:l.map((P,D)=>a.jsx("li",{children:P},D))})]}),a.jsxs("div",{className:"upload-steps",children:[a.jsx("div",{className:`upload-step ${h==="select"?"active":h==="validate"||h==="ready"?"completed":""}`,children:"1. 选择CSV文件"}),a.jsx("div",{className:`upload-step ${h==="validate"?"active":h==="ready"?"completed":""}`,children:"2. 验证数据"}),a.jsx("div",{className:`upload-step ${h==="ready"?"active":""}`,children:"3. 导入数据"})]}),a.jsxs("div",{className:"upload-container",children:[h==="select"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",ref:k,onChange:p,accept:".csv",className:"file-input",disabled:n}),a.jsx("div",{className:"upload-actions",children:a.jsx("button",{type:"button",className:"upload-button",onClick:()=>{var P;return(P=k.current)==null?void 0:P.click()},disabled:n,children:"选择CSV文件"})}),I()]}),h==="validate"&&a.jsxs("div",{className:"validation-container",children:[a.jsxs("p",{children:["已选择文件: ",a.jsx("strong",{children:r==null?void 0:r.name})]}),a.jsxs("div",{className:"encoding-selection",children:[a.jsx("label",{htmlFor:"file-encoding",children:"文件编码:"}),a.jsxs("select",{id:"file-encoding",value:y,onChange:m,disabled:u||n,children:[a.jsx("option",{value:"GBK",children:"GBK (推荐中文Windows)"}),a.jsx("option",{value:"UTF-8",children:"UTF-8"})]}),a.jsx("p",{className:"hint",children:"如果验证后中文显示乱码，请尝试更换编码后重新验证"})]}),a.jsx("button",{className:"validate-button",onClick:_,disabled:u||n,children:u?"验证中...":"验证CSV文件"})]}),h==="ready"&&a.jsxs("div",{className:"preview-container",children:[a.jsxs("div",{className:"preview-header",children:[a.jsxs("h4",{children:["预览数据 (",i.length," 条记录)"]}),a.jsx("p",{children:'请检查数据是否正确，然后点击"导入数据"按钮。'})]}),a.jsx("div",{className:"preview-table-container",children:a.jsxs("table",{className:"preview-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"标题"}),a.jsx("th",{children:"公司"}),a.jsx("th",{children:"岗位"}),a.jsx("th",{children:"地点"}),a.jsx("th",{children:"分类"}),a.jsx("th",{children:"招聘对象"}),a.jsx("th",{children:"学历要求"})]})}),a.jsxs("tbody",{children:[i.slice(0,5).map((P,D)=>a.jsxs("tr",{children:[a.jsx("td",{children:P.job_title}),a.jsx("td",{children:P.company}),a.jsx("td",{children:P.job_position}),a.jsx("td",{children:P.job_location}),a.jsx("td",{children:Array.isArray(P.category_id)?P.category_id.join(", "):P.category_id}),a.jsx("td",{children:P.job_graduation_year}),a.jsx("td",{children:P.job_education_requirement})]},D)),i.length>5&&a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"more-records",children:["... 还有 ",i.length-5," 条记录"]})})]})]})}),a.jsxs("div",{className:"import-actions",children:[a.jsx("button",{className:"import-button",onClick:T,disabled:n,children:n?"导入中...":"导入数据"}),a.jsx("button",{className:"reset-button",onClick:E,disabled:n,children:"重新选择文件"})]})]})]}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"button",className:"cancel-button",onClick:t,disabled:n,children:"返回"})})]})};const Ww=({onReturnToOverview:e})=>{const{supabase:t}=be(),{dataService:n,isReady:r}=Fw(),[s,i]=g.useState("list"),[o,l]=g.useState([]),[c,u]=g.useState(null),[d,h]=g.useState(!1),[f,y]=g.useState(null),[w,k]=g.useState(null);g.useEffect(()=>{if(console.log("JobManagement组件加载"),console.log("数据服务是否就绪:",r),r){h(!0);const j=S=>{l(S||[]),h(!1)};return n.getJobs(j),()=>{n.unsubscribe(j)}}},[r,n]);const x=()=>{r&&(h(!0),n.refreshJobs())},v=async j=>{h(!0),y(null),k(null);try{j.category_ids&&Array.isArray(j.category_ids)&&(j.category_id=j.category_ids.map(T=>parseInt(T,10)),delete j.category_ids);const{data:S,error:b}=await t.from("job_recruitments").insert([j]).select();if(b)throw new Error("添加招聘信息失败: "+b.message);await _(),k("招聘信息添加成功！"),x(),i("list")}catch(S){console.error("添加招聘信息错误:",S),y(S.message)}finally{h(!1)}},p=async j=>{h(!0),y(null),k(null);try{j.category_ids&&Array.isArray(j.category_ids)&&(j.category_id=j.category_ids.map(b=>parseInt(b,10)),delete j.category_ids);const{error:S}=await t.from("job_recruitments").update({...j,updated_at:new Date().toISOString(),last_update:new Date().toISOString()}).eq("id",c.id);if(S)throw new Error("更新招聘信息失败: "+S.message);await _(),k("招聘信息更新成功！"),x(),i("list"),u(null)}catch(S){console.error("更新招聘信息错误:",S),y(S.message)}finally{h(!1)}},m=async j=>{if(window.confirm("确定要删除这条招聘信息吗？此操作无法撤销。")){h(!0),y(null),k(null);try{const{error:S}=await t.from("job_tags").delete().eq("job_id",j);if(S)throw new Error("删除标签关联失败: "+S.message);const{error:b}=await t.from("job_recruitments").delete().eq("id",j);if(b)throw new Error("删除招聘信息失败: "+b.message);await _(),k("招聘信息删除成功！")}catch(S){console.error("删除招聘信息错误:",S),y(S.message)}finally{h(!1)}}},_=async()=>{try{const{error:j}=await t.rpc("update_all_category_counts");j&&console.error("更新分类计数错误:",j)}catch(j){console.error("执行更新分类计数存储过程时发生错误:",j)}},C=async j=>{h(!0),y(null),k(null);try{const{data:S,error:b}=await t.from("job_recruitments").insert(j).select();if(b)throw new Error("批量导入招聘信息失败: "+b.message);await _();for(const T of S){const{error:E}=await t.from("job_recruitments").update({last_update:new Date().toISOString()}).eq("id",T.id);E&&console.error(`更新时间标签触发失败 (ID: ${T.id}):`,E)}k(`成功导入 ${S.length} 条招聘信息！`),x(),i("list")}catch(S){console.error("导入招聘信息错误:",S),y(S.message)}finally{h(!1)}};return g.useEffect(()=>{const j=setInterval(()=>{r&&(console.log("定时刷新招聘信息数据"),x())},3e5);return()=>clearInterval(j)},[r]),a.jsxs("div",{className:"job-management-container",children:[e&&a.jsx("button",{className:"back-button",onClick:e,children:"← 返回管理概览"}),a.jsxs("div",{className:"job-management-header",children:[a.jsx("h2",{children:"招聘信息管理"}),a.jsx("div",{className:"job-management-actions",children:s==="list"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"add-button",onClick:()=>i("add"),disabled:d,children:"添加招聘信息"}),a.jsx("button",{className:"import-button",onClick:()=>i("import"),disabled:d,children:"批量导入"}),a.jsx("button",{className:"refresh-button",onClick:()=>x(),disabled:d,children:d?"刷新中...":"刷新数据"})]})})]}),f&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx("span",{children:f}),a.jsx("button",{onClick:()=>y(null),children:"×"})]}),w&&a.jsxs("div",{className:"alert alert-success",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>k(null),children:"×"})]}),s==="list"&&a.jsx(Uw,{jobs:o,loading:d,onEdit:j=>{u(j),i("edit")},onDelete:m}),s==="add"&&a.jsx(Wu,{onSubmit:v,onCancel:()=>i("list"),loading:d}),s==="edit"&&c&&a.jsx(Wu,{initialData:c,onSubmit:p,onCancel:()=>{u(null),i("list")},loading:d}),s==="import"&&a.jsx(Jw,{onImport:C,onCancel:()=>i("list"),loading:d})]})};const Vw=({onReturnToOverview:e})=>{const{supabase:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState(null),[f,y]=g.useState({username:"",account:"",password:"",is_active:!0}),w=async()=>{i(!0);try{const{data:j,error:S}=await t.from("users").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("加载用户数据错误:",j),l(j.message)}finally{i(!1)}};g.useEffect(()=>{w()},[]);const k=n.filter(j=>j.username.toLowerCase().includes(c.toLowerCase())||j.account.toLowerCase().includes(c.toLowerCase())),x=j=>{const{name:S,value:b,type:T,checked:E}=j.target;y({...f,[S]:T==="checkbox"?E:b})},v=async j=>{if(j.preventDefault(),!f.username||!f.account||!f.password){l("请填写完整的用户信息");return}try{i(!0);const{data:S,error:b}=await t.from("users").insert([{username:f.username,account:f.account,password:f.password,is_active:f.is_active}]).select();if(b)throw b;r([...S||[],...n]),y({username:"",account:"",password:"",is_active:!0}),l(null),w()}catch(S){console.error("添加用户错误:",S),l(S.message)}finally{i(!1)}},p=j=>{h(j),y({username:j.username,account:j.account,password:"",is_active:j.is_active})},m=async j=>{if(j.preventDefault(),!!d){if(!f.username||!f.account){l("请填写完整的用户信息");return}try{i(!0);const S={username:f.username,account:f.account,is_active:f.is_active};f.password&&(S.password=f.password);const{error:b}=await t.from("users").update(S).eq("id",d.id);if(b)throw b;h(null),y({username:"",account:"",password:"",is_active:!0}),l(null),w()}catch(S){console.error("更新用户错误:",S),l(S.message)}finally{i(!1)}}},_=()=>{h(null),y({username:"",account:"",password:"",is_active:!0})},C=async j=>{if(window.confirm("确定要删除该用户吗？此操作不可恢复。"))try{i(!0);const{error:S}=await t.from("users").update({is_active:!1}).eq("id",j);if(S)throw S;w()}catch(S){console.error("删除用户错误:",S),l(S.message)}finally{i(!1)}};return a.jsxs("div",{className:"user-management-container",children:[a.jsx("button",{className:"back-button",onClick:e,children:"← 返回用户管理"}),a.jsx("h2",{children:"用户管理"}),o&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:o}),a.jsx("button",{onClick:()=>l(null),children:"关闭"})]}),a.jsxs("div",{className:"user-management-form",children:[a.jsx("h3",{children:d?"编辑用户":"添加新用户"}),a.jsxs("form",{onSubmit:d?m:v,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"username",children:"用户名"}),a.jsx("input",{type:"text",id:"username",name:"username",value:f.username,onChange:x,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"account",children:"账号"}),a.jsx("input",{type:"text",id:"account",name:"account",value:f.account,onChange:x,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:d?"密码 (留空则不修改)":"密码"}),a.jsx("input",{type:"password",id:"password",name:"password",value:f.password,onChange:x,required:!d})]}),a.jsxs("div",{className:"form-group checkbox-group",children:[a.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:f.is_active,onChange:x}),a.jsx("label",{htmlFor:"is_active",children:"启用账号"})]}),a.jsxs("div",{className:"form-buttons",children:[a.jsx("button",{type:"submit",className:"submit-button",disabled:s,children:d?"更新用户":"添加用户"}),d&&a.jsx("button",{type:"button",className:"cancel-button",onClick:_,children:"取消"})]})]})]}),a.jsxs("div",{className:"user-management-list",children:[a.jsx("div",{className:"search-bar",children:a.jsx("input",{type:"text",placeholder:"搜索用户名或账号...",value:c,onChange:j=>u(j.target.value)})}),s&&n.length===0?a.jsx("div",{className:"loading-message",children:"加载中..."}):k.length===0?a.jsx("div",{className:"no-data-message",children:"没有找到用户"}):a.jsxs("table",{className:"user-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"用户名"}),a.jsx("th",{children:"账号"}),a.jsx("th",{children:"状态"}),a.jsx("th",{children:"创建时间"}),a.jsx("th",{children:"操作"})]})}),a.jsx("tbody",{children:k.map(j=>a.jsxs("tr",{className:j.is_active?"":"inactive-user",children:[a.jsx("td",{children:j.id}),a.jsx("td",{children:j.username}),a.jsx("td",{children:j.account}),a.jsx("td",{children:j.is_active?"启用":"禁用"}),a.jsx("td",{children:new Date(j.created_at).toLocaleString("zh-CN")}),a.jsxs("td",{children:[a.jsx("button",{className:"edit-button",onClick:()=>p(j),disabled:s,children:"编辑"}),a.jsx("button",{className:"delete-button",onClick:()=>C(j.id),disabled:s,children:j.is_active?"禁用":"启用"})]})]},j.id))})]})]})]})};const qw=({onReturnToOverview:e})=>{const{supabase:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(null),[d,h]=g.useState(""),[f,y]=g.useState({codePrefix:"CAMPUS",codeCount:10,validityDays:365}),[w,k]=g.useState(!1),x=async()=>{l(!0);try{const{data:E,error:I}=await t.from("activation_codes").select("*").order("created_at",{ascending:!1});if(I)throw I;r(E||[])}catch(E){console.error("加载激活码数据错误:",E),u(E.message)}finally{l(!1)}},v=async()=>{try{const{data:E,error:I}=await t.from("users").select("id, username, account").eq("is_active",!0);if(I)throw I;i(E||[])}catch(E){console.error("加载用户数据错误:",E)}};g.useEffect(()=>{x(),v()},[]);const p=(E,I=8)=>{const P="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let D=E+"-";for(let z=0;z<I;z++)D+=P.charAt(Math.floor(Math.random()*P.length));return D},m=async E=>{E.preventDefault();const{codePrefix:I,codeCount:P,validityDays:D}=f,z=parseInt(P.toString(),10),B=parseInt(D.toString(),10);if(isNaN(z)||z<=0||z>100){u("生成数量应在1-100之间");return}if(isNaN(B)||B<=0){u("有效期天数必须大于0");return}try{k(!0);const U=Array.from({length:z},()=>({code:p(I),is_active:!0,is_used:!1,validity_days:B,user_id:null})),{data:O,error:N}=await t.from("activation_codes").insert(U).select();if(N)throw N;u(null),alert(`成功生成了 ${U.length} 个激活码`),x()}catch(U){console.error("生成激活码错误:",U),u(U.message)}finally{k(!1)}},_=async(E,I)=>{try{l(!0);const{error:P}=await t.from("activation_codes").update({is_active:!I}).eq("id",E);if(P)throw P;x()}catch(P){console.error("更新激活码状态错误:",P),u(P.message)}finally{l(!1)}},C=async E=>{if(window.confirm("确定要删除该激活码吗？此操作不可恢复。"))try{l(!0);const{error:I}=await t.from("activation_codes").delete().eq("id",E);if(I)throw I;x()}catch(I){console.error("删除激活码错误:",I),u(I.message)}finally{l(!1)}},j=()=>{const E=n.filter(U=>U.is_active&&!U.is_used);if(E.length===0){alert("没有可导出的未使用激活码");return}const P=[["激活码","有效期(天)","创建时间"].join(","),...E.map(U=>[U.code,U.validity_days,new Date(U.created_at).toLocaleString("zh-CN")].join(","))].join(`
`),D=new Blob([P],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(D),B=document.createElement("a");B.setAttribute("href",z),B.setAttribute("download",`激活码导出_${new Date().toISOString().slice(0,10)}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},S=E=>{const{name:I,value:P}=E.target;y({...f,[I]:P})},b=n.filter(E=>E.code.toLowerCase().includes(d.toLowerCase())),T=E=>{if(!E)return"未分配";const I=s.find(P=>P.id===E);return I?`${I.username} (${I.account})`:`用户ID: ${E}`};return a.jsxs("div",{className:"activation-code-management-container",children:[a.jsx("button",{className:"back-button",onClick:e,children:"← 返回激活码管理"}),a.jsx("h2",{children:"激活码管理"}),c&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:c}),a.jsx("button",{onClick:()=>u(null),children:"关闭"})]}),a.jsxs("div",{className:"activation-code-form",children:[a.jsx("h3",{children:"生成新激活码"}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"codePrefix",children:"前缀"}),a.jsx("input",{type:"text",id:"codePrefix",name:"codePrefix",value:f.codePrefix,onChange:S,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"codeCount",children:"生成数量 (1-100)"}),a.jsx("input",{type:"number",id:"codeCount",name:"codeCount",min:"1",max:"100",value:f.codeCount,onChange:S,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"validityDays",children:"有效期 (天)"}),a.jsx("input",{type:"number",id:"validityDays",name:"validityDays",min:"1",value:f.validityDays,onChange:S,required:!0})]}),a.jsx("div",{className:"form-buttons",children:a.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?"生成中...":"生成激活码"})})]})]}),a.jsx("div",{className:"code-action-buttons",children:a.jsx("button",{className:"export-button",onClick:j,disabled:o,children:"导出未使用激活码"})}),a.jsxs("div",{className:"activation-code-list",children:[a.jsx("div",{className:"search-bar",children:a.jsx("input",{type:"text",placeholder:"搜索激活码...",value:d,onChange:E=>h(E.target.value)})}),o&&n.length===0?a.jsx("div",{className:"loading-message",children:"加载中..."}):b.length===0?a.jsx("div",{className:"no-data-message",children:"没有找到激活码"}):a.jsxs("table",{className:"code-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"激活码"}),a.jsx("th",{children:"状态"}),a.jsx("th",{children:"使用状态"}),a.jsx("th",{children:"有效期(天)"}),a.jsx("th",{children:"用户"}),a.jsx("th",{children:"创建时间"}),a.jsx("th",{children:"操作"})]})}),a.jsx("tbody",{children:b.map(E=>a.jsxs("tr",{className:E.is_active?E.is_used?"used-code":"":"inactive-code",children:[a.jsx("td",{children:E.id}),a.jsx("td",{children:E.code}),a.jsx("td",{children:E.is_active?"激活":"停用"}),a.jsx("td",{children:E.is_used?"已使用":"未使用"}),a.jsx("td",{children:E.validity_days}),a.jsx("td",{children:T(E.user_id)}),a.jsx("td",{children:new Date(E.created_at).toLocaleString("zh-CN")}),a.jsxs("td",{children:[a.jsx("button",{className:"status-button",onClick:()=>_(E.id,E.is_active),disabled:o||E.is_used,children:E.is_active?"停用":"激活"}),!E.is_used&&a.jsx("button",{className:"delete-button",onClick:()=>C(E.id),disabled:o,children:"删除"})]})]},E.id))})]})]})]})};const Hw=({onReturnToOverview:e})=>{const{supabase:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState(null),[d,h]=g.useState({category:"",is_active:!0}),f=async()=>{i(!0);try{const{data:m,error:_}=await t.from("job_categories").select("*").order("id");if(_)throw _;r(m||[])}catch(m){console.error("加载分类数据错误:",m),l(m.message)}finally{i(!1)}};g.useEffect(()=>{f()},[]);const y=m=>{const{name:_,value:C,type:j,checked:S}=m.target;h({...d,[_]:j==="checkbox"?S:C})},w=m=>{u(m),h({category:m.category,is_active:m.is_active})},k=async m=>{if(m.preventDefault(),!!c){if(!d.category){l("请填写分类名称");return}try{i(!0);const{error:_}=await t.from("job_categories").update({category:d.category,is_active:d.is_active}).eq("id",c.id);if(_)throw _;u(null),h({category:"",is_active:!0}),l(null),f()}catch(_){console.error("更新分类错误:",_),l(_.message)}finally{i(!1)}}},x=()=>{u(null),h({category:"",is_active:!0})},v=async(m,_)=>{try{i(!0);const{error:C}=await t.from("job_categories").update({is_active:!_}).eq("id",m);if(C)throw C;f()}catch(C){console.error("更新分类状态错误:",C),l(C.message)}finally{i(!1)}},p=async()=>{try{i(!0);const{error:m}=await t.rpc("update_category_counts_internal");if(m)throw m;alert("分类计数更新成功"),f()}catch(m){console.error("更新分类计数错误:",m),l(m.message)}finally{i(!1)}};return a.jsxs("div",{className:"category-management-container",children:[a.jsx("button",{className:"back-button",onClick:e,children:"← 返回分类管理"}),a.jsx("h2",{children:"分类管理"}),o&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:o}),a.jsx("button",{onClick:()=>l(null),children:"关闭"})]}),c&&a.jsxs("div",{className:"category-edit-form",children:[a.jsx("h3",{children:"编辑分类"}),a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"category",children:"分类名称"}),a.jsx("input",{type:"text",id:"category",name:"category",value:d.category,onChange:y,required:!0})]}),a.jsxs("div",{className:"form-group checkbox-group",children:[a.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:d.is_active,onChange:y}),a.jsx("label",{htmlFor:"is_active",children:"启用分类"})]}),a.jsxs("div",{className:"form-buttons",children:[a.jsx("button",{type:"submit",className:"submit-button",disabled:s,children:"更新分类"}),a.jsx("button",{type:"button",className:"cancel-button",onClick:x,children:"取消"})]})]})]}),a.jsx("div",{className:"category-action-buttons",children:a.jsx("button",{className:"update-counts-button",onClick:p,disabled:s,children:"更新分类计数"})}),a.jsx("div",{className:"category-list",children:s&&n.length===0?a.jsx("div",{className:"loading-message",children:"加载中..."}):n.length===0?a.jsx("div",{className:"no-data-message",children:"没有找到分类"}):a.jsxs("table",{className:"category-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"分类号"}),a.jsx("th",{children:"分类名称"}),a.jsx("th",{children:"有效招聘数量"}),a.jsx("th",{children:"状态"}),a.jsx("th",{children:"操作"})]})}),a.jsx("tbody",{children:n.map(m=>a.jsxs("tr",{className:m.is_active?"":"inactive-category",children:[a.jsx("td",{children:m.id}),a.jsx("td",{children:m.category_number}),a.jsx("td",{children:m.category}),a.jsx("td",{children:m.active_job_count}),a.jsx("td",{children:m.is_active?"启用":"禁用"}),a.jsxs("td",{children:[a.jsx("button",{className:"edit-button",onClick:()=>w(m),disabled:s,children:"编辑"}),a.jsx("button",{className:"status-button",onClick:()=>v(m.id,m.is_active),disabled:s,children:m.is_active?"禁用":"启用"})]})]},m.id))})]})})]})};const Kw=({onReturnToOverview:e})=>{const{supabase:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState(null),[f,y]=g.useState({tag_name:"",tag_type:"general",is_active:!0}),w=[{value:"general",label:"一般"},{value:"time_sensitive",label:"时间相关"},{value:"feature",label:"特点"},{value:"location",label:"地点"},{value:"education",label:"学历"},{value:"company_size",label:"公司规模"},{value:"company_type",label:"公司类型"}],k=async()=>{i(!0);try{const{data:b,error:T}=await t.from("tags").select("*").order("tag_type").order("tag_name");if(T)throw T;r(b||[])}catch(b){console.error("加载标签数据错误:",b),l(b.message)}finally{i(!1)}};g.useEffect(()=>{k()},[]);const x=n.filter(b=>b.tag_name.toLowerCase().includes(c.toLowerCase())||b.tag_type.toLowerCase().includes(c.toLowerCase())),v=b=>{const{name:T,value:E,type:I}=b.target,P=b.target.checked;y({...f,[T]:I==="checkbox"?P:E})},p=async b=>{if(b.preventDefault(),!f.tag_name||!f.tag_type){l("请填写完整的标签信息");return}try{i(!0);const{data:T,error:E}=await t.from("tags").insert([{tag_name:f.tag_name,tag_type:f.tag_type,is_active:f.is_active}]).select();if(E)throw E;y({tag_name:"",tag_type:"general",is_active:!0}),l(null),k()}catch(T){console.error("添加标签错误:",T),l(T.message)}finally{i(!1)}},m=b=>{h(b),y({tag_name:b.tag_name,tag_type:b.tag_type,is_active:b.is_active})},_=async b=>{if(b.preventDefault(),!!d){if(!f.tag_name||!f.tag_type){l("请填写完整的标签信息");return}try{i(!0);const{error:T}=await t.from("tags").update({tag_name:f.tag_name,tag_type:f.tag_type,is_active:f.is_active}).eq("id",d.id);if(T)throw T;h(null),y({tag_name:"",tag_type:"general",is_active:!0}),l(null),k()}catch(T){console.error("更新标签错误:",T),l(T.message)}finally{i(!1)}}},C=()=>{h(null),y({tag_name:"",tag_type:"general",is_active:!0})},j=async b=>{if(window.confirm("确定要删除该标签吗？此操作不可恢复。"))try{i(!0);const{count:T,error:E}=await t.from("job_tags").select("*",{count:"exact"}).eq("tag_id",b);if(E)throw E;if(T&&T>0){const{error:I}=await t.from("tags").update({is_active:!1}).eq("id",b);if(I)throw I;alert("该标签已被使用，已将其标记为非活跃状态")}else{const{error:I}=await t.from("tags").delete().eq("id",b);if(I)throw I}k()}catch(T){console.error("删除标签错误:",T),l(T.message)}finally{i(!1)}},S=b=>{const T=w.find(E=>E.value===b);return T?T.label:b};return a.jsxs("div",{className:"tag-management-container",children:[a.jsx("button",{className:"back-button",onClick:e,children:"← 返回标签管理"}),a.jsx("h2",{children:"标签管理"}),o&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:o}),a.jsx("button",{onClick:()=>l(null),children:"关闭"})]}),a.jsxs("div",{className:"tag-management-form",children:[a.jsx("h3",{children:d?"编辑标签":"添加新标签"}),a.jsxs("form",{onSubmit:d?_:p,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"tag_name",children:"标签名称"}),a.jsx("input",{type:"text",id:"tag_name",name:"tag_name",value:f.tag_name,onChange:v,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"tag_type",children:"标签类型"}),a.jsx("select",{id:"tag_type",name:"tag_type",value:f.tag_type,onChange:v,required:!0,children:w.map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))})]}),a.jsxs("div",{className:"form-group checkbox-group",children:[a.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:f.is_active,onChange:v}),a.jsx("label",{htmlFor:"is_active",children:"启用标签"})]}),a.jsxs("div",{className:"form-buttons",children:[a.jsx("button",{type:"submit",className:"submit-button",disabled:s,children:d?"更新标签":"添加标签"}),d&&a.jsx("button",{type:"button",className:"cancel-button",onClick:C,children:"取消"})]})]})]}),a.jsxs("div",{className:"tag-list",children:[a.jsx("div",{className:"search-bar",children:a.jsx("input",{type:"text",placeholder:"搜索标签名称或类型...",value:c,onChange:b=>u(b.target.value)})}),s&&n.length===0?a.jsx("div",{className:"loading-message",children:"加载中..."}):x.length===0?a.jsx("div",{className:"no-data-message",children:"没有找到标签"}):a.jsxs("table",{className:"tag-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"标签名称"}),a.jsx("th",{children:"类型"}),a.jsx("th",{children:"状态"}),a.jsx("th",{children:"创建时间"}),a.jsx("th",{children:"操作"})]})}),a.jsx("tbody",{children:x.map(b=>a.jsxs("tr",{className:b.is_active?"":"inactive-tag",children:[a.jsx("td",{children:b.id}),a.jsx("td",{children:b.tag_name}),a.jsx("td",{children:S(b.tag_type)}),a.jsx("td",{children:b.is_active?"启用":"禁用"}),a.jsx("td",{children:new Date(b.created_at).toLocaleString("zh-CN")}),a.jsxs("td",{children:[a.jsx("button",{className:"edit-button",onClick:()=>m(b),disabled:s,children:"编辑"}),a.jsx("button",{className:"delete-button",onClick:()=>j(b.id),disabled:s,children:"删除"})]})]},b.id))})]})]})]})};const Gw=({onReturnToOverview:e})=>{const{supabase:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState("month"),[d,h]=g.useState({totalUsers:0,activeUsers:0,totalJobs:0,activeJobs:0,totalApplications:0,totalFavorites:0,popularCategories:[],userGrowth:0,jobGrowth:0}),f=async()=>{i(!0);try{const x=new Date;let v=new Date;c==="week"?v.setDate(x.getDate()-7):c==="month"?v.setMonth(x.getMonth()-1):c==="year"&&v.setFullYear(x.getFullYear()-1);const p=v.toISOString().split("T")[0],{data:m,error:_}=await t.from("statistics").select("*").gte("stat_date",p).order("stat_date",{ascending:!1});if(_)throw _;r(m||[]),await y()}catch(x){console.error("加载统计数据错误:",x),l(x.message)}finally{i(!1)}},y=async()=>{try{const{data:x,error:v}=await t.from("users").select("id, is_active",{count:"exact"});if(v)throw v;const p=(x==null?void 0:x.filter(U=>U.is_active).length)||0,{data:m,error:_}=await t.from("job_recruitments").select("id, is_active",{count:"exact"});if(_)throw _;const C=(m==null?void 0:m.filter(U=>U.is_active).length)||0,{count:j,error:S}=await t.from("user_actions").select("*",{count:"exact"}).eq("action_type","投递");if(S)throw S;const{count:b,error:T}=await t.from("user_actions").select("*",{count:"exact"}).eq("action_type","收藏");if(T)throw T;const{data:E,error:I}=await t.from("job_categories").select("id, category, active_job_count").order("active_job_count",{ascending:!1}).limit(5);if(I)throw I;let P=0,D=0;if(n.length>0){const U=n[n.length-1],O=U.total_users,N=U.total_jobs;O>0&&(P=(((x==null?void 0:x.length)||0)-O)/O*100),N>0&&(D=(((m==null?void 0:m.length)||0)-N)/N*100)}h({totalUsers:(x==null?void 0:x.length)||0,activeUsers:p,totalJobs:(m==null?void 0:m.length)||0,activeJobs:C,totalApplications:j||0,totalFavorites:b||0,popularCategories:E||[],userGrowth:P,jobGrowth:D});const z=new Date().toISOString().split("T")[0];n.some(U=>U.stat_date.split("T")[0]===z)||await t.from("statistics").insert([{stat_date:z,total_users:(x==null?void 0:x.length)||0,active_users:p,total_jobs:(m==null?void 0:m.length)||0,active_jobs:C,total_applications:j||0,total_favorites:b||0}])}catch(x){console.error("加载当前统计数据错误:",x)}};g.useEffect(()=>{f()},[c]);const w=x=>new Date(x).toLocaleDateString("zh-CN"),k=()=>{if(n.length===0){alert("没有可导出的数据");return}const v=[["日期","总用户数","活跃用户数","总招聘数","有效招聘数","总申请数","总收藏数"].join(","),...n.map(C=>[w(C.stat_date),C.total_users,C.active_users,C.total_jobs,C.active_jobs,C.total_applications,C.total_favorites].join(","))].join(`
`),p=new Blob([v],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),_=document.createElement("a");_.setAttribute("href",m),_.setAttribute("download",`统计数据_${new Date().toISOString().slice(0,10)}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)};return a.jsxs("div",{className:"statistics-report-container",children:[a.jsx("button",{className:"back-button",onClick:e,children:"← 返回统计报表"}),a.jsx("h2",{children:"统计报表"}),o&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:o}),a.jsx("button",{onClick:()=>l(null),children:"关闭"})]}),a.jsxs("div",{className:"statistics-controls",children:[a.jsxs("div",{className:"period-selector",children:[a.jsx("label",{children:"选择时间段:"}),a.jsxs("div",{className:"period-buttons",children:[a.jsx("button",{className:c==="week"?"active":"",onClick:()=>u("week"),children:"最近一周"}),a.jsx("button",{className:c==="month"?"active":"",onClick:()=>u("month"),children:"最近一个月"}),a.jsx("button",{className:c==="year"?"active":"",onClick:()=>u("year"),children:"最近一年"})]})]}),a.jsx("button",{className:"export-button",onClick:k,disabled:s||n.length===0,children:"导出数据"})]}),a.jsxs("div",{className:"current-statistics",children:[a.jsx("h3",{children:"系统概览"}),a.jsxs("div",{className:"stat-cards",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx("h4",{children:"用户"}),a.jsx("div",{className:"stat-value",children:d.totalUsers}),a.jsxs("div",{className:"stat-detail",children:["活跃: ",d.activeUsers]}),a.jsx("div",{className:"stat-trend",children:d.userGrowth>0?`↑ ${d.userGrowth.toFixed(1)}%`:d.userGrowth<0?`↓ ${Math.abs(d.userGrowth).toFixed(1)}%`:"—"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("h4",{children:"招聘信息"}),a.jsx("div",{className:"stat-value",children:d.totalJobs}),a.jsxs("div",{className:"stat-detail",children:["有效: ",d.activeJobs]}),a.jsx("div",{className:"stat-trend",children:d.jobGrowth>0?`↑ ${d.jobGrowth.toFixed(1)}%`:d.jobGrowth<0?`↓ ${Math.abs(d.jobGrowth).toFixed(1)}%`:"—"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("h4",{children:"用户行为"}),a.jsx("div",{className:"stat-value",children:d.totalApplications}),a.jsx("div",{className:"stat-detail",children:"投递数"}),a.jsxs("div",{className:"stat-detail",children:["收藏数: ",d.totalFavorites]})]})]})]}),a.jsxs("div",{className:"popular-categories",children:[a.jsx("h3",{children:"热门分类"}),a.jsx("div",{className:"category-chart",children:d.popularCategories.map(x=>a.jsxs("div",{className:"category-bar",children:[a.jsx("div",{className:"category-name",children:x.category}),a.jsx("div",{className:"category-value-bar",style:{width:`${Math.min(100,x.count/Math.max(...d.popularCategories.map(v=>v.count))*100)}%`}}),a.jsx("div",{className:"category-value",children:x.count})]},x.id))})]}),a.jsxs("div",{className:"historical-data",children:[a.jsx("h3",{children:"历史数据"}),s?a.jsx("div",{className:"loading-message",children:"加载中..."}):n.length===0?a.jsx("div",{className:"no-data-message",children:"没有找到数据"}):a.jsxs("table",{className:"statistics-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"日期"}),a.jsx("th",{children:"总用户数"}),a.jsx("th",{children:"活跃用户数"}),a.jsx("th",{children:"总招聘数"}),a.jsx("th",{children:"有效招聘数"}),a.jsx("th",{children:"总申请数"}),a.jsx("th",{children:"总收藏数"})]})}),a.jsx("tbody",{children:n.map(x=>a.jsxs("tr",{children:[a.jsx("td",{children:w(x.stat_date)}),a.jsx("td",{children:x.total_users}),a.jsx("td",{children:x.active_users}),a.jsx("td",{children:x.total_jobs}),a.jsx("td",{children:x.active_jobs}),a.jsx("td",{children:x.total_applications}),a.jsx("td",{children:x.total_favorites})]},x.id))})]})]})]})},Hu=[{id:"job-management",title:"招聘信息管理"},{id:"user-management",title:"用户管理"},{id:"activation-code",title:"激活码管理"},{id:"category-management",title:"分类管理"},{id:"tag-management",title:"标签管理"},{id:"statistics",title:"统计报表"}],Qw=()=>{var h;const{admin:e,supabase:t}=be(),n=Er(),[r,s]=g.useState("job-management");g.useState("management"),g.useState("management"),g.useState("management"),g.useState("management"),g.useState("management"),g.useState("report");const[i,o]=g.useState({totalJobs:0,activeJobs:0,totalUsers:0,activeUsers:0,totalActivationCodes:0,usedActivationCodes:0}),[l,c]=g.useState(!0);g.useEffect(()=>{e?u():n("/login/admin")},[e,n]);const u=async()=>{c(!0);try{const{data:f,error:y}=await t.from("job_recruitments").select("id, is_active",{count:"exact"});if(y)throw y;const w=(f==null?void 0:f.filter(C=>C.is_active).length)||0,{data:k,error:x}=await t.from("users").select("id, is_active",{count:"exact"});if(x)throw x;const v=(k==null?void 0:k.filter(C=>C.is_active).length)||0,{data:p,error:m}=await t.from("activation_codes").select("id, is_used",{count:"exact"});if(m)throw m;const _=(p==null?void 0:p.filter(C=>C.is_used).length)||0;o({totalJobs:(f==null?void 0:f.length)||0,activeJobs:w,totalUsers:(k==null?void 0:k.length)||0,activeUsers:v,totalActivationCodes:(p==null?void 0:p.length)||0,usedActivationCodes:_})}catch(f){console.error("加载统计数据出错:",f)}finally{c(!1)}},d=()=>{switch(r){case"job-management":return a.jsx(Ww,{onReturnToOverview:()=>{}});case"user-management":return a.jsx(Vw,{onReturnToOverview:()=>{}});case"activation-code":return a.jsx(qw,{onReturnToOverview:()=>{}});case"category-management":return a.jsx(Hw,{onReturnToOverview:()=>{}});case"tag-management":return a.jsx(Kw,{onReturnToOverview:()=>{}});case"statistics":return a.jsx(Gw,{onReturnToOverview:()=>{}});default:return a.jsxs("div",{className:"dashboard-content-section",children:[a.jsx("h3",{children:"欢迎使用管理控制台"}),a.jsx("p",{children:"请从左侧菜单选择要管理的内容。"})]})}};return e?a.jsxs("div",{className:"admin-dashboard",children:[a.jsxs("header",{className:"dashboard-header",children:[a.jsx("h1",{children:"招聘信息管理系统"}),a.jsxs("div",{className:"admin-info",children:[a.jsxs("span",{children:["管理员: ",e==null?void 0:e.admin_username]}),a.jsx("button",{className:"logout-button",onClick:()=>{t.auth.signOut(),n("/login/admin")},children:"退出登录"})]})]}),a.jsxs("div",{className:"dashboard-container",children:[a.jsx("aside",{className:"dashboard-sidebar",children:a.jsx("nav",{className:"dashboard-menu",children:a.jsx("ul",{children:Hu.map(f=>a.jsx("li",{className:r===f.id?"active":"",onClick:()=>{s(f.id)},children:f.title},f.id))})})}),a.jsxs("main",{className:"dashboard-content",children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsx("h2",{children:(h=Hu.find(f=>f.id===r))==null?void 0:h.title}),a.jsx("button",{onClick:u,className:"refresh-button",disabled:l,children:l?"加载中...":"刷新数据"})]}),l?a.jsx("div",{className:"loading-container",children:a.jsx("p",{children:"加载数据中..."})}):d()]})]})]}):a.jsx("div",{className:"loading-container",children:"正在检查登录状态..."})};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Yw(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function at(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ce(e){at(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||rl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Xw={};function rp(){return Xw}function Ku(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function vi(e,t){at(2,arguments);var n=Ce(e),r=Ce(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Zw(e,t){at(2,arguments);var n=Ce(e),r=Ce(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function e_(e,t){return at(2,arguments),Ce(e).getTime()-Ce(t).getTime()}var Gu={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},t_="trunc";function n_(e){return e?Gu[e]:Gu[t_]}function r_(e){at(1,arguments);var t=Ce(e);return t.setHours(23,59,59,999),t}function s_(e){at(1,arguments);var t=Ce(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function i_(e){at(1,arguments);var t=Ce(e);return r_(t).getTime()===s_(t).getTime()}function a_(e,t){at(2,arguments);var n=Ce(e),r=Ce(t),s=vi(n,r),i=Math.abs(Zw(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=vi(n,r)===-s;i_(Ce(e))&&i===1&&vi(e,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function o_(e,t,n){at(2,arguments);var r=e_(e,t)/1e3;return n_(n==null?void 0:n.roundingMethod)(r)}function Qu(e,t){var n,r,s,i,o,l,c,u;at(1,arguments);var d=rp(),h=Yw((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ce(e),y=f.getUTCDay(),w=(y<h?7:0)+y-h;return f.setUTCDate(f.getUTCDate()-w),f.setUTCHours(0,0,0,0),f}var l_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},c_=function(t,n,r){var s,i=l_[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const u_=c_;function fr(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var d_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p_={date:fr({formats:d_,defaultWidth:"full"}),time:fr({formats:h_,defaultWidth:"full"}),dateTime:fr({formats:f_,defaultWidth:"full"})};const m_=p_;var g_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v_=function(t,n,r,s){return g_[t]};const y_=v_;function xt(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var w_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},__={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k_=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},C_={ordinalNumber:k_,era:xt({values:w_,defaultWidth:"wide"}),quarter:xt({values:__,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:xt({values:x_,defaultWidth:"wide"}),day:xt({values:j_,defaultWidth:"wide"}),dayPeriod:xt({values:S_,defaultWidth:"wide",formattingValues:b_,defaultFormattingWidth:"wide"})};const E_=C_;function jt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?T_(l,function(h){return h.test(o)}):N_(l,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function N_(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function T_(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function sp(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var P_=/^(\d+)(th|st|nd|rd)?/i,$_=/\d+/i,R_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O_={any:[/^b/i,/^(a|c)/i]},A_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I_={any:[/1/i,/2/i,/3/i,/4/i]},D_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},L_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},z_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B_={ordinalNumber:sp({matchPattern:P_,parsePattern:$_,valueCallback:function(t){return parseInt(t,10)}}),era:jt({matchPatterns:R_,defaultMatchWidth:"wide",parsePatterns:O_,defaultParseWidth:"any"}),quarter:jt({matchPatterns:A_,defaultMatchWidth:"wide",parsePatterns:I_,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:jt({matchPatterns:D_,defaultMatchWidth:"wide",parsePatterns:L_,defaultParseWidth:"any"}),day:jt({matchPatterns:F_,defaultMatchWidth:"wide",parsePatterns:M_,defaultParseWidth:"any"}),dayPeriod:jt({matchPatterns:U_,defaultMatchWidth:"any",parsePatterns:z_,defaultParseWidth:"any"})};const J_=B_;var W_={code:"en-US",formatDistance:u_,formatLong:m_,formatRelative:y_,localize:E_,match:J_,options:{weekStartsOn:0,firstWeekContainsDate:1}};const V_=W_;function ip(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function q_(e){return ip({},e)}var Yu=1440,H_=2520,Qa=43200,K_=86400;function G_(e,t,n){var r,s;at(2,arguments);var i=rp(),o=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:V_;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=vi(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=ip(q_(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),u,d;l>0?(u=Ce(t),d=Ce(e)):(u=Ce(e),d=Ce(t));var h=o_(d,u),f=(Ku(d)-Ku(u))/1e3,y=Math.round((h-f)/60),w;if(y<2)return n!=null&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,c):h<10?o.formatDistance("lessThanXSeconds",10,c):h<20?o.formatDistance("lessThanXSeconds",20,c):h<40?o.formatDistance("halfAMinute",0,c):h<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):y===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",y,c);if(y<45)return o.formatDistance("xMinutes",y,c);if(y<90)return o.formatDistance("aboutXHours",1,c);if(y<Yu){var k=Math.round(y/60);return o.formatDistance("aboutXHours",k,c)}else{if(y<H_)return o.formatDistance("xDays",1,c);if(y<Qa){var x=Math.round(y/Yu);return o.formatDistance("xDays",x,c)}else if(y<K_)return w=Math.round(y/Qa),o.formatDistance("aboutXMonths",w,c)}if(w=a_(d,u),w<12){var v=Math.round(y/Qa);return o.formatDistance("xMonths",v,c)}else{var p=w%12,m=Math.floor(w/12);return p<3?o.formatDistance("aboutXYears",m,c):p<9?o.formatDistance("overXYears",m,c):o.formatDistance("almostXYears",m+1,c)}}function Q_(e,t,n){at(2,arguments);var r=Qu(e,n),s=Qu(t,n);return r.getTime()===s.getTime()}var Y_={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},X_=function(t,n,r){var s,i=Y_[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"内":s+"前":s};const Z_=X_;var ex={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},tx={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},nx={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rx={date:fr({formats:ex,defaultWidth:"full"}),time:fr({formats:tx,defaultWidth:"full"}),dateTime:fr({formats:nx,defaultWidth:"full"})};const sx=rx;function Xu(e,t,n){var r="eeee p";return Q_(e,t,n)?r:e.getTime()>t.getTime()?"'下个'"+r:"'上个'"+r}var ix={lastWeek:Xu,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:Xu,other:"PP p"},ax=function(t,n,r,s){var i=ix[t];return typeof i=="function"?i(n,r,s):i};const ox=ax;var lx={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},cx={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},ux={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},dx={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},hx={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},fx={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},px=function(t,n){var r=Number(t);switch(n==null?void 0:n.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},mx={ordinalNumber:px,era:xt({values:lx,defaultWidth:"wide"}),quarter:xt({values:cx,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:xt({values:ux,defaultWidth:"wide"}),day:xt({values:dx,defaultWidth:"wide"}),dayPeriod:xt({values:hx,defaultWidth:"wide",formattingValues:fx,defaultFormattingWidth:"wide"})};const gx=mx;var vx=/^(第\s*)?\d+(日|时|分|秒)?/i,yx=/\d+/i,wx={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},_x={any:[/^(前)/i,/^(公元)/i]},xx={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},jx={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Sx={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},bx={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},kx={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},Cx={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},Ex={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},Nx={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},Tx={ordinalNumber:sp({matchPattern:vx,parsePattern:yx,valueCallback:function(t){return parseInt(t,10)}}),era:jt({matchPatterns:wx,defaultMatchWidth:"wide",parsePatterns:_x,defaultParseWidth:"any"}),quarter:jt({matchPatterns:xx,defaultMatchWidth:"wide",parsePatterns:jx,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:jt({matchPatterns:Sx,defaultMatchWidth:"wide",parsePatterns:bx,defaultParseWidth:"any"}),day:jt({matchPatterns:kx,defaultMatchWidth:"wide",parsePatterns:Cx,defaultParseWidth:"any"}),dayPeriod:jt({matchPatterns:Ex,defaultMatchWidth:"any",parsePatterns:Nx,defaultParseWidth:"any"})};const Px=Tx;var $x={code:"zh-CN",formatDistance:Z_,formatLong:sx,formatRelative:ox,localize:gx,match:Px,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Rx=$x,Ox=[{id:"my-favorites",title:"我的收藏"},{id:"my-applications",title:"我的投递"},{id:"membership",title:"会员信息"},{id:"settings",title:"账户设置"}],Ax={1:"国企",2:"外企",3:"事业单位",4:"银行/金融",5:"互联网",6:"制造业",7:"游戏",8:"快消/品牌",9:"生物医药",10:"汽车/新能源",11:"科技",12:"美妆",13:"传媒",14:"一线大厂",15:"小而美",16:"教育",17:"地产/建筑",18:"其他"},Ix=()=>{const{user:e,supabase:t}=be();Er();const[n,r]=g.useState("my-favorites"),[s,i]=g.useState(null),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState(!0),[f,y]=g.useState(!1),[w,k]=g.useState(!1),[x,v]=g.useState(""),[p,m]=g.useState(!1),[_,C]=g.useState(null),[j,S]=g.useState(null),[b,T]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[E,I]=g.useState(""),[P,D]=g.useState(!1),[z,B]=g.useState(null),[U,O]=g.useState(null),N=g.useRef(null),[F,L]=g.useState({});g.useEffect(()=>{N.current||(N.current=Bt.getInstance()),e&&M()},[e]),g.useEffect(()=>{if(!e||!N.current)return;(async()=>{n==="my-favorites"?await V():n==="my-applications"&&await K()})()},[n,e]);const M=async()=>{if(!(!e||!N.current)){h(!0);try{I(e.username||"");const{data:R,error:q}=await t.from("user_info").select("*").eq("user_id",e.id).single();q||i(R),n==="my-favorites"?await V():n==="my-applications"?await K():h(!1)}catch(R){console.error("加载用户数据出错:",R),h(!1)}}},V=async(R=!1)=>{if(!(!e||!e.id||!N.current))return y(!0),new Promise(q=>{var ee;(ee=N.current)==null||ee.getUserFavoriteJobs(e.id,X=>{console.log("获取到收藏职位:",X.length),l(X||[]),y(!1),h(!1),q()},R)})},K=async(R=!1)=>{if(!(!e||!e.id||!N.current))return k(!0),new Promise(q=>{var ee;(ee=N.current)==null||ee.getUserApplicationJobs(e.id,X=>{console.log("获取到投递职位:",X.length),u(X||[]),k(!1),h(!1),q()},R)})},se=async()=>{if(!x.trim()){C("请输入激活码");return}m(!0),C(null),S(null);try{if(!e||!e.id)throw new Error("用户未登录");const{data:R,error:q}=await t.from("activation_codes").select("*").eq("code",x.trim()).eq("is_active",!0).eq("is_used",!1).single();if(q||!R)throw new Error("激活码无效或已被使用");const{data:ee,error:X}=await t.from("user_info").select("*").eq("user_id",e.id).single();if(X&&X.code!=="PGRST116")throw X;const gt=new Date;let Te;ee&&ee.membership_end_date&&new Date(ee.membership_end_date)>gt?(Te=new Date(ee.membership_end_date),Te.setDate(Te.getDate()+R.validity_days)):(Te=new Date,Te.setDate(Te.getDate()+R.validity_days));const Un=gt.toISOString(),zn=Te.toISOString(),uc=Math.ceil((Te.getTime()-gt.getTime())/(1e3*60*60*24));ee?await t.from("user_info").update({membership_type:"高级会员",membership_code:x,membership_start_date:Un,membership_end_date:zn,membership_remaining_days:uc,is_active:!0,updated_at:Un}).eq("user_id",e.id):await t.from("user_info").insert({user_id:e.id,membership_type:"高级会员",membership_code:x,membership_start_date:Un,membership_end_date:zn,membership_remaining_days:uc,is_active:!0,created_at:Un,updated_at:Un}),await t.from("activation_codes").update({is_used:!0,user_id:e.id}).eq("id",R.id),S("会员激活成功！"),v(""),M()}catch(R){console.error("激活会员出错:",R),C(R.message||"激活会员失败，请检查激活码是否正确")}finally{m(!1)}},mt=async()=>{if(!E.trim()){B("用户名不能为空");return}D(!0),B(null),O(null);try{if(!e||!e.id)throw new Error("用户未登录");const{error:R}=await t.from("users").update({username:E,updated_at:new Date().toISOString()}).eq("id",e.id);if(R)throw R;O("用户资料更新成功"),e&&(e.username=E)}catch(R){console.error("更新用户资料出错:",R),B(R.message||"更新用户资料失败")}finally{D(!1)}},Fe=async()=>{const{currentPassword:R,newPassword:q,confirmPassword:ee}=b;if(!R||!q||!ee){B("请填写所有密码字段");return}if(q!==ee){B("新密码和确认密码不匹配");return}if(q.length<6){B("新密码长度不应少于6个字符");return}D(!0),B(null),O(null);try{if(!e||!e.id)throw new Error("用户未登录");const{data:X,error:gt}=await t.from("users").select("password").eq("id",e.id).single();if(gt)throw gt;if(X.password!==R)throw new Error("当前密码不正确");const{error:Te}=await t.from("users").update({password:q,updated_at:new Date().toISOString()}).eq("id",e.id);if(Te)throw Te;O("密码更新成功"),T({currentPassword:"",newPassword:"",confirmPassword:""})}catch(X){console.error("更新密码出错:",X),B(X.message||"更新密码失败")}finally{D(!1)}},te=R=>{const{name:q,value:ee}=R.target;T(X=>({...X,[q]:ee}))},Nt=R=>{if(!R)return"-";try{const q=new Date(R);return G_(q,new Date,{addSuffix:!0,locale:Rx})}catch{return new Date(R).toLocaleDateString("zh-CN")}},$=R=>!R||!Array.isArray(R)?"未分类":R.map(q=>Ax[q]||`未知分类(${q})`).join(", "),J=g.useCallback(R=>{L(q=>{const ee=q[R];return!ee&&N.current&&N.current.incrementJobViews(R).catch(X=>{console.error("增加浏览次数失败:",X)}),{...q,[R]:!ee}})},[]),he=()=>{switch(n){case"my-favorites":return a.jsxs("div",{className:"dashboard-content-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h3",{children:"我的收藏"}),a.jsx("button",{className:"refresh-btn",onClick:()=>V(!0),disabled:f,children:f?"刷新中...":"刷新数据"})]}),f?a.jsx("div",{className:"loading-indicator",children:"加载中..."}):o.length===0?a.jsx("p",{className:"empty-message",children:"暂无收藏的招聘信息"}):a.jsx("div",{className:"job-list",children:o.map(R=>a.jsxs("div",{className:`job-item ${F[R.id]?"expanded":"collapsed"}`,children:[a.jsx("h4",{children:R.job_title}),a.jsxs("div",{className:"job-details",children:[a.jsx("span",{children:R.company}),a.jsx("span",{children:R.job_position}),a.jsxs("span",{className:"job-deadline",children:["截止日期: ",Nt(R.deadline)]}),F[R.id]&&a.jsxs("div",{className:"job-expanded-details",children:[a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"分类:"}),a.jsx("span",{className:"detail-value",children:$(R.category_id)})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"工作地点:"}),a.jsx("span",{className:"detail-value",children:R.job_location})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"学历要求:"}),a.jsx("span",{className:"detail-value",children:R.job_education_requirement})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"专业要求:"}),a.jsx("span",{className:"detail-value",children:R.job_major})]}),a.jsxs("div",{className:"detail-item full-width",children:[a.jsx("span",{className:"detail-label",children:"职位描述:"}),a.jsx("div",{className:"detail-value description",children:R.description})]})]})]}),a.jsxs("div",{className:"job-actions",children:[a.jsx("button",{className:"view-detail-btn",onClick:()=>J(R.id),children:F[R.id]?"收起详情":"查看详情"}),a.jsx("button",{className:"cancel-favorite-btn",onClick:()=>ge(R.id),children:"取消收藏"})]})]},R.id))})]});case"my-applications":return a.jsxs("div",{className:"dashboard-content-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h3",{children:"我的投递"}),a.jsx("button",{className:"refresh-btn",onClick:()=>K(!0),disabled:w,children:w?"刷新中...":"刷新数据"})]}),w?a.jsx("div",{className:"loading-indicator",children:"加载中..."}):c.length===0?a.jsx("p",{className:"empty-message",children:"暂无投递的招聘信息"}):a.jsx("div",{className:"job-list",children:c.map(R=>a.jsxs("div",{className:`job-item ${F[R.id]?"expanded":"collapsed"}`,children:[a.jsx("h4",{children:R.job_title}),a.jsxs("div",{className:"job-details",children:[a.jsx("span",{children:R.company}),a.jsx("span",{children:R.job_position}),a.jsxs("span",{className:"job-deadline",children:["截止日期: ",Nt(R.deadline)]}),F[R.id]&&a.jsxs("div",{className:"job-expanded-details",children:[a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"分类:"}),a.jsx("span",{className:"detail-value",children:$(R.category_id)})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"工作地点:"}),a.jsx("span",{className:"detail-value",children:R.job_location})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"学历要求:"}),a.jsx("span",{className:"detail-value",children:R.job_education_requirement})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx("span",{className:"detail-label",children:"专业要求:"}),a.jsx("span",{className:"detail-value",children:R.job_major})]}),a.jsxs("div",{className:"detail-item full-width",children:[a.jsx("span",{className:"detail-label",children:"职位描述:"}),a.jsx("div",{className:"detail-value description",children:R.description})]})]})]}),a.jsx("div",{className:"job-actions",children:a.jsx("button",{className:"view-detail-btn",onClick:()=>J(R.id),children:F[R.id]?"收起详情":"查看详情"})})]},R.id))})]});case"membership":return a.jsxs("div",{className:"dashboard-content-section",children:[a.jsx("h3",{children:"会员信息"}),d?a.jsx("div",{className:"loading-indicator",children:"加载中..."}):a.jsxs("div",{className:"membership-info",children:[a.jsxs("div",{className:"membership-status",children:[a.jsx("h4",{children:"会员状态"}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"会员类型:"}),a.jsx("span",{className:`info-value ${(s==null?void 0:s.membership_type)==="高级会员"?"premium-member":""}`,children:(s==null?void 0:s.membership_type)||"普通用户"})]}),(s==null?void 0:s.membership_type)==="高级会员"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"会员开始日期:"}),a.jsx("span",{className:"info-value",children:Nt(s.membership_start_date)})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"会员结束日期:"}),a.jsx("span",{className:"info-value",children:Nt(s.membership_end_date)})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"剩余天数:"}),a.jsxs("span",{className:"info-value",children:[s.membership_remaining_days||0," 天"]})]})]})]}),a.jsxs("div",{className:"activate-section",children:[a.jsx("h4",{children:"激活会员"}),a.jsx("p",{children:"输入激活码即可开通或延长会员期限"}),_&&a.jsx("div",{className:"error-message",children:_}),j&&a.jsx("div",{className:"success-message",children:j}),a.jsxs("div",{className:"activation-form",children:[a.jsx("input",{type:"text",placeholder:"请输入激活码",value:x,onChange:R=>v(R.target.value),disabled:p}),a.jsx("button",{className:"activate-btn",onClick:se,disabled:p||!x.trim(),children:p?"激活中...":"激活"})]}),a.jsxs("div",{className:"activation-notes",children:[a.jsx("h5",{children:"激活说明:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"高级会员可以查看所有招聘详情"}),a.jsx("li",{children:"每个激活码只能使用一次"}),a.jsx("li",{children:"激活码将会绑定到您的账户"}),a.jsx("li",{children:"如果已有会员，激活后有效期将会叠加"})]})]})]})]})]});case"settings":return a.jsxs("div",{className:"dashboard-content-section",children:[a.jsx("h3",{children:"账户设置"}),z&&a.jsx("div",{className:"error-message",children:z}),U&&a.jsx("div",{className:"success-message",children:U}),a.jsxs("div",{className:"settings-form",children:[a.jsx("h4",{children:"个人资料"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"username",children:"用户名"}),a.jsx("input",{type:"text",id:"username",value:E,onChange:R=>I(R.target.value),disabled:P})]}),a.jsx("button",{className:"save-profile-btn",onClick:mt,disabled:P||!E.trim(),children:P?"保存中...":"保存个人资料"}),a.jsx("h4",{children:"修改密码"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"currentPassword",children:"当前密码"}),a.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:b.currentPassword,onChange:te,disabled:P})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"newPassword",children:"新密码"}),a.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:b.newPassword,onChange:te,disabled:P})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"确认新密码"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:b.confirmPassword,onChange:te,disabled:P})]}),a.jsx("button",{className:"save-password-btn",onClick:Fe,disabled:P||!b.currentPassword||!b.newPassword||!b.confirmPassword,children:P?"保存中...":"更新密码"})]})]});default:return null}},ge=async R=>{if(!(!e||!e.id||!N.current))try{l(q=>q.filter(ee=>ee.id!==R)),await N.current.toggleFavorite(e.id,R,!1),await V(!0),console.log("取消收藏成功")}catch(q){console.error("取消收藏失败:",q),B("取消收藏失败，请重试"),setTimeout(()=>B(null),3e3),await V(!0)}};return e?a.jsxs("div",{className:"user-dashboard",children:[a.jsxs("div",{className:"dashboard-sidebar",children:[a.jsxs("div",{className:"user-info",children:[a.jsx("h3",{children:"个人中心"}),a.jsx("p",{className:"user-name",children:e.username}),a.jsx("p",{className:"user-type",children:(s==null?void 0:s.membership_type)||"普通用户"})]}),a.jsx("nav",{className:"dashboard-nav",children:a.jsx("ul",{children:Ox.map(R=>a.jsx("li",{className:n===R.id?"active":"",children:a.jsx("button",{onClick:()=>r(R.id),children:R.title})},R.id))})})]}),a.jsx("div",{className:"dashboard-content",children:he()})]}):a.jsx("div",{className:"loading-container",children:"正在检查登录状态..."})};const Dx=({id:e,name:t,count:n,index:r,isDraggable:s,animationClass:i="",onFavoriteToggle:o,onCardClick:l})=>{const[c,u]=g.useState(!1);g.useEffect(()=>{const k=localStorage.getItem("favoriteCategoryIds");if(k){const x=JSON.parse(k);u(x.includes(e))}},[e]);const d=k=>{k.preventDefault(),k.stopPropagation();const x=!c;u(x);const v=localStorage.getItem("favoriteCategoryIds");let p=[];v&&(p=JSON.parse(v)),x?p.includes(e)||p.push(e):p=p.filter(m=>m!==e),localStorage.setItem("favoriteCategoryIds",JSON.stringify(p)),o&&o(e,x)},h=()=>{l&&l(e,t,n)},f=e===19||e===20,y=`category-card ${f?"special-category":""} category-${e} ${i}`,w=()=>({1:"#0055d4",2:"#0077cc",3:"#5c5c6d",4:"#26a826",5:"#0066cc",6:"#5840cb",7:"#e67700",8:"#8000cc",9:"#009e9e",10:"#445e69",11:"#0066cc",12:"#e6194b",13:"#cc7700",14:"#00994d",15:"#8800cc",16:"#cc7700",17:"#737a22",18:"#666666",19:"#0055d4",20:"#8800cc"})[e]||"#666666";return a.jsx("div",{className:y,"data-id":e,"data-index":r,"data-color":w(),onClick:h,children:a.jsxs("div",{className:"category-card-inner",children:[a.jsxs("div",{className:"card-content",children:[a.jsx("div",{className:"count-number",children:n}),a.jsx("h3",{className:"category-name",children:t})]}),!f&&s&&a.jsx("button",{className:`favorite-button ${c?"favorited":""}`,onClick:d,"aria-label":c?"取消收藏":"收藏",children:c?"★":"☆"})]})})};const ni={1:{bg:"#4caf50",text:"white",name:"24h更新"},2:{bg:"#2196f3",text:"white",name:"昨天更新"},3:{bg:"#ffc107",text:"black",name:"3日内更新"},4:{bg:"#9e9e9e",text:"white",name:"7日内更新"},5:{bg:"#f44336",text:"white",name:"即将截止"},6:{bg:"#8bc34a",text:"white",name:"有效可投递"}},Ur={7:{bg:"linear-gradient(135deg, #FF9A8B 0%, #FF6A88 100%)",text:"white",name:"多人浏览",icon:"👁️"},8:{bg:"linear-gradient(135deg, #FDEB71 0%, #F8D800 100%)",text:"black",name:"多人收藏",icon:"⭐"},9:{bg:"linear-gradient(135deg, #81FFEF 0%, #F067B4 100%)",text:"white",name:"多人投递",icon:"🔥"}},Lx=({jobId:e})=>{console.log("TagDisplay组件被调用，jobId:",e);const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState(null),u=Bt.getInstance();return g.useEffect(()=>{(async()=>{console.log("开始加载标签数据，jobId:",e);try{o(!0);const h=await u.getJobTags(e);console.log("获取到的标签数据:",h),h?(n(h.time_tag_id||null),s(h.action_tag_id||null),console.log("设置标签数据:",{timeTag:h.time_tag_id,actionTag:h.action_tag_id})):(console.log("没有找到标签数据"),n(null),s(null))}catch(h){console.error("加载标签失败:",h),c(String(h))}finally{o(!1)}})()},[e,u]),a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"tag-loading",style:{fontSize:"12px",color:"#999"},children:"加载中..."}),l&&a.jsx("div",{className:"tag-error",style:{fontSize:"12px",color:"red"},children:l}),!i&&!l&&t&&ni[t]&&a.jsx("div",{className:"time-tag",style:{backgroundColor:ni[t].bg,color:ni[t].text},children:ni[t].name}),!i&&!l&&r&&Ur[r]&&a.jsxs("div",{className:"action-tag",style:{background:Ur[r].bg,color:Ur[r].text},children:[a.jsx("span",{style:{marginRight:"4px"},children:Ur[r].icon}),Ur[r].name]})]})};const Fx=({title:e,message:t,type:n="info",buttons:r,isOpen:s,onClose:i,autoClose:o})=>{const[l,c]=g.useState(!1);if(g.useEffect(()=>{if(!s&&!l){c(!0);const y=setTimeout(()=>{c(!1)},300);return()=>clearTimeout(y)}},[s]),g.useEffect(()=>{if(s&&o&&o>0){const y=setTimeout(()=>{i()},o);return()=>clearTimeout(y)}},[s,o,i]),!s)return null;const d=(()=>{switch(n){case"success":return{backgroundColor:"#27ae60",color:"white",icon:"✓"};case"error":return{backgroundColor:"#e53e3e",color:"white",icon:"✕"};case"warning":return{backgroundColor:"#FF9800",color:"white",icon:"⚠"};case"info":default:return{backgroundColor:"#3b82f6",color:"white",icon:"ℹ"}}})(),f=r||[{text:"确定",primary:!0,onClick:i}];return a.jsx("div",{className:`alert-dialog-overlay ${l?"closing":""}`,onMouseDown:y=>{y.stopPropagation()},onClick:y=>{y.stopPropagation(),i()},children:a.jsxs("div",{className:`alert-dialog-container ${l?"closing":""}`,onMouseDown:y=>{y.stopPropagation()},onClick:y=>{y.stopPropagation()},children:[a.jsxs("div",{className:"alert-dialog-header",style:{backgroundColor:d.backgroundColor,color:d.color},children:[a.jsx("span",{className:"alert-dialog-icon",children:d.icon}),a.jsx("span",{className:"alert-dialog-title",children:e||n.charAt(0).toUpperCase()+n.slice(1)})]}),a.jsx("div",{className:"alert-dialog-content",children:t}),a.jsx("div",{className:"alert-dialog-footer",children:f.map((y,w)=>a.jsx("button",{className:`alert-dialog-button ${y.primary?"alert-dialog-button-primary":"alert-dialog-button-secondary"}`,style:y.primary?{backgroundColor:d.backgroundColor}:{},onMouseDown:k=>{k.stopPropagation()},onClick:k=>{k.stopPropagation(),y.onClick?y.onClick():i()},children:y.text},w))})]})})};let Hn=null,sl=null;const Mx=()=>{if(!Hn){Hn=document.createElement("div"),Hn.id="alert-container",document.body.appendChild(Hn);const e=()=>{const[t,n]=g.useState({message:"",isOpen:!1});sl=n;const r=g.useCallback(()=>{console.log("Closing alert"),n(s=>({...s,isOpen:!1})),t.onClose&&t.onClose()},[t.onClose]);return t.isOpen?a.jsx(Fx,{...t,onClose:r}):null};Ig.render(a.jsx(e,{}),Hn)}},je=e=>{Hn||Mx(),setTimeout(()=>{sl?(console.log("Showing alert:",e.message),sl({...e,isOpen:!0})):(console.error("setAlertState is not initialized"),alert(e.message))},0)},Ux={1:"国企",2:"外企",3:"事业单位",4:"银行/金融",5:"互联网",6:"制造业",7:"游戏",8:"快消/品牌",9:"生物医药",10:"汽车/新能源",11:"科技",12:"美妆",13:"传媒",14:"一线大厂",15:"小而美",16:"教育",17:"地产/建筑",18:"其他",19:"24h新开",20:"往届可投"},zx=()=>a.jsxs("div",{className:"skeleton-card",children:[a.jsxs("div",{className:"skeleton-header",children:[a.jsx("div",{className:"skeleton-title"}),a.jsx("div",{className:"skeleton-company"})]}),a.jsxs("div",{className:"skeleton-basic",children:[a.jsx("div",{className:"skeleton-field"}),a.jsx("div",{className:"skeleton-field skeleton-small"}),a.jsx("div",{className:"skeleton-field"}),a.jsx("div",{className:"skeleton-field skeleton-small"})]}),a.jsxs("div",{className:"skeleton-footer",children:[a.jsx("div",{className:"skeleton-button",style:{width:"80px"}}),a.jsx("div",{className:"skeleton-button",style:{width:"90px"}}),a.jsx("div",{className:"skeleton-stats",children:a.jsx("div",{className:"skeleton-stat",style:{width:"120px"}})})]})]}),Bx=()=>{const[e,t]=g.useState(window.innerWidth<=768);return g.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),{isMobile:e}},Jx=({categoryId:e,categoryName:t,jobCount:n,accentColor:r,isVisible:s,onClose:i})=>{const{supabase:o,user:l}=be(),[c,u]=g.useState([]),[d,h]=g.useState(!0),[f,y]=g.useState(null),[w,k]=g.useState({}),[x,v]=g.useState({}),[p,m]=g.useState({}),_=Bt.getInstance(),C=g.useRef(null),[j,S]=g.useState(!1),[b,T]=g.useState(!1),{isMobile:E}=Bx(),I=g.useRef(null),[P,D]=g.useState({top:0,left:0,width:0,id:null}),[z,B]=g.useState(null);g.useState(null);const U=g.useCallback($=>{const J=document.getElementById(`job-card-${$}`);if(J){const he=J.getBoundingClientRect();D({top:he.top+window.scrollY,left:he.left,width:he.width,id:$}),I.current=J}},[]);g.useEffect(()=>{if(s){S(!0);const $=requestAnimationFrame(()=>{requestAnimationFrame(()=>{T(!0),C.current&&C.current.offsetHeight})});return()=>cancelAnimationFrame($)}else{T(!1);const $=setTimeout(()=>{S(!1)},300);return()=>clearTimeout($)}},[s]),g.useEffect(()=>{if(!j)return;(async()=>{try{h(!0);let J=o.from("job_recruitments").select("*").eq("is_active",!0).order("post_time",{ascending:!1}).limit(20);e<=18?J=J.contains("category_id",[e]):e===19?J=J.eq("is_24hnew",!0):e===20&&(J=J.eq("is_pregraduation",!0));const{data:he,error:ge}=await J;if(ge)throw new Error("加载招聘信息失败: "+ge.message);u(he||[])}catch(J){console.error("获取招聘信息错误:",J),y(J.message)}finally{h(!1)}})()},[e,o,j]),g.useEffect(()=>{if(!l||!j)return;(async()=>{try{const J=await _.getFavoriteJobIds(l.id),he={};J.forEach(q=>{he[q]=!0}),v(he);const ge=await _.getApplicationJobIds(l.id),R={};ge.forEach(q=>{R[q]=!0}),m(R)}catch(J){console.error("加载用户行为状态错误:",J)}})()},[l,_,j]),g.useEffect(()=>{const $=J=>{const he=document.getElementById("alert-container");he&&he.contains(J.target)||C.current&&!C.current.contains(J.target)&&i()};return j&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[j,i]),g.useEffect(()=>{if(j){const $=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${$}px`}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[j]);const O=()=>{i()},N=($,J)=>{J&&(J.preventDefault(),J.stopPropagation()),k(he=>{const ge=he[$],R={};if(!ge){R[$]=!0,U($);const q=`job_${$}_viewed`;if(!sessionStorage.getItem(q))try{_.incrementJobViews($),sessionStorage.setItem(q,"true"),u(ee=>ee.map(X=>X.id===$?{...X,views_count:(X.views_count||0)+1}:X)),setTimeout(()=>{sessionStorage.removeItem(q)},5*60*1e3)}catch(ee){console.error("增加浏览次数错误:",ee)}setTimeout(()=>{const ee=document.getElementById(`job-card-${$}`);if(ee){const X=document.querySelector(".popup-content");if(X){const gt=ee.getBoundingClientRect(),Te=X.getBoundingClientRect();if(gt.bottom>Te.bottom-300){const zn=gt.top-Te.top-150;X.scrollTo({top:X.scrollTop+zn,behavior:"smooth"})}else{const zn=gt.top-Te.top-Te.height/3;X.scrollTo({top:X.scrollTop+zn,behavior:"smooth"})}}}},50)}return R})};g.useEffect(()=>{const $=()=>{P.id!==null&&U(P.id)};return window.addEventListener("scroll",$),window.addEventListener("resize",$),()=>{window.removeEventListener("scroll",$),window.removeEventListener("resize",$)}},[P.id,U]);const F=async($,J)=>{if(J.preventDefault(),J.stopPropagation(),!l){je({title:"需要登录",message:"请先登录后再收藏职位",type:"warning"});return}const he=`favorite_action_${$}`;if(!sessionStorage.getItem(he)){sessionStorage.setItem(he,"true");try{const ge=!x[$];v(R=>({...R,[$]:ge})),u(R=>R.map(q=>q.id===$?{...q,favorites_count:ge?(q.favorites_count||0)+1:Math.max(0,(q.favorites_count||0)-1)}:q)),await _.toggleFavorite(l.id,$,ge)}catch(ge){console.error("处理收藏错误:",ge),v(R=>({...R,[$]:!R[$]})),je({title:"操作失败",message:"收藏操作失败，请稍后重试",type:"error"})}finally{setTimeout(()=>{sessionStorage.removeItem(he)},1e3)}}},L=async($,J,he)=>{if(he.preventDefault(),he.stopPropagation(),!l){je({title:"需要登录",message:"请先登录后再投递申请",type:"warning"});return}try{await _.addApplication(l.id,$),m(ge=>({...ge,[$]:!0})),u(ge=>ge.map(R=>R.id===$?{...R,applications_count:(R.applications_count||0)+1}:R)),J?(window.open(J,"_blank"),je({title:"投递成功",message:"已为您打开外部申请页面",type:"success",autoClose:2e3})):je({title:"投递成功",message:"您的申请已成功提交",type:"success"})}catch(ge){console.error("记录投递行为错误:",ge),je({title:"投递失败",message:"申请提交失败，请稍后重试",type:"error"})}},M=$=>{const J=new Date($);return J.getFullYear()>2050?"招满为止":J.toLocaleDateString("zh-CN")},V=$=>!$||!Array.isArray($)?"未分类":$.map(J=>Ux[J]||`未知分类(${J})`).join(", "),K=($,J)=>{J.stopPropagation(),se($),w[$],N($,J)},se=$=>{if(w[$]&&"vibrate"in navigator)try{navigator.vibrate(15)}catch{}};if(!j)return null;const mt=E?{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",marginTop:"15px",paddingTop:"12px",borderTop:"1px solid #eee"}:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",marginTop:"15px",paddingTop:"12px",borderTop:"1px solid #eee",justifyContent:"space-between"},Fe=E?{width:"100%",marginBottom:"10px",textAlign:"center"}:{flex:"0 0 auto",order:1,marginRight:"15px"},te=E?{width:"100%",marginBottom:"10px",textAlign:"center"}:{flex:"0 0 auto",order:2},Nt=E?{width:"100%",display:"flex",justifyContent:"space-between",marginTop:"10px",flexWrap:"nowrap",overflow:"hidden",alignItems:"center",paddingTop:"0",position:"relative",top:"-3px"}:{flex:"1",order:3,display:"flex",justifyContent:"flex-end",marginLeft:"auto",flexWrap:"nowrap",alignItems:"center",position:"relative",top:"-1px",minWidth:"130px"};return a.jsx("div",{className:`popup-jobs-overlay ${b?"visible":""}`,children:a.jsxs("div",{className:`popup-jobs-container ${b?"visible":""}`,ref:C,children:[a.jsxs("div",{className:"popup-banner",style:{backgroundColor:r,display:"flex",justifyContent:"center",alignItems:"center",padding:"16px 20px"},children:[a.jsx("div",{className:"popup-banner-content",style:{flex:"1",display:"flex",justifyContent:"center",textAlign:"center"},children:a.jsx("h2",{style:{fontSize:"26px",fontWeight:700,color:"white",margin:0,padding:0,textAlign:"center"},children:t})}),a.jsx("button",{className:"popup-close-button",onClick:O,children:"×"})]}),a.jsxs("div",{className:"popup-content",children:[f&&a.jsx("div",{className:"error-message",children:a.jsx("p",{children:f})}),d?a.jsx("div",{className:"job-cards",children:Array(9).fill(0).map(($,J)=>a.jsx(zx,{},`skeleton-${J}`))}):c.length===0?a.jsx("div",{className:"no-data-message",children:a.jsx("p",{children:"该分类下暂无招聘信息"})}):a.jsx("div",{className:"job-cards",children:c.map($=>a.jsxs("div",{id:`job-card-${$.id}`,className:`job-card ${w[$.id]?"expanded":"collapsed"}`,style:{position:"relative",zIndex:w[$.id]?500:z===$.id?10:1,transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",transform:w[$.id]?"scale(1.05)":z===$.id?E?"translateY(-3px)":"translateY(-6px)":"scale(1)",boxShadow:w[$.id]?"0 16px 32px rgba(0, 0, 0, 0.25), 0 8px 16px rgba(0, 0, 0, 0.1)":z===$.id?E?"0 8px 16px rgba(0, 0, 0, 0.15)":"0 12px 24px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1)":"0 6px 16px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1)",borderRadius:w[$.id]?"8px 8px 0 0":"8px",overflow:"visible",display:"flex",flexDirection:"column",borderColor:z===$.id&&!w[$.id]?"#d0d0d0":void 0},onClick:J=>K($.id,J),onMouseEnter:()=>B($.id),onMouseLeave:()=>B(null),onTouchStart:()=>se($.id),children:[a.jsxs("div",{className:"job-card-header",children:[a.jsx("h3",{className:"job-title",style:{color:"#000",fontWeight:"bold",fontSize:"18px"},children:$.job_title}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:"6px",gap:"6px",marginBottom:"2px"},children:a.jsxs("div",{className:"tag-container",style:{display:"flex",flexWrap:"wrap",gap:"5px",flex:"1 1 auto",minWidth:"0"},children:[$.description&&a.jsx("div",{className:"company-desc-tag",children:$.description}),a.jsx(Lx,{jobId:$.id})]})}),a.jsx("span",{style:{fontSize:"15px",color:"#222",fontWeight:"bold",display:"block",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.4",marginTop:"8px",borderTop:"1px solid #eee",paddingTop:"8px"},children:$.company}),a.jsx("button",{className:`favorite-button ${x[$.id]?"favorited":""}`,onClick:J=>F($.id,J),title:x[$.id]?"取消收藏":"添加收藏",style:{zIndex:110,opacity:x[$.id]?1:.8},children:a.jsx("i",{className:`favorite-icon ${x[$.id]?"active":""}`})})]}),a.jsxs("div",{className:"job-card-basic",style:{position:"relative"},children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"分类:"}),a.jsx("span",{className:"field-value",children:V($.category_id)})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"工作地点:"}),a.jsx("span",{className:"field-value",children:$.job_location})]}),p[$.id]&&a.jsx("img",{src:"/Deliveried_px200.png",alt:"已投递",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",width:"150px",height:"auto",opacity:.8,pointerEvents:"none",zIndex:10}}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘对象:"}),a.jsx("span",{className:"field-value",children:$.job_graduation_year})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"截止时间:"}),a.jsx("span",{className:"field-value",children:M($.deadline)})]})]}),w[$.id]&&a.jsx("div",{className:"expanded-details-container",style:{position:"absolute",top:"100%",left:"0",width:"100%",zIndex:400},onClick:J=>{J.stopPropagation()},children:a.jsxs("div",{className:"job-card-details",children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘岗位:"}),a.jsx("span",{className:"field-value",children:$.job_position})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘专业:"}),a.jsx("span",{className:"field-value",children:$.job_major||"不限"})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"学历要求:"}),a.jsx("span",{className:"field-value",children:$.job_education_requirement})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"发布时间:"}),a.jsx("span",{className:"field-value",children:M($.post_time)})]})]})}),a.jsxs("div",{className:"job-card-footer",style:{...mt,alignItems:"center",position:"relative",zIndex:3,marginTop:"auto",backgroundColor:"transparent"},children:[a.jsx("div",{className:"toggle-expand",style:{...Fe,display:"flex",alignItems:"center",height:"30px",backgroundColor:"transparent"},onClick:J=>{J.stopPropagation(),N($.id,J)},children:a.jsx("span",{children:w[$.id]?"收起详情":"查看详情"})}),a.jsx("div",{className:"job-application",style:{...te,display:"flex",alignItems:"center",height:"30px",marginLeft:E?0:"10px",marginRight:E?0:"auto",backgroundColor:"transparent"},children:a.jsx("button",{className:`apply-button ${p[$.id]?"applied":""}`,style:{minWidth:E?"100%":"90px",textAlign:"center",whiteSpace:"nowrap"},onClick:J=>L($.id,$.application_link,J),children:p[$.id]?"再次投递":"投递申请"})}),a.jsx("div",{className:"job-stats",style:{...Nt,display:"flex",alignItems:"center",height:"30px",justifyContent:"flex-end",marginLeft:"15px",backgroundColor:"transparent"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",whiteSpace:"nowrap",fontSize:E?"12px":"14px",letterSpacing:"-0.5px",transform:"translateY(-4px)",lineHeight:"1",paddingTop:"0px",position:"relative",top:"-2px",backgroundColor:"transparent"},children:[a.jsxs("span",{children:[$.views_count||0,"浏览"]}),a.jsx("span",{style:{padding:"0 1px"},children:"/"}),a.jsxs("span",{children:[$.favorites_count||0,"收藏"]}),a.jsx("span",{style:{padding:"0 1px"},children:"/"}),a.jsxs("span",{children:[$.applications_count||0,"申请"]})]})})]})]},$.id))})]})]})})};const Wx=()=>{const{supabase:e}=be(),[t,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState([]),[h,f]=g.useState(null),y=g.useRef({}),[w,k]=g.useState(!1),[x,v]=g.useState(null);g.useEffect(()=>{(async()=>{try{o(!0),c(null);const{data:S,error:b}=await e.from("job_categories").select("*").eq("is_active",!0).order("id");if(b)throw new Error("加载分类信息失败: "+b.message);n(S||[])}catch(S){console.error("获取分类信息错误:",S),c(S.message)}finally{o(!1)}})()},[e]),g.useEffect(()=>{const j=localStorage.getItem("favoriteCategoryIds");if(j)try{const S=JSON.parse(j);d(S)}catch(S){console.error("解析收藏数据失败",S),d([])}},[]),g.useEffect(()=>{if(t.length===0)return;const j=localStorage.getItem("categoryOrder"),S=t.filter(T=>T.id===19||T.id===20);let b=t.filter(T=>T.id!==19&&T.id!==20);if(j)try{const T=JSON.parse(j);b.sort((E,I)=>{const P=T.indexOf(E.id),D=T.indexOf(I.id);return P===-1&&D===-1?E.id-I.id:P===-1?1:D===-1?-1:P-D})}catch(T){console.error("解析顺序数据失败",T)}b.sort((T,E)=>{const I=u.includes(T.id),P=u.includes(E.id);return I&&!P?-1:!I&&P?1:0}),s([...S,...b])},[t,u]);const p=(j,S)=>{r.findIndex(T=>T.id===j)!==-1&&(f({id:j,state:"start"}),setTimeout(()=>{f({id:j,state:"enlarge"});let T=[...u];S?T.includes(j)||T.push(j):T=T.filter(P=>P!==j),localStorage.setItem("favoriteCategoryIds",JSON.stringify(T));const E=t.filter(P=>P.id===19||P.id===20).length;let I=-1;if(S){const P=r.filter(z=>u.includes(z.id)&&z.id!==j);let D=E;for(let z=0;z<P.length;z++){if(P[z].id>j){D=r.findIndex(B=>B.id===P[z].id);break}z===P.length-1&&(D=E+P.length)}P.length===0&&(D=E),I=D}else{const P=E+u.filter(U=>U!==j).length,D=r.filter(U=>!u.includes(U.id)&&U.id!==19&&U.id!==20&&U.id!==j);let z=P,B=!1;for(let U=0;U<D.length;U++)if(D[U].id>j){B=!0,z=r.findIndex(O=>O.id===D[U].id);break}!B&&D.length>0&&(z=P),I=z}setTimeout(()=>{f({id:j,state:"prepare-move"}),f(S&&I!==-1?{id:j,state:"prepare-move",targetIndex:I}:!S&&I!==-1?{id:j,state:"prepare-move",targetIndex:I}:{id:j,state:"prepare-move"}),setTimeout(()=>{d(T),f({id:j,state:"pre-move"}),setTimeout(()=>{f({id:j,state:"move"}),setTimeout(()=>{f(null)},650)},100)},450)},400)},50))},m=(j,S,b)=>{w?(k(!1),setTimeout(()=>{v({id:j,name:S,count:b,color:_(j)}),k(!0)},350)):(v({id:j,name:S,count:b,color:_(j)}),k(!0))},_=j=>({1:"#0055d4",2:"#0077cc",3:"#5c5c6d",4:"#26a826",5:"#0066cc",6:"#5840cb",7:"#e67700",8:"#8000cc",9:"#009e9e",10:"#445e69",11:"#0066cc",12:"#e6194b",13:"#cc7700",14:"#00994d",15:"#8800cc",16:"#cc7700",17:"#737a22",18:"#666666",19:"#0055d4",20:"#8800cc"})[j]||"#666666",C=()=>{k(!1)};return a.jsxs("div",{className:"category-list-container",children:[a.jsx("h2",{children:"招聘信息分类"}),l&&a.jsx("div",{className:"error-message",children:a.jsx("p",{children:l})}),i?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载中..."})}):r.length===0?a.jsx("div",{className:"no-data-message",children:a.jsx("p",{children:"暂无分类信息"})}):a.jsx("div",{className:"category-grid",children:r.map((j,S)=>{const b=j.id===19||j.id===20,T=(h==null?void 0:h.id)===j.id;u.includes(j.id);const I=(()=>{if(!h)return null;if(T)return h.state;if(h.state!=="prepare-move"&&h.state!=="pre-move")return null;const U=S,O=r.findIndex(N=>N.id===h.id);if(b)return null;if(u.includes(h.id)===!1&&h.targetIndex!==void 0){const N=h.targetIndex;if(U>=N&&U<O)return"shift-right";if(U>O||U<N)return null}else if(u.includes(h.id)===!0&&h.targetIndex!==void 0){const N=h.targetIndex;if(U>O&&U<N)return h.state==="move"?"shift-left-end":"shift-left";if(U>=N||U<=O)return null}return null})(),P=I==="shift-right",D=I==="shift-left",z=I==="shift-left-end";let B="";return T&&((h==null?void 0:h.state)==="enlarge"?B="favorite-animation":(h==null?void 0:h.state)==="prepare-move"?B="favorite-animation favorite-prepare-move":(h==null?void 0:h.state)==="pre-move"?B="favorite-pre-move":(h==null?void 0:h.state)==="move"&&(B="favorite-move")),a.jsx("div",{className:`category-item 
                  ${B==="favorite-move"?"favorite-move":""} 
                  ${P?"make-space":""}
                  ${D?"close-space":""}
                  ${z?"close-space-end":""}
                  category-card-transition`,"data-category-id":j.id,ref:U=>{U&&(y.current[`category-${j.id}`]=U)},children:a.jsx(Dx,{id:j.id,name:j.category,count:j.active_job_count,index:S,isDraggable:!b,onFavoriteToggle:p,onCardClick:m,animationClass:B==="favorite-animation"?"favorite-animation":B==="favorite-animation favorite-prepare-move"?"favorite-animation favorite-prepare-move":B==="favorite-pre-move"?"favorite-pre-move":""})},j.id)})}),x&&a.jsx(Jx,{categoryId:x.id,categoryName:x.name,jobCount:x.count,accentColor:x.color,isVisible:w,onClose:C})]})};const Zu={1:"国企",2:"外企",3:"事业单位",4:"银行/金融",5:"互联网",6:"制造业",7:"游戏",8:"快消/品牌",9:"生物医药",10:"汽车/新能源",11:"科技",12:"美妆",13:"传媒",14:"一线大厂",15:"小而美",16:"教育",17:"地产/建筑",18:"其他",19:"24h新开",20:"往届可投"},Vx=()=>{const{categoryId:e}=jv(),{supabase:t,user:n}=be(),[r,s]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState(0),[y,w]=g.useState(!0),[k,x]=g.useState(""),v=g.useRef(null),p=g.useRef(null),[m,_]=g.useState({}),[C,j]=g.useState({}),[S,b]=g.useState({}),T=Bt.getInstance(),E=20;g.useEffect(()=>{const O=parseInt(e||"0",10);x(Zu[O]||"未知分类")},[e]);const I=g.useCallback(async O=>{if(!e)return;const N=parseInt(e,10);if(isNaN(N)){d("无效的分类ID"),o(!1);return}try{const F=O===0;F?o(!0):c(!0);let L=t.from("job_recruitments").select("*").eq("is_active",!0).order("post_time",{ascending:!1}).range(O*E,(O+1)*E-1);N<=18?L=L.contains("category_id",[N]):N===19?L=L.eq("is_24hnew",!0):N===20&&(L=L.eq("is_pregraduation",!0));const{data:M,error:V}=await L;if(V)throw new Error("加载招聘信息失败: "+V.message);s(F?M||[]:K=>[...K,...M||[]]),w((M||[]).length===E),f(O)}catch(F){console.error("获取招聘信息错误:",F),d(F.message)}finally{o(!1),c(!1)}},[e,t]);g.useEffect(()=>{s([]),f(0),w(!0),I(0)},[e,I]),g.useEffect(()=>{if(!n)return;(async()=>{try{const N=await T.getFavoriteJobIds(n.id),F={};N.forEach(V=>{F[V]=!0}),j(F);const L=await T.getApplicationJobIds(n.id),M={};L.forEach(V=>{M[V]=!0}),b(M)}catch(N){console.error("加载用户行为状态错误:",N)}})()},[n,T]),g.useEffect(()=>{if(!i)return v.current&&v.current.disconnect(),v.current=new IntersectionObserver(O=>{O[0].isIntersecting&&y&&!l&&I(h+1)},{threshold:.5}),p.current&&v.current.observe(p.current),()=>{v.current&&v.current.disconnect()}},[i,y,l,h,I]);const P=g.useCallback(async(O,N)=>{N&&(N.preventDefault(),N.stopPropagation()),_(F=>{const L=F[O];if(!L){const M=`job_${O}_viewed`;if(!sessionStorage.getItem(M))try{T.incrementJobViews(O),sessionStorage.setItem(M,"true"),s(V=>V.map(K=>K.id===O?{...K,views_count:(K.views_count||0)+1}:K)),setTimeout(()=>{sessionStorage.removeItem(M)},5*60*1e3)}catch(V){console.error("增加浏览次数错误:",V)}}return{...F,[O]:!L}})},[T,s]),D=g.useCallback(async(O,N)=>{if(N.preventDefault(),N.stopPropagation(),!n){je({title:"需要登录",message:"请先登录后再收藏职位",type:"warning"});return}const F=`favorite_action_${O}`;if(!sessionStorage.getItem(F)){sessionStorage.setItem(F,"true");try{const L=!C[O];j(M=>({...M,[O]:L})),s(M=>M.map(V=>V.id===O?{...V,favorites_count:L?(V.favorites_count||0)+1:Math.max(0,(V.favorites_count||0)-1)}:V)),await T.toggleFavorite(n.id,O,L)}catch(L){console.error("处理收藏错误:",L),j(M=>({...M,[O]:!M[O]})),je({title:"操作失败",message:"收藏操作失败，请稍后重试",type:"error"})}finally{setTimeout(()=>{sessionStorage.removeItem(F)},1e3)}}},[T,n,C,s]),z=g.useCallback(async(O,N,F)=>{if(F.preventDefault(),F.stopPropagation(),!n){je({title:"需要登录",message:"请先登录后再投递申请",type:"warning"});return}try{await T.addApplication(n.id,O),b(L=>({...L,[O]:!0})),s(L=>L.map(M=>M.id===O?{...M,applications_count:(M.applications_count||0)+1}:M)),N?(window.open(N,"_blank"),je({title:"投递成功",message:"已为您打开外部申请页面",type:"success",autoClose:2e3})):je({title:"投递成功",message:"您的申请已成功提交",type:"success"})}catch(L){console.error("记录投递行为错误:",L),je({title:"投递失败",message:"申请提交失败，请稍后重试",type:"error"})}},[T,n,s]),B=O=>new Date(O).toLocaleDateString("zh-CN"),U=O=>!O||!Array.isArray(O)?"未分类":O.map(N=>Zu[N]||`未知分类(${N})`).join(", ");return a.jsxs("div",{className:"category-jobs-container",children:[a.jsxs("div",{className:"category-header",children:[a.jsx(En,{to:"/",className:"back-button",children:"返回分类"}),a.jsxs("h2",{children:[k,"招聘信息"]})]}),u&&a.jsx("div",{className:"error-message",children:a.jsx("p",{children:u})}),i&&r.length===0?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载中..."})}):r.length===0?a.jsx("div",{className:"no-data-message",children:a.jsx("p",{children:"该分类下暂无招聘信息"})}):a.jsx("div",{className:"job-cards",children:r.map((O,N)=>a.jsxs("div",{className:`job-card ${m[O.id]?"expanded":"collapsed"}`,onClick:F=>P(O.id,F),ref:N===r.length-1?p:null,children:[a.jsxs("div",{className:"job-card-header",children:[a.jsx("h3",{className:"job-title",children:O.job_title}),a.jsx("span",{className:"job-company",children:O.company}),a.jsx("button",{className:`favorite-button ${C[O.id]?"favorited":""}`,onClick:F=>D(O.id,F),title:C[O.id]?"取消收藏":"添加收藏",children:a.jsx("i",{className:`favorite-icon ${C[O.id]?"active":""}`})})]}),a.jsxs("div",{className:"job-card-basic",style:{position:"relative"},children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"分类:"}),a.jsx("span",{className:"field-value",children:U(O.category_id)})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"工作地点:"}),a.jsx("span",{className:"field-value",children:O.job_location})]}),S[O.id]&&a.jsx("img",{src:"/Deliveried_px200.png",alt:"已投递",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",width:"150px",height:"auto",opacity:.8,pointerEvents:"none",zIndex:10}}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘对象:"}),a.jsx("span",{className:"field-value",children:O.job_graduation_year})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"截止时间:"}),a.jsx("span",{className:"field-value",children:B(O.deadline)})]})]}),m[O.id]&&a.jsxs("div",{className:"job-card-details",children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘岗位:"}),a.jsx("span",{className:"field-value",children:O.job_position})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘专业:"}),a.jsx("span",{className:"field-value",children:O.job_major||"不限"})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"学历要求:"}),a.jsx("span",{className:"field-value",children:O.job_education_requirement})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"发布时间:"}),a.jsx("span",{className:"field-value",children:B(O.post_time)})]}),O.description&&a.jsxs("div",{className:"job-description",children:[a.jsx("h4",{children:"公司描述"}),a.jsx("p",{children:O.description})]})]}),a.jsxs("div",{className:"job-card-footer",children:[a.jsx("div",{className:"toggle-expand",onClick:F=>P(O.id,F),children:a.jsx("span",{children:m[O.id]?"收起详情":"查看详情"})}),a.jsx("div",{className:"job-application",children:a.jsx("button",{className:`apply-button ${S[O.id]?"applied":""}`,onClick:F=>z(O.id,O.application_link,F),children:S[O.id]?"再次投递":"投递申请"})}),a.jsxs("div",{className:"job-stats",children:[a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon views-icon"})," ",O.views_count||0," 浏览"]}),a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon favs-icon"})," ",O.favorites_count||0," 收藏"]}),a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon apps-icon"})," ",O.applications_count||0," 申请"]})]})]})]},O.id))}),l&&a.jsx("div",{className:"loading-more",children:a.jsx("p",{children:"加载更多..."})}),!i&&!l&&!y&&r.length>0&&a.jsx("div",{className:"no-more-jobs",children:a.jsx("p",{children:"已加载全部招聘信息"})})]})};const qx={1:"国企",2:"外企",3:"事业单位",4:"银行/金融",5:"互联网",6:"制造业",7:"游戏",8:"快消/品牌",9:"生物医药",10:"汽车/新能源",11:"科技",12:"美妆",13:"传媒",14:"一线大厂",15:"小而美",16:"教育",17:"地产/建筑",18:"其他"},Hx=()=>{const{supabase:e,user:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState({}),[d,h]=g.useState({}),[f,y]=g.useState({}),w=Bt.getInstance();g.useEffect(()=>{(async()=>{try{i(!0),l(null);const{data:C,error:j}=await e.from("job_recruitments").select("*").eq("is_active",!0).order("post_time",{ascending:!1});if(j)throw new Error("加载招聘信息失败: "+j.message);r(C||[])}catch(C){console.error("获取招聘信息错误:",C),l(C.message)}finally{i(!1)}})()},[e]),g.useEffect(()=>{if(!t)return;(async()=>{try{const C=await w.getFavoriteJobIds(t.id),j={};C.forEach(T=>{j[T]=!0}),h(j);const S=await w.getApplicationJobIds(t.id),b={};S.forEach(T=>{b[T]=!0}),y(b)}catch(C){console.error("加载用户行为状态错误:",C)}})()},[t,w]);const k=g.useCallback(async _=>{u(C=>{const j=C[_];if(!j)try{w.incrementJobViews(_)}catch(S){console.error("增加浏览次数错误:",S)}return{...C,[_]:!j}})},[w]),x=g.useCallback(async(_,C)=>{if(C.stopPropagation(),!t){je({title:"需要登录",message:"请先登录后再收藏职位",type:"warning"});return}try{const j=!d[_];await w.toggleFavorite(t.id,_,j),h(S=>({...S,[_]:j})),r(S=>S.map(b=>b.id===_?{...b,favorites_count:j?(b.favorites_count||0)+1:Math.max(0,(b.favorites_count||0)-1)}:b))}catch(j){console.error("处理收藏错误:",j),je({title:"操作失败",message:"收藏操作失败，请稍后重试",type:"error"})}},[w,t,d]),v=g.useCallback(async(_,C,j)=>{if(j.stopPropagation(),!t){je({title:"需要登录",message:"请先登录后再投递申请",type:"warning"});return}try{await w.addApplication(t.id,_),y(S=>({...S,[_]:!0})),r(S=>S.map(b=>b.id===_?{...b,applications_count:(b.applications_count||0)+1}:b)),C?(window.open(C,"_blank"),je({title:"投递成功",message:"已为您打开外部申请页面",type:"success",autoClose:2e3})):je({title:"投递成功",message:"您的申请已成功提交",type:"success"})}catch(S){console.error("记录投递行为错误:",S),je({title:"投递失败",message:"申请提交失败，请稍后重试",type:"error"})}},[w,t]),p=_=>new Date(_).toLocaleDateString("zh-CN"),m=_=>!_||!Array.isArray(_)?"未分类":_.map(C=>qx[C]||`未知分类(${C})`).join(", ");return a.jsxs("div",{className:"job-display-container",children:[a.jsx("h2",{children:"招聘信息一览"}),o&&a.jsx("div",{className:"error-message",children:a.jsx("p",{children:o})}),s?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载中..."})}):n.length===0?a.jsx("div",{className:"no-data-message",children:a.jsx("p",{children:"暂无招聘信息"})}):a.jsx("div",{className:"job-cards",children:n.map(_=>a.jsxs("div",{className:`job-card ${c[_.id]?"expanded":"collapsed"}`,onClick:()=>k(_.id),children:[a.jsxs("div",{className:"job-card-header",children:[a.jsx("h3",{className:"job-title",children:_.job_title}),a.jsx("span",{className:"job-company",children:_.company}),a.jsx("button",{className:`favorite-button ${d[_.id]?"favorited":""}`,onClick:C=>x(_.id,C),title:d[_.id]?"取消收藏":"添加收藏",children:a.jsx("i",{className:`favorite-icon ${d[_.id]?"active":""}`})})]}),a.jsxs("div",{className:"job-card-basic",style:{position:"relative"},children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"分类:"}),a.jsx("span",{className:"field-value",children:m(_.category_id)})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"工作地点:"}),a.jsx("span",{className:"field-value",children:_.job_location})]}),f[_.id]&&a.jsx("img",{src:"/Deliveried_px200.png",alt:"已投递",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",width:"150px",height:"auto",opacity:.8,pointerEvents:"none",zIndex:10}}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘对象:"}),a.jsx("span",{className:"field-value",children:_.job_graduation_year})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"截止时间:"}),a.jsx("span",{className:"field-value",children:p(_.deadline)})]})]}),c[_.id]&&a.jsxs("div",{className:"job-card-details",children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘岗位:"}),a.jsx("span",{className:"field-value",children:_.job_position})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘专业:"}),a.jsx("span",{className:"field-value",children:_.job_major||"不限"})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"学历要求:"}),a.jsx("span",{className:"field-value",children:_.job_education_requirement})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"发布时间:"}),a.jsx("span",{className:"field-value",children:p(_.post_time)})]}),_.description&&a.jsxs("div",{className:"job-description",children:[a.jsx("h4",{children:"公司描述"}),a.jsx("p",{children:_.description})]})]}),a.jsxs("div",{className:"job-card-footer",children:[a.jsx("div",{className:"toggle-expand",children:a.jsx("span",{children:c[_.id]?"收起详情":"查看详情"})}),a.jsx("div",{className:"job-application",children:a.jsx("button",{className:`apply-button ${f[_.id]?"applied":""}`,onClick:C=>v(_.id,_.application_link,C),disabled:f[_.id],children:f[_.id]?"已投递":"投递申请"})}),a.jsxs("div",{className:"job-stats",children:[a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon views-icon"})," ",_.views_count||0," 浏览"]}),a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon favs-icon"})," ",_.favorites_count||0," 收藏"]}),a.jsxs("span",{className:"job-stat",children:[a.jsx("i",{className:"stat-icon apps-icon"})," ",_.applications_count||0," 申请"]})]})]})]},_.id))}),!1]})};const Kx={1:"国企",2:"外企",3:"事业单位",4:"银行/金融",5:"互联网",6:"制造业",7:"游戏",8:"快消/品牌",9:"生物医药",10:"汽车/新能源",11:"科技",12:"美妆",13:"传媒",14:"一线大厂",15:"小而美",16:"教育",17:"地产/建筑",18:"其他"},Gx=()=>{const{user:e,logout:t}=be(),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState("favorite"),[c,u]=g.useState(!0),[d,h]=g.useState(!1),[f,y]=g.useState(!1),[w,k]=g.useState({}),x=Bt.getInstance();g.useEffect(()=>{e&&(u(!0),v(),p(),u(!1))},[e]);const v=g.useCallback(async()=>{e&&(h(!0),x.getUserFavoriteJobs(e.id,S=>{r(S),h(!1)},!0))},[e,x]),p=g.useCallback(async()=>{e&&(y(!0),x.getUserApplicationJobs(e.id,S=>{i(S),y(!1)},!0))},[e,x]),m=S=>new Date(S).toLocaleDateString("zh-CN"),_=S=>!S||!Array.isArray(S)?"未分类":S.map(b=>Kx[b]||`未知分类(${b})`).join(", "),C=async S=>{if(e)try{await x.toggleFavorite(e.id,S,!1),v()}catch(b){console.error("取消收藏错误:",b),alert("操作失败，请重试")}},j=g.useCallback(S=>{k(b=>{const T=b[S];return{...b,[S]:!T}})},[]);return e?a.jsxs("div",{className:"user-profile-container",children:[a.jsxs("div",{className:"user-profile-header",children:[a.jsx("h2",{children:"个人中心"}),a.jsxs("div",{className:"user-info",children:[a.jsxs("p",{className:"welcome-text",children:["欢迎，",e.username]}),a.jsx("button",{className:"logout-button",onClick:t,children:"退出登录"})]})]}),a.jsxs("div",{className:"user-actions-tabs",children:[a.jsxs("div",{className:`tab ${o==="favorite"?"active":""}`,onClick:()=>l("favorite"),children:["我的收藏 (",n.length,")"]}),a.jsxs("div",{className:`tab ${o==="application"?"active":""}`,onClick:()=>l("application"),children:["我的投递 (",s.length,")"]})]}),a.jsx("div",{className:"user-actions-content",children:c?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载中..."})}):a.jsxs(a.Fragment,{children:[o==="favorite"&&a.jsx("div",{className:"user-favorites",children:d?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载收藏中..."})}):n.length===0?a.jsx("div",{className:"empty-list",children:a.jsx("p",{children:"暂无收藏的招聘信息"})}):a.jsx("div",{className:"job-list",children:n.map(S=>a.jsxs("div",{className:`job-item ${w[S.id]?"expanded":"collapsed"}`,children:[a.jsxs("div",{className:"job-header",children:[a.jsx("h3",{className:"job-title",children:S.job_title}),a.jsx("span",{className:"job-company",children:S.company}),a.jsx("button",{className:"cancel-button",onClick:()=>C(S.id),title:"取消收藏",children:"×"})]}),a.jsxs("div",{className:"job-details",children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"分类:"}),a.jsx("span",{className:"field-value",children:_(S.category_id)})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"工作地点:"}),a.jsx("span",{className:"field-value",children:S.job_location})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘岗位:"}),a.jsx("span",{className:"field-value",children:S.job_position})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"截止时间:"}),a.jsx("span",{className:"field-value",children:m(S.deadline)})]}),w[S.id]&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"学历要求:"}),a.jsx("span",{className:"field-value",children:S.job_education_requirement})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"专业要求:"}),a.jsx("span",{className:"field-value",children:S.job_major})]}),a.jsxs("div",{className:"job-field full-width",children:[a.jsx("span",{className:"field-label",children:"职位描述:"}),a.jsx("div",{className:"field-value description",children:S.description})]})]})]}),a.jsxs("div",{className:"job-actions",children:[a.jsx("a",{href:S.application_link,target:"_blank",rel:"noopener noreferrer",className:"apply-button",children:"前往投递"}),a.jsx("button",{className:"detail-button",onClick:()=>j(S.id),children:w[S.id]?"收起详情":"查看详情"})]})]},S.id))})}),o==="application"&&a.jsx("div",{className:"user-applications",children:f?a.jsx("div",{className:"loading-indicator",children:a.jsx("p",{children:"加载投递记录中..."})}):s.length===0?a.jsx("div",{className:"empty-list",children:a.jsx("p",{children:"暂无投递的招聘信息"})}):a.jsx("div",{className:"job-list",children:s.map(S=>a.jsxs("div",{className:`job-item ${w[S.id]?"expanded":"collapsed"}`,children:[a.jsxs("div",{className:"job-header",children:[a.jsx("h3",{className:"job-title",children:S.job_title}),a.jsx("span",{className:"job-company",children:S.company}),a.jsx("span",{className:"applied-tag",children:"已投递"})]}),a.jsxs("div",{className:"job-details",children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"分类:"}),a.jsx("span",{className:"field-value",children:_(S.category_id)})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"工作地点:"}),a.jsx("span",{className:"field-value",children:S.job_location})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"招聘岗位:"}),a.jsx("span",{className:"field-value",children:S.job_position})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"截止时间:"}),a.jsx("span",{className:"field-value",children:m(S.deadline)})]}),w[S.id]&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"学历要求:"}),a.jsx("span",{className:"field-value",children:S.job_education_requirement})]}),a.jsxs("div",{className:"job-field",children:[a.jsx("span",{className:"field-label",children:"专业要求:"}),a.jsx("span",{className:"field-value",children:S.job_major})]}),a.jsxs("div",{className:"job-field full-width",children:[a.jsx("span",{className:"field-label",children:"职位描述:"}),a.jsx("div",{className:"field-value description",children:S.description})]})]})]}),a.jsxs("div",{className:"job-actions",children:[a.jsx("a",{href:S.application_link,target:"_blank",rel:"noopener noreferrer",className:"view-button",children:"前往投递"}),a.jsx("button",{className:"detail-button",onClick:()=>j(S.id),children:w[S.id]?"收起详情":"查看详情"})]})]},S.id))})})]})})]}):a.jsx("div",{className:"user-profile-container",children:a.jsxs("div",{className:"login-message",children:[a.jsx("h2",{children:"请先登录"}),a.jsx("p",{children:"您需要登录后才能查看个人中心"})]})})};function Qx(){return a.jsxs("div",{className:"app",children:[a.jsx(Aw,{}),a.jsx("main",{className:"main-content",children:a.jsxs(Lv,{children:[a.jsx(Tt,{path:"/",element:a.jsx(Wx,{})}),a.jsx(Tt,{path:"/category/:categoryId",element:a.jsx(Vx,{})}),a.jsx(Tt,{path:"/jobs",element:a.jsx(Hx,{})}),a.jsx(Tt,{path:"/login/admin",element:a.jsx(Iw,{})}),a.jsx(Tt,{path:"/login/user",element:a.jsx(Dw,{})}),a.jsx(Tt,{path:"/admin/dashboard",element:a.jsx(Qw,{})}),a.jsx(Tt,{path:"/user/dashboard",element:a.jsx(Ix,{})}),a.jsx(Tt,{path:"/user/profile",element:a.jsx(Gx,{})})]})})]})}Ya.createRoot(document.getElementById("root")).render(a.jsx(bp.StrictMode,{children:a.jsx(ly,{children:a.jsx(Ow,{children:a.jsx(Lw,{children:a.jsx(Qx,{})})})})}));export{ed as g};
